<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Powersee的博客</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://powersee.github.io/"/>
  <updated>2023-03-14T06:08:26.250Z</updated>
  <id>https://powersee.github.io/</id>
  
  <author>
    <name>powersee</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>记一次清理服务器硬盘空间</title>
    <link href="https://powersee.github.io/2023/03/clean-up-the-server-disk/"/>
    <id>https://powersee.github.io/2023/03/clean-up-the-server-disk/</id>
    <published>2023-03-14T06:06:45.000Z</published>
    <updated>2023-03-14T06:08:26.250Z</updated>
    
    <content type="html"><![CDATA[<p>服务器的硬盘空间告急，只剩下 100 多 M 可用。</p><p>我好像也没怎么存东西在里面呀，估计又是哪些软件生成日志之类的，占满了硬盘空间。</p><p>排查的话可以用 <code>nudu</code> ，如果没有这个命令可以用 <code>apt</code> 装一下。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">nudu /</span><br></pre></td></tr></table></figure><p>让它直接分析整个根目录。完成后它会按占用空间从大到小排序</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">13.2 GiB [##########] /home                   </span><br><span class="line"> 3.8 GiB [##        ] /usr</span><br><span class="line"> 2.6 GiB [#         ] /var</span><br><span class="line">81.3 MiB [          ] /boot</span><br><span class="line">77.5 MiB [          ] /root</span><br><span class="line"> 9.0 MiB [          ] /etc</span><br></pre></td></tr></table></figure><p>我们可以很直观地看出哪些目录占用的空间大，然后根据实际情况清理。home 目录就比较简单了，不用的东西删掉就行。</p><p>而我这边发现</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/var/log/journal/</span><br></pre></td></tr></table></figure><p>居然占用了 1.4G 的空间，从名字也可以知道它是日志文件。</p><p>执行一下 <code>journalctl</code> 我发现了这个</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Mar 14 10:30:14 VM-4-3-ubuntu systemd[1]: tat_agent.service: Scheduled restart job, restart counter is at 10194343.</span><br><span class="line">Mar 14 10:30:14 VM-4-3-ubuntu systemd[1]: Stopped tat_agent.</span><br><span class="line">Mar 14 10:30:14 VM-4-3-ubuntu systemd[1]: Starting tat_agent...</span><br><span class="line">Mar 14 10:30:14 VM-4-3-ubuntu systemd[1632911]: tat_agent.service: Changing to the requested working directory failed: No such file or&gt;</span><br><span class="line">Mar 14 10:30:14 VM-4-3-ubuntu systemd[1632911]: tat_agent.service: Failed at step CHDIR spawning /usr/local/qcloud/tat_agent/tat_agent&gt;</span><br><span class="line">Mar 14 10:30:14 VM-4-3-ubuntu systemd[1]: tat_agent.service: Control process exited, code=exited, status=200/CHDIR</span><br><span class="line">Mar 14 10:30:14 VM-4-3-ubuntu systemd[1]: tat_agent.service: Failed with result &#x27;exit-code&#x27;.</span><br><span class="line">Mar 14 10:30:14 VM-4-3-ubuntu systemd[1]: Failed to start tat_agent.</span><br><span class="line">Mar 14 10:30:20 VM-4-3-ubuntu systemd[1]: tat_agent.service: Scheduled restart job, restart counter is at 10194344.</span><br><span class="line">Mar 14 10:30:20 VM-4-3-ubuntu systemd[1]: Stopped tat_agent.</span><br><span class="line">Mar 14 10:30:20 VM-4-3-ubuntu systemd[1]: Starting tat_agent...</span><br><span class="line">Mar 14 10:30:20 VM-4-3-ubuntu systemd[1632929]: tat_agent.service: Changing to the requested working directory failed: No such file or&gt;</span><br><span class="line">Mar 14 10:30:20 VM-4-3-ubuntu systemd[1632929]: tat_agent.service: Failed at step CHDIR spawning /usr/local/qcloud/tat_agent/tat_agent&gt;</span><br><span class="line">Mar 14 10:30:20 VM-4-3-ubuntu systemd[1]: tat_agent.service: Control process exited, code=exited, status=200/CHDIR</span><br><span class="line">Mar 14 10:30:20 VM-4-3-ubuntu systemd[1]: tat_agent.service: Failed with result &#x27;exit-code&#x27;.</span><br><span class="line">Mar 14 10:30:20 VM-4-3-ubuntu systemd[1]: Failed to start tat_agent.</span><br></pre></td></tr></table></figure><p>这个 <code>tat_agent.service</code> 5、6 秒就执行一下，由于我使用的是腾讯的云服务器，而我之前把 <code>/usr/local/qcloud/</code> 这个目录给删除了，所它一直报错，一直重试……</p><p>解决方法：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">systemctl stop tat_agent</span><br><span class="line">systemctl disable tat_agent</span><br><span class="line">rm -f /etc/systemd/system/tat_agent.service</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Mar 14 10:36:41 VM-4-3-ubuntu systemd[1]: Stopped tat_agent.</span><br></pre></td></tr></table></figure><p>至于 <code>/var/log/journal/</code> 我直接 <code>rm -r</code> 给删除了。</p><p>然后再清理一下 home 目录中的文件，硬盘可用空间变成了 8.8G 了。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;服务器的硬盘空间告急，只剩下 100 多 M 可用。&lt;/p&gt;
&lt;p&gt;我好像也没怎么存东西在里面呀，估计又是哪些软件生成日志之类的，占满了硬盘空间。&lt;/p&gt;
&lt;p&gt;排查的话可以用 &lt;code&gt;nudu&lt;/code&gt; ，如果没有这个命令可以用 &lt;code&gt;apt&lt;/code&gt; 
      
    
    </summary>
    
    
      <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="Linux" scheme="https://powersee.github.io/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>群晖 NAS 里怎么更新 Docker 容器</title>
    <link href="https://powersee.github.io/2023/03/synology-update-docker-container/"/>
    <id>https://powersee.github.io/2023/03/synology-update-docker-container/</id>
    <published>2023-03-13T11:25:36.000Z</published>
    <updated>2023-03-13T11:36:56.801Z</updated>
    
    <content type="html"><![CDATA[<p>我在使用一款自建的开源备忘录应用 memos，我把它运行中群晖里面。使用的是 docker，一条命令即可运行起来</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker run -d --name memos -p 5230:5230 -v ~/.memos/:/var/opt/memos neosmemo/memos:latest</span><br></pre></td></tr></table></figure><p>我在群晖里面，网络直接使用 host，因此不需要填写端口，只需在「存储空间」里选择一个目录，来映射到容器内的 <code>/var/opt/memos</code>。</p><p>目前使用了两周多了，感觉还挺不错的。</p><p>现在的问题是，我运行的是 <code>0.10.3</code> 的版本，目前最新的版本已经到 <code>0.11.2</code> 了，我想要升级到最新的版本。</p><p>下面是我的实际操作。</p><p>首先我们要拉取最新的镜像，依旧到注册表搜 memos，右键然后点「下载此映像」，或者直接双击也可以。</p><p><img src="/img/2023/image-20230313180358859.png" alt="search-memos"></p><p>镜像下载完成之后，我们把容器停掉，再重新打开，是没有效果的，依然还是旧版本的。此时应该做的是，创建一个新的容器。但是在群晖里面，我们不需要重新填写容器的配置，因为它可以直接复制。选中一个容器，然后上方的设置里面，有个「复制设置」的选项。</p><p><img src="/img/2023/image-20230313181037438.png" alt="copy-settings"></p><p>点击之后，它会让我们「输入新容器的名称」，我给它起名为 「memos-0.11.2」，因为我估计过段时间又得来升级的，那就每次复制后都填一下当前的版本吧。</p><p>然后我们可以启动这个新的容器，看看运行正不正常，正常的话，就可以删掉旧的容器了。</p><p>我这个容器比较简单，而且网络方面直接用 host，所以不用设置端口。</p><p>但是我发现其它需要设置端口的容器，复制之后，端口会发生变化的。例如我有一个容器的端口是 10086，复制之后，群晖自动给新的容器生成一个随机端口，如 <code>49155</code> ，所以看来，带端口的容器，复制之后，还得修改一下。</p><p><img src="/img/2023/image-20230313190505946.png" alt="port-10086"></p><p>但是我们不能直接修改新容器的端口，因为不能两个容器同时使用一个端口。例如我这里的 <code>10086 </code>已经被就容器占用了，新的容器就没法用。虽然直接把旧容器删除了，新容器就可以使用 <code>10086</code> 这个端口，但是现在并不清楚新容器，是否能正常运行，所以不建议删。</p><p>我们可以先修改旧容器的端口，例如改为 <code>10087</code>，然后再修改新容器的。这样新的容器应该就可以运行起来了。</p><p>不过，此时如果你用命令行或者 portainer 查询镜像，应该会发现，多出一个 TAG 为 none 的镜像。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># docker images</span><br><span class="line">REPOSITORY                TAG               IMAGE ID       CREATED         SIZE</span><br><span class="line">neosmemo/memos            latest            8b795254a96c   2 days ago      34.5MB</span><br><span class="line">neosmemo/memos            &lt;none&gt;            50d503594da5   4 weeks ago     24.8MB</span><br></pre></td></tr></table></figure><p>从日期我们也可以判断出，none 就是那个旧的版本。想要删除它，我们需要把旧的容器删除掉。</p><p>之后如果你是用 portainer 的话，勾选然后删除即可。如果没装 portainer，那就用命令行来删除吧，因为群晖的 docker 面板里，在映像中是找不到它的。</p><p>先 ssh 连接群晖，执行 <code>sudo i</code> 切换到 root 用户。如果你也为每次都要这样操作一次而感到困扰，可以参考一下我之前的文章：<a href="/2023/03/synology-root-ssh/">群晖建立永久 root 账号</a></p><p>需要先列出设备中所有 docker 镜像</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure><p>然后找到 none 的 IMAGE ID，像我这里是 <code>50d503594da5</code>，然后可以像这样来删除它</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker rmi 50d503594da5</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;我在使用一款自建的开源备忘录应用 memos，我把它运行中群晖里面。使用的是 docker，一条命令即可运行起来&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span c
      
    
    </summary>
    
    
      <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="群晖" scheme="https://powersee.github.io/tags/%E7%BE%A4%E6%99%96/"/>
    
  </entry>
  
  <entry>
    <title>如何创建一个指定像素的矩形？Photoshop 和 Affinity Photo</title>
    <link href="https://powersee.github.io/2023/03/specified-pixels-rectangle/"/>
    <id>https://powersee.github.io/2023/03/specified-pixels-rectangle/</id>
    <published>2023-03-12T15:23:05.000Z</published>
    <updated>2023-03-12T15:37:25.695Z</updated>
    
    <content type="html"><![CDATA[<p>在 Photoshop 里面，我们先在左边选择矩形工具，快捷键为 U</p><p><img src="/img/2023/image-20230312232057058.png" alt="矩形工具"></p><p>然后按住鼠标随意画出一个矩形。之后来到右边，直接在属性里面修改它的宽高值就行，例如我这里改成 1920 和 1080</p><p><img src="/img/2023/image-20230312231507993.png" alt="属性"></p><p>Affinity Photo 的方法差不多，左边选择矩形工具，快捷键为 U，画出矩形后，选中矩形，在右下角的「变换」里可以更改。</p><p><img src="/img/2023/Snipaste_23-03-09_23-07-19.jpg" alt="变换"></p><p>下面这张图，就是通过这种方式制作出来的，其实有一些不足，就是蓝色的有点偏右。想要它们对齐的，只要 X Y 保持一样的数值就可以了。</p><p><img src="/img/2023/720vs1296.jpg" alt="720vs1296"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;在 Photoshop 里面，我们先在左边选择矩形工具，快捷键为 U&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/2023/image-20230312232057058.png&quot; alt=&quot;矩形工具&quot;&gt;&lt;/p&gt;
&lt;p&gt;然后按住鼠标随意画出一个矩形。之后来到右边，直接在属性
      
    
    </summary>
    
    
      <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>群晖建立永久 root 账号</title>
    <link href="https://powersee.github.io/2023/03/synology-root-ssh/"/>
    <id>https://powersee.github.io/2023/03/synology-root-ssh/</id>
    <published>2023-03-11T02:15:47.000Z</published>
    <updated>2023-03-11T02:19:02.975Z</updated>
    
    <content type="html"><![CDATA[<p>每次 ssh 登录群晖，我们只能以管理员的身份登录。虽然输入</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo -i</span><br></pre></td></tr></table></figure><p>可以临时切换到 root 账号，但是需要输入一次管理员密码，还是麻烦了点。如果能够直接用 root 账号 ssh 登录就好了。</p><p>具体的操作如下：</p><p>先 ssh 连接上，输入 <code>sudo -i</code> 切换到 root 账号。</p><p>接着编辑 ssh 的配置文件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vim /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure><p>找到这一行（大概在 44 行）</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#PermitRootLogin yes</span><br></pre></td></tr></table></figure><p>把光标放到 <code>#</code> 上面，然后按一下 del 键可以删除掉这个井号。</p><p>另一种删除方法是，按键盘的 <code>i</code> 键，进入编辑模式，此时左下方会显示 <code>-- INSERT --</code>，然后按 退格键来删除（需要先把光标移动到 P），删除完成按 <code>ESC</code>  来退出编辑模式。</p><p><img src="/img/2023/image-20230310165517949.png" alt="PermitRootLogin"></p><p>两种方法都一样的，希望对不懂 vim 的小伙伴有帮助。删除之后，需要保存。方法是，在英文输入法的状态下，输入 <code>:</code>，先按住 <code>Shift</code> 键，再按一下 <code>;:</code> 键，应该可以看到左下角出现一个冒号 : 了。</p><p>接着输入 <code>wq</code> ，意思是保存并退出，再按回车键就可以了。</p><p>之后需要重启群晖</p><p>然后再一次 ssh 登录进来，执行 <code>sudo -i</code>，然后执行</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">synouser --setpw root password</span><br></pre></td></tr></table></figure><p>意思是群晖用户，设置密码，把 root 用户的密码设置为 password，你可以把 password 改为自己想设置的密码。</p><p>执行完就可以直接用 root 账号登录了。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;每次 ssh 登录群晖，我们只能以管理员的身份登录。虽然输入&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo -i&lt;/span&gt;
      
    
    </summary>
    
    
      <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>MIUI13 如何添加桌面小部件？</title>
    <link href="https://powersee.github.io/2023/03/MIUI13-Android-widget/"/>
    <id>https://powersee.github.io/2023/03/MIUI13-Android-widget/</id>
    <published>2023-03-10T06:07:36.000Z</published>
    <updated>2023-03-10T06:12:25.864Z</updated>
    
    <content type="html"><![CDATA[<p>今天我想在手机上面，添加一个应用的小部件。但是，我死活找不到怎么添加。明明前段时间我还把 “原神战绩”这个小部件，添加到桌面过的。</p><p>一番搜索后，发现关键点在于【断网】。下面是详细的添加步骤：</p><p>在手机桌面，我们可以通过双指捏合、或长按桌面空白处，来呼出【添加小部件】按钮。</p><p><img src="/img/2023/Screenshot_2023-03-10-13-13-56-014-edit_com.miui.home.jpg" alt="添加小部件"></p><p>点击之后，有两个选项，【推荐】和【分类】，里面都是 MIUI 推荐的小部件，我们自己装的 app 的小部件，大多数是不会显示在这里的。</p><p><img src="/img/2023/Screenshot_2023-03-10-13-14-29-909-edit_com.miui.personalassistant.jpg" alt="推荐与分类"></p><p>那么不是还有个搜索吗？我直接搜呢？不好意思，也是搜不到的。这让我觉得非常恶心。</p><p>网上搜索了解之后，我找到了解决方案。先让手机处于断网状态，开飞行模式最直接，不过也可以关闭 WiFi 和数据就行了。此时再点击搜索，就会发现底部有一行【安卓小部件】。</p><p><img src="/img/2023/Screenshot_2023-03-10-13-58-19-696_com.miui.personalassistant.jpg" alt="断网下的搜索"></p><p>点击之后就可以看到我们自己装的 app 所带的小部件了。</p><p><img src="/img/2023/Screenshot_2023-03-10-13-58-52-006_com.miui.home.jpg" alt="其它应用的小部件"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;今天我想在手机上面，添加一个应用的小部件。但是，我死活找不到怎么添加。明明前段时间我还把 “原神战绩”这个小部件，添加到桌面过的。&lt;/p&gt;
&lt;p&gt;一番搜索后，发现关键点在于【断网】。下面是详细的添加步骤：&lt;/p&gt;
&lt;p&gt;在手机桌面，我们可以通过双指捏合、或长按桌面空白处，来
      
    
    </summary>
    
    
      <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>powershell 的别名与函数</title>
    <link href="https://powersee.github.io/2023/03/windows-powershell/"/>
    <id>https://powersee.github.io/2023/03/windows-powershell/</id>
    <published>2023-03-09T06:13:11.000Z</published>
    <updated>2023-03-09T06:16:20.679Z</updated>
    
    <content type="html"><![CDATA[<p>alias 别名，使用它我们可以提高使用命令行的效率。</p><p>例如在 Linux 中，我喜欢把 <code>d</code> 设置为 <code>docker</code>的别名。只需要在终端中执行</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alias d=&#x27;docker&#x27;</span><br><span class="line">d ps</span><br></pre></td></tr></table></figure><p>那么此时 <code>d ps</code> 的作用就等于 <code>docker ps</code></p><p>那么在 Windows 上面要怎么使用呢？我现在<code>终端</code>这个程序一打开，默认使用的是 <code>powershell</code>，所以我也主要用它了。</p><h3 id="New-Alias"><a href="#New-Alias" class="headerlink" title="New-Alias"></a>New-Alias</h3><p>在这上面使用别名的命令是 <code>New-Alias</code>，例如</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">New-Alias d docker</span><br></pre></td></tr></table></figure><p>详细说明可看 <a href="https://learn.microsoft.com/zh-cn/powershell/module/microsoft.powershell.core/about/about_aliases?view=powershell-7.2">官方文档</a></p><p>像有些程序，它的路径比较长，我们也可以通过别名的方式，来较快速地使用</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">New-Alias whisper &quot;C:\Users\powersee\PycharmProjects\pythonProject\venv\Scripts\whisper.exe&quot;</span><br></pre></td></tr></table></figure><p>但是，New-Alias 的值是不能包含空格的，还是用 docker 来举例子。</p><p>如果我在 Linux，我可以这样</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alias di=&#x27;docker images&#x27;</span><br><span class="line">di</span><br></pre></td></tr></table></figure><p>后面的值只需要用引号包裹就行。但是在 <code>powershell</code> 里，alias 不能这样设置，此时得用函数 <code>function</code>。</p><h3 id="function"><a href="#function" class="headerlink" title="function"></a>function</h3><p><a href="https://learn.microsoft.com/zh-cn/powershell/scripting/learn/ps101/09-functions?view=powershell-7.2">官方文档</a>，示例如下：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function di &#123; docker images &#125;</span><br></pre></td></tr></table></figure><p>按我的理解，别名就是用来缩短命令的，因为 powershell 的命令都比较长，而且还用 <code>-</code> 连接，例如 <code>Get-ChildItem</code>。可读性确实比较强，但是敲起来就不是那么方便了。</p><p>函数就可以把长命令封装起来，其实相比 alias 也就多了花括号。</p><p>我这边想的是，缩短我使用 whisper 时需要输入的字符。所以我定义了一个函数 wme 意思是 whisper medium english。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function wme &#123; &quot;C:\Users\powersee\PycharmProjects\pythonProject\venv\Scripts\whisper.exe&quot; --model medium --language English &#125;</span><br></pre></td></tr></table></figure><p>那么按理来说，我之后只要执行 <code>wme xxx.mp3</code> 就等同于</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;C:\Users\powersee\PycharmProjects\pythonProject\venv\Scripts\whisper.exe&quot; --model medium --language English xxx.mp3</span><br></pre></td></tr></table></figure><p>然而在 Windows 这边它不是这么用的，后面的 xxx.mp3 它其实是算一个参数。正确的写法应该是这样：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function wme &#123; &amp; &quot;C:\Users\powersee\PycharmProjects\pythonProject\venv\Scripts\whisper.exe&quot; --model medium --language English $args[0]&#125;</span><br></pre></td></tr></table></figure><h3 id="powershell-的配置文件"><a href="#powershell-的配置文件" class="headerlink" title="powershell 的配置文件"></a>powershell 的配置文件</h3><p>我们定义的别名和函数，应该怎么保存下来，让我们下次打开 <code>powershell</code> 时，就自动加载呢？在 Linux 上面我们是将它们写入用户目录下的 <code>.bashrc</code> 或者 <code>.zshrc</code> 来实现的。</p><p>那么 powershell 里面，有没有类似 <code>.bashrc</code> 的文件呢？也是有的，但是默认情况下没有这个文件。可以先执行</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Test-Path $profile</span><br></pre></td></tr></table></figure><p>判断一下有没有这个文件，有的话会输出 True。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$profile  # 查看它的路径</span><br><span class="line">notepad $profile  # 用记事本打开这个文件</span><br></pre></td></tr></table></figure><p>如果没有这个配置文件，可以使用命令来创建它</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">New-Item -path $profile -type file –force</span><br></pre></td></tr></table></figure><p>它一般的路径在用户目录下的 <code>Documents\WindowsPowerShell\Microsoft.PowerShell_profile.ps1</code></p><p>之后我们只需将别名和函数粘贴到里面，下次启动 <code>powershell</code> 就会自动加载的。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;alias 别名，使用它我们可以提高使用命令行的效率。&lt;/p&gt;
&lt;p&gt;例如在 Linux 中，我喜欢把 &lt;code&gt;d&lt;/code&gt; 设置为 &lt;code&gt;docker&lt;/code&gt;的别名。只需要在终端中执行&lt;/p&gt;
&lt;figure class=&quot;highlight plai
      
    
    </summary>
    
    
      <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>Windows 环境变量</title>
    <link href="https://powersee.github.io/2023/03/windows-path/"/>
    <id>https://powersee.github.io/2023/03/windows-path/</id>
    <published>2023-03-08T15:31:04.000Z</published>
    <updated>2023-03-08T15:37:56.688Z</updated>
    
    <content type="html"><![CDATA[<p>今天，我在一台 win11 的电脑下载了 <code>git</code> <code>ffmpeg</code>，我选择的是免安装版本。所以下载完我需要自己去添加环境变量。</p><p>在 win11 上面，我右键资源管理器的 <code>此电脑</code>，属性。会自动跳转到 <code>设置</code>、<code>系统信息</code> 里面。</p><p>需要点击【高级系统设置】，就可以在下方看到【环境变量】了。</p><p>双击【用户变量】里面的 <code>Path</code>，会弹出一个【编辑环境变量】的窗口，在里面添加多一行即可，例如我这里添加 git 的</p><blockquote><p>用户变量只对当前用户有效，系统变量对所有用户有效，由于我电脑就我一个用户，所以添加到用户变量就行了</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">C:\Users\xxx\xxx\git\bin</span><br></pre></td></tr></table></figure><p>这时我就发现 Windows 和 Mac、Linux 的不同了，在 Windows 的终端，我新建一个标签，是识别不到我刚才添加的环境变量的。必须得新建一个【终端】窗口才行，这点我们可以在 <code>cmd</code> 里，通过</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo %PATH%</span><br><span class="line"># 直接执行 path 也行</span><br></pre></td></tr></table></figure><p>来判断。</p><p>在 <code>powershell</code> 里则是执行</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$env:path</span><br></pre></td></tr></table></figure><p>来查看环境变量。</p><p>而在 Mac、Linux 上面，我们甚至连新建一个标签都可以不用。因为可以使用使用 <code>source ~/.zshrc</code> 来加载新的环境变量。所以看到 Windows 需要新建窗口才行，感觉有点麻烦。</p><p>但是当我切换到 pycharm 里面，明明在【终端】里用 cmd 和 powershell 都可以识别到 git，在这里却怎么折腾都识别不到。</p><p>最终我选择了重启电脑，然后再次打开 pycharm，才终于可以在 pycharm 的终端识别到 git 。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;今天，我在一台 win11 的电脑下载了 &lt;code&gt;git&lt;/code&gt; &lt;code&gt;ffmpeg&lt;/code&gt;，我选择的是免安装版本。所以下载完我需要自己去添加环境变量。&lt;/p&gt;
&lt;p&gt;在 win11 上面，我右键资源管理器的 &lt;code&gt;此电脑&lt;/code&gt;，属性。会
      
    
    </summary>
    
    
      <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>使用 Python 读写剪贴板中的内容 pyperclip</title>
    <link href="https://powersee.github.io/2023/03/pyperclip/"/>
    <id>https://powersee.github.io/2023/03/pyperclip/</id>
    <published>2023-03-04T07:50:18.000Z</published>
    <updated>2023-03-04T08:15:14.593Z</updated>
    
    <content type="html"><![CDATA[<p>之前了解到 Mac 上的两个命令 <a href="/2022/06/mac-pbcopy-pbpaste/">pbcopy &amp; pbpaste</a> ，我就在想，如果我把它整合到某些脚本里面，那就可以减少复制粘贴的步骤，节省一些时间。</p><p>此时我想到之前写的一个，用来下载贴吧图片的脚本。在之前介绍 <a href="/2021/12/about-kcc/">制作 kindle 漫画的文章</a> 里有提到它。</p><p><img src="/img/2021/tieba-img-download.jpg" alt="贴吧图片下载器"></p><p>在 Windows 上我是把它打包成一个图形应用，这样其他人使用它比较方便。但是同样的代码，我在 Mac 上打包后有一些问题，所以我就进行了一些修改。只通过命令行的方式来使用它，设置 alias 别名，我只需要在终端中执行 <code>tieba</code> 就可以启动，然后我需要把贴吧帖子的链接粘贴进去，就可以自动下载图片了。</p><p><img src="/img/2023/image-20230304160034037.png" alt="image-20230304160034037"></p><p>如果不需要下载就按回车直接退出程序。</p><p>现在为了节省粘贴这一步，我打算把 <code>pbpaste</code> 这个 Mac 命令整合进去。让程序运行时，自动读取剪贴板的内容，如果里面包含 tieba 这个词，就询问，例如这样</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">❯ tieba</span><br><span class="line">您当前剪贴板的内容为： https://tieba.baidu.com/p/8288904408?frwh=index</span><br><span class="line">是否开始下载？是的话请按回车键，否则请输入新的链接。（退出输入 n）</span><br></pre></td></tr></table></figure><p>不过在这过程中，我发现其实 Python 可以引入 <code>pyperclip</code> 来进行读写剪贴板的操作。例如读写剪贴板</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; import pyperclip</span><br><span class="line">&gt;&gt;&gt; str = pyperclip.paste()</span><br></pre></td></tr></table></figure><p>目前就是简单地判断一下，剪贴板中的字符串，是否包含 <code>tieba</code> 而已。是的话就打印出来，并询问是否下载。</p><p>这样修改后，我可以先在浏览器复制链接，然后再到终端执行程序，程序读取到我剪贴板的内容包含 <code>tieba</code> ，询问，我按一下回车键，就可以下载了。比起之前，少了一步 ctrl + v。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;之前了解到 Mac 上的两个命令 &lt;a href=&quot;/2022/06/mac-pbcopy-pbpaste/&quot;&gt;pbcopy &amp;amp; pbpaste&lt;/a&gt; ，我就在想，如果我把它整合到某些脚本里面，那就可以减少复制粘贴的步骤，节省一些时间。&lt;/p&gt;
&lt;p&gt;此时我想到之
      
    
    </summary>
    
    
      <category term="Python" scheme="https://powersee.github.io/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>Google Play Store 自动更新如何关闭？</title>
    <link href="https://powersee.github.io/2023/03/google-play-store-auto-update/"/>
    <id>https://powersee.github.io/2023/03/google-play-store-auto-update/</id>
    <published>2023-03-03T03:38:00.000Z</published>
    <updated>2023-03-03T10:21:48.236Z</updated>
    
    <content type="html"><![CDATA[<p>我的手机里有两个 App Store，一个是 MIUI 自带的应用商店。另外一个是 Google 的 Play Store。</p><p>两者的设置中，我都把应用自动更新给关了，我并不喜欢更新 APP，特别是之前被一款国产记账软件「松鼠记账」给恶心到之后，<a href="/2022/01/songshujizhang/">之前的文章</a></p><p>但是当我现在的 Play Store，在我打开代理之后，老是自动给我更新 APP。我想按照以前的方法，关闭掉自动更新，但是没找到。我用中文到网上搜也没找到方法，最后还是用英文搜索，才找到的。位置在「设置」「网络偏好」「自动更新应用」里。</p><p><img src="/img/2023/auto-update-apps.jpg" alt="auto-update-apps"></p><p>其实也很容易发现，不过之前怎么老是忽略它了呢？</p><p>还有我发现，我的手机系统用的是中文，但是 Play Store 里显示的都是英文的，设置里好像也没地方改，不过这个不重要了，懒得去搜了。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;我的手机里有两个 App Store，一个是 MIUI 自带的应用商店。另外一个是 Google 的 Play Store。&lt;/p&gt;
&lt;p&gt;两者的设置中，我都把应用自动更新给关了，我并不喜欢更新 APP，特别是之前被一款国产记账软件「松鼠记账」给恶心到之后，&lt;a href=
      
    
    </summary>
    
    
      <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>关于我收到许多诈骗邮件</title>
    <link href="https://powersee.github.io/2023/02/scam-email/"/>
    <id>https://powersee.github.io/2023/02/scam-email/</id>
    <published>2023-02-22T15:44:41.000Z</published>
    <updated>2023-02-22T16:36:09.739Z</updated>
    
    <content type="html"><![CDATA[<p>我的电子邮箱地址，一直放在 YouTube 和我的博客上面，所以我经常收到英文的邮件。例如这样的</p><blockquote><p>Good afternoon! Warner Bros. Interactive Entertainment is pleased to announce the release of a new game, Hogwarts Legacy.<br>I’ll tell you a little about the game. Set in the late 19th century, Hogwarts Legacy will tell the story of students of Hogwarts. The player will be allowed to choose their faculty at Hogwarts and attend classes at the school of wizardry and wizardry as well as explore the open world consisting of such locations as the village of Hogsmeade and the Forbidden Forest. In the game the character will learn to brew potions, cast various magical spells, tame magical beasts and master other combat abilities. Moral system will play an important role in the game. Players will also be able to customize their character’s voice, body type and whether they are a witch or a wizard.<br>We want to invite you to become a part of the story and dive into the universe of magic and enchantment together!<br>If you are interested, reply to this message!<br>I’m sure we’ll find common ground with you and become partners!</p></blockquote><p>翻译：</p><blockquote><p>下午好！华纳兄弟互动娱乐公司很高兴地宣布新游戏《霍格沃兹遗产》的发布。<br>我会告诉你一点关于这个游戏。《霍格华兹遗产》以19世纪末为背景，讲述的是霍格华兹学生的故事。玩家将被允许选择他们在霍格沃兹的院系，参加魔法学校的课程，以及探索开放的世界，包括霍格莫德村和禁林等地点。在游戏中，角色将学习调制药剂，施放各种魔法咒语，驯服魔法野兽，并掌握其他战斗能力。道德体系将在博弈中发挥重要作用。玩家还可以自定义角色的声音、身体类型以及他们是女巫还是巫师。<br>我们想邀请你成为故事的一部分，一起潜入魔法和魅力的宇宙！<br>有兴趣的话，回复此留言吧！<br>我相信我们会找到与你的共同点，成为合作伙伴！</p></blockquote><p>刚才翻了翻收件箱，发现里面居然还有魔咒之地 Forspored 的，邮件中部分内容的翻译：</p><blockquote><p>我们公司很高兴地宣布，你和你的YouTube频道，特别是已被选择来推广我们最新的游戏。</p><p>公司正在积极为我们即将发布的新游戏寻找推广人。2023年1月24日在PlayStation 5和Windows上发布。</p><p>Forspored讲述了一个纽约女孩Frey的故事，她发现自己在美丽而暴力的Atia中。</p><p>为了找到回家的路，弗雷必须穿越广阔的新世界，借助魔法与怪物战斗。</p><p>我们公司有兴趣与你合作。</p><p>我们希望你在视频剪辑的开头插入我们的预告片。</p><p>如果我们的合作成功，我们会给你30个Steam密钥，</p><p>这不仅让你可以访问我们的游戏，但也解锁绝对所有的官方插件的游戏。</p></blockquote><p>看着挺好的吧，给 30 个 steam 密钥。其实还有更吸引人的，说是要我接他们的广告，一次可以提供至少一千美元。当初我看到这样的邮件，不经感叹，还是外国的钱好赚呀。</p><p>不过随着我的了解，我发现这事实并非那么简单。</p><p>我记得之前有一封是 Opera 浏览器的邮件，搜了一下是去年 2 月份的邮件了。内容如下：</p><blockquote><p>Hello, I am the manager of OperaSoftware.</p><p>Our company has paid attention to your channel and decided to make an offer. Our OperaGX browser lacks popularity, so we offer you to cooperate with us.</p><p>If you agree to cooperate with our company, please let us know and we will send you our terms.</p><p>Best regards, manager of OperaSoftware.</p></blockquote><p>然后我就回复他了，之后他就给我发来了一个 PDF 文件，里面是这样的（下面是截图，不用担心👇🏻）</p><p><img src="/img/2023/2023-02-22_21-33-12.png" alt="骗子发的 PDF 文件内容"></p><p>我记得下方的链接那里，好像就是一个病毒链接，当然我没有点过，当时只是好奇他们发这些邮件的目的是什么。</p><p>总之呢，就是哪有那么好的事，不要整天想着天上会掉馅饼。</p><p>骗子一般都会假扮是大公司，然后给出丰厚的佣金，吸引人上钩，一旦有人点击了他们的链接，那电脑可能就中毒了。</p><p>之前还有一位讲技术的博主，好像就是中了这样的骗术，导致他 YouTube 上的所有视频被删了。</p><h2 id="对策1"><a href="#对策1" class="headerlink" title="对策1"></a>对策1</h2><p>在我知道这些都是骗局之后，我基本都不去点开这些邮件。但是，我却避免不了他们的骚扰，每隔几天就会收到一封。其中来自 BlueTwelve Studio 的非常多，我查了一下，这是一个游戏开发团队，有名的赛博猫咪《Stray》就是他们开发的。</p><p><img src="/img/2023/game-stray.jpeg" alt="Stray"></p><p>当然我收到的这些都是诈骗邮件，肯定不是这个游戏开发团队发的，因为我观察到，这些邮件的后缀都是 @vzonly.cz</p><p>我还搜到了一个 YouTube 视频：<a href="https://www.youtube.com/watch?v=G6S_KwiDTbs">volny.cz online.ua FRAUD email | SCAM alert - YouTube</a></p><p>里面是一位阿三哥在讲他也碰到诈骗邮件的事情，他除了收到来自 <code>@vzonly.cz</code> 的邮件，还有 <code>@online.ua</code> 的。并且他了解得更深入，骗子同样是发送一个 PDF 过来，里面也是有链接，如果点击这个链接，就会重定向然后下载 Windows 软件。大概就是这些内容吧。</p><p>同时我观察了他的视频说明，他也同样是把邮箱放在里面。所以骗子应该是用软件扫描 YouTube 视频，查到视频说明里有邮箱，就会发邮件过来之类吧。</p><p>这时我猜想，如果我把邮箱的 <code>@</code> 换成 <code>#</code> ，然后补充说明（请把 @ 换成 #）会不会降低收到这种诈骗邮件的频率？</p><p>毕竟如果是真人，真想发邮件的话，换个字符也不会带来多大的麻烦。</p><h2 id="对策2"><a href="#对策2" class="headerlink" title="对策2"></a>对策2</h2><p>其实我会来写这篇文章，是因为我突然想到，我能否把来自 @vzonly.cz 的所有邮件都拉黑？</p><p>由于我使用的是腾讯企业邮箱，所以用必应搜一下，很快就找到答案了。</p><p><a href="https://work.weixin.qq.com/help?person_id=0&doc_id=359&helpType=exmail">黑名单/域名黑名单有什么作用？如何设置？-帮助中心-企业邮 (qq.com)</a></p><p>那么按照说明</p><blockquote><p>在“邮箱设置”-&gt;“反垃圾”-&gt;“黑名单”栏目中，点击“设置黑名单”</p></blockquote><p>就可以成功把域名添加进去</p><p><img src="/img/2023/2023-02-22_21-14-24.png" alt="成功将域名加入邮箱黑名单"></p><p>这么一番操作之后，以后我应该就不会被这些垃圾邮件打扰了吧。或者说能减少打扰的次数吧，毕竟来自诈骗邮件也有来自其他域名的，像前面提到的 Opera 这封邮件，它的域名是 <code>laposte.net</code></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol><li>不要点击陌生链接</li><li>注意邮件的后缀</li><li>非必要的话，不要公开邮箱地址</li><li>或者把邮箱的 @ 换成 # 之类的</li><li>进入邮箱网站后台，设置域名黑名单</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;我的电子邮箱地址，一直放在 YouTube 和我的博客上面，所以我经常收到英文的邮件。例如这样的&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Good afternoon! Warner Bros. Interactive Entertainment is pleased to
      
    
    </summary>
    
    
      <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>Docker 搭建留言板 sayhello 进阶使用教程</title>
    <link href="https://powersee.github.io/2023/02/about-sayhello/"/>
    <id>https://powersee.github.io/2023/02/about-sayhello/</id>
    <published>2023-02-20T03:59:48.000Z</published>
    <updated>2023-02-20T04:04:40.269Z</updated>
    
    <content type="html"><![CDATA[<p>项目源码：<a href="https://github.com/powersee/sayhello">https://github.com/powersee/sayhello</a></p><p>用 docker 的话，一条命令即可运行起来</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker run -d -p 5000:5000 --name sayhello powersee/sayhello</span><br></pre></td></tr></table></figure><p>第一个 5000 可以换为其它的端口，例如 6000，7000 等等，之后在浏览器通过 <code>IP:端口</code> 的形式来访问即可。</p><p><img src="/img/2023/sayhello10086.jpg"></p><h3 id="删除内容"><a href="#删除内容" class="headerlink" title="删除内容"></a>删除内容</h3><p>先来说说，怎么删除内容。需要做的是，进入 docker 容器里的，使用命令行对 sqlite 数据库的内容进行删除。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ docker ps                                                    </span><br><span class="line">CONTAINER ID   IMAGE               COMMAND                  CREATED        STATUS        PORTS                                         NAMES</span><br><span class="line">1888c7d98fe8   powersee/sayhello   &quot;python3 -m flask ru…&quot;   2 months ago   Up 2 months   0.0.0.0:10086-&gt;5000/tcp, :::10086-&gt;5000/tcp   sayhello</span><br></pre></td></tr></table></figure><p>通过 <code>docker ps</code> 命令，可以查询到目前正在运行的容器有哪些。</p><p>进入容器内的交互终端</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker exec -it sayhello /bin/sh</span><br></pre></td></tr></table></figure><p>由于这个程序使用的是 sqlite 的数据库，所以需要先安装 sqlite，才能够对 <code>data.db</code> 进行修改。</p><p><strong>安装</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">apk add sqlite</span><br></pre></td></tr></table></figure><p><strong>查询</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sqlite3 data.db</span><br><span class="line"></span><br><span class="line">select * from message;</span><br></pre></td></tr></table></figure><p>此时就会将所有的留言都显示出来，这里我随便找几条</p><blockquote><p>452|p|1|2023-02-14 14:55:37.930067<br>453|p|1|2023-02-14 14:55:38.022029<br>454|p|b 站旅游团路过|2023-02-14 15:18:19.983384</p></blockquote><p>可以看到，它的格式是这样的</p><blockquote><p>id | username | content | time</p></blockquote><p>所以我们要删除的话，可以使用它的 id，例如这样</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">delete from message where id=452;</span><br></pre></td></tr></table></figure><p>删除多条，可以使用 in，例如</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">delete from message where id in(23,26,29);</span><br></pre></td></tr></table></figure><p>如果要删除大范围的，例如 id 从 200 到 450 都要删除掉</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">delete FROM message where id &gt; 199 and id &lt; 451;</span><br><span class="line">#或者</span><br><span class="line">delete FROM message where id &gt;= 200 and id &lt;= 450;</span><br></pre></td></tr></table></figure><p>如果要清空所有内容</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DELETE FROM message;</span><br></pre></td></tr></table></figure><h3 id="备份数据库"><a href="#备份数据库" class="headerlink" title="备份数据库"></a>备份数据库</h3><p>如果你现在是在容器里，也就是终端里左边是显示 <code>/sayhello #</code> ，想要退出可以按 <code>ctrl + D</code> （是两个按键同时按）</p><p>由于数据都是存放在 <code>data.db</code> 这个数据库里的，所以我们只要备份它就可以了。此时我们可以使用 <code>docker cp</code> 命令。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker cp sayhello:/sayhello/data.db .</span><br></pre></td></tr></table></figure><p>此处的点 <code>.</code> 代表当前目录，也就是把数据库复制出来，放到当前目录，你也可以改为其它的。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker cp sayhello:/sayhello/data.db /home/powersee</span><br></pre></td></tr></table></figure><p>这样就会把 <code>data.db</code> 放到 <code>/home/powersee</code> 这个目录下。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;项目源码：&lt;a href=&quot;https://github.com/powersee/sayhello&quot;&gt;https://github.com/powersee/sayhello&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;用 docker 的话，一条命令即可运行起来&lt;/p&gt;
&lt;figure cl
      
    
    </summary>
    
    
      <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>一个不错的 css 框架 Boltcss</title>
    <link href="https://powersee.github.io/2023/02/boltcss/"/>
    <id>https://powersee.github.io/2023/02/boltcss/</id>
    <published>2023-02-19T04:00:08.000Z</published>
    <updated>2023-02-20T04:53:56.325Z</updated>
    
    <content type="html"><![CDATA[<p>发现一个不错的 css 框架 boltcss <a href="https://boltcss.com/">Bolt.css (boltcss.com)</a></p><p>是从阮一峰老师的博客推荐发现的，看了官方的 demo，感觉挺不错，里面很多样式自己挺喜欢的。</p><p>于是我下载来研究看看，之后看看能否引入自己的博客里面。</p><p><a href="https://raw.githubusercontent.com/tbolt/boltcss/main/bolt.css">https://raw.githubusercontent.com/tbolt/boltcss/main/bolt.css</a></p><p>喜欢的点：</p><ul><li>支持日夜模式（会根据系统自动切换）</li><li>details – summary 标签不错，在博客中可以用来收起一些内容</li></ul><p>例如这样</p><details>呵呵哒🙂  <summary>点击展开  </summary></details><p>直接在 markdown 里面写标签即可。</p><p>如下：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;details&gt;呵呵哒🙂</span><br><span class="line">  &lt;summary&gt;点击展开</span><br><span class="line">  &lt;/summary&gt;</span><br><span class="line">&lt;/details&gt;</span><br></pre></td></tr></table></figure><p>由于直接把这个 css 引入博客，会和原来样式冲突，所以我目前只能，复制里面的代码到我博客自身的 css 里面。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* Interactive elements */</span><br><span class="line">details &#123;</span><br><span class="line">  border: 1px solid #aaa;</span><br><span class="line">  border-radius: 7px;</span><br><span class="line">  padding: 0.5em 0.5em 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">summary &#123;</span><br><span class="line">  font-weight: bold;</span><br><span class="line">  margin: -0.5em -0.5em 0;</span><br><span class="line">  padding: 0.5em;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">details[open] &#123;</span><br><span class="line">  padding: 0.5em;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">details[open] summary &#123;</span><br><span class="line">  border-bottom: 1px solid #aaa;</span><br><span class="line">  margin-bottom: 0.5em;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;发现一个不错的 css 框架 boltcss &lt;a href=&quot;https://boltcss.com/&quot;&gt;Bolt.css (boltcss.com)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;是从阮一峰老师的博客推荐发现的，看了官方的 demo，感觉挺不错，里面很多样式自己挺喜欢的。&lt;/p
      
    
    </summary>
    
    
      <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>统计 Windows 电脑应用使用时长</title>
    <link href="https://powersee.github.io/2023/02/windows-tai/"/>
    <id>https://powersee.github.io/2023/02/windows-tai/</id>
    <published>2023-02-02T11:07:16.000Z</published>
    <updated>2023-02-02T11:16:46.424Z</updated>
    
    <content type="html"><![CDATA[<p>前段时间发现一个可以统计电脑上，各个应用的使用时长的开源应用</p><p><a href="https://github.com/Planshit/Tai">https://github.com/Planshit/Tai</a></p><p><img src="/img/2023/2023-02-01_17-52-08.png"></p><p>我也使用了一段时间了，感觉还不错。平时占用的系统内存是 44MB 左右，在电脑的右下角状态栏会有图标，双击就可以打开软件界面。</p><p><img src="/img/2023/2023-02-02_15-14-47.png"></p><p>一月份我使用了 20 天，里面记录我电脑的使用时长是 132 个小时，其中使用最长的是原神，有 31 个小时。</p><p>切换到【按月】可以看到每天的统计时长。</p><blockquote><p><strong>需要注意的是，使用时长并不是软件的存活时间，而是软件从获得焦点时开始到失去焦点后这段时间</strong></p></blockquote><p>其中有一天，steam 被统计到使用了 13 个小时，估计是我电脑息屏的时候，steam 突然弹到前台，然后又是夜晚，所以被统计下来。虽然后来我们可以通过右键【忽略此应用】来让 tai 不再记录某些应用，但是之前记录的 steam 时长好像没法去掉。</p><p><img src="/img/2023/2023-02-02_15-20-41.png"></p><p>还有就是 steam 的游戏，有时候统计并不准确，像我这里 Beat Saber 这个游戏，我每天都是有玩的，而且都是超过半个小时的，但是在这里，统计出来的数据是这样的。</p><p><img src="/img/2023/2023-02-02_15-31-36.png"></p><p><a href="https://github.com/Planshit/Tai/issues/40">tai对steam里的游戏统计时长有问题 · Issue #40 · Planshit/Tai (github.com)</a></p><p>虽然问题已经关闭了，但是问题好像并没有解决。</p><p>不过我认为瑕不掩瑜吧，我之后还是会继续使用它的。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;前段时间发现一个可以统计电脑上，各个应用的使用时长的开源应用&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/Planshit/Tai&quot;&gt;https://github.com/Planshit/Tai&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img
      
    
    </summary>
    
    
      <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>如何找到手机淘宝 APP 保存的文件？</title>
    <link href="https://powersee.github.io/2023/01/taobao-files/"/>
    <id>https://powersee.github.io/2023/01/taobao-files/</id>
    <published>2023-01-13T05:54:42.000Z</published>
    <updated>2023-01-13T05:57:12.019Z</updated>
    
    <content type="html"><![CDATA[<p>淘宝的店家发了个文件给我，我需要把文件弄到电脑上使用。结果没想到过程还挺曲折的。</p><p>在手机淘宝app上可以接收文件，但是文件没法打开。不过在底部显示【使用其它应用打开】的按钮，点击后会弹出一堆 app 可以选择，但是我实测没用。</p><p>店家给我的是 <code>HEX</code> 结尾的文件，手机里应该没有 app 可以打开它，我想尝试用手机自带的文件管理器、ES 文件管理器，来将文件保存到其他位置，但是都不行。</p><p>选择用浏览器打开，会自动下载这个文件，哦，那这样也行，但结果却是下载失败了。。。</p><p>然后我注意到，刚点击【使用其它应用打开】的按钮时，会弹出一个文件存放在哪里的提示，我注意到是在 <code>Android/data/com.taobao.taobao</code> </p><p>那既然这样，我自己去这里找找看吧。</p><p>结果我发现，使用手机自带的文件管理器、ES 文件管理器打开 <code>Android/data/</code> 后，里面是空白的。</p><p>我网上搜一下，发现这是 Android11 之后的改变，现在不给 data 文件夹的权限了。我是真没想到，miui 居然连自带的文件管理器都访问不了这个文件夹。</p><p>知乎网友的一段话我觉得挺认同的，<a href="https://www.zhihu.com/people/dong-jie-rong-59">来源</a></p><blockquote><p>非常后悔更新了11,这可能是我见过最恶心的设计了，完全意义不明。能轻松管理所有文件一直是我觉得安卓比ios好的一点</p></blockquote><p>那么最后我是怎么解决的呢？其实在自带文件管理器里，它有提示可以【前往安卓存储访问框架查看文件】，点击后使用框架还是可以查看文件的。</p><p>淘宝的文件是在 <code>Android/data/com.taobao.taobao/files/file/filetransfer/</code> 里面，之后我把文件复制出来，然后复制到 nas 里，电脑上再访问 nas 的共享文件夹，将文件复制到电脑。</p><p>而且完成后我网上搜一下，才知道用新版的 es 文件管理器，授权之后还是可以访问 data 文件夹的，我手机之前有下载一个 【ESuper文件】的app，应该是改版的 es 吧，确实授权后就可以访问。</p><p>不过，淘宝还真是够烂的，就不能给个选项，让把文件保存到手机的其它目录吗，费了我这么多时间。问店家，他居然告诉我自己去电脑上下载个阿里旺旺……</p><p>淘宝这么搞下去，迟早得被拼多多干倒。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;淘宝的店家发了个文件给我，我需要把文件弄到电脑上使用。结果没想到过程还挺曲折的。&lt;/p&gt;
&lt;p&gt;在手机淘宝app上可以接收文件，但是文件没法打开。不过在底部显示【使用其它应用打开】的按钮，点击后会弹出一堆 app 可以选择，但是我实测没用。&lt;/p&gt;
&lt;p&gt;店家给我的是 &lt;c
      
    
    </summary>
    
    
      <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>edge 浏览器访问不安全内容 https 报错没有强制访问</title>
    <link href="https://powersee.github.io/2022/11/edge-unsafe/"/>
    <id>https://powersee.github.io/2022/11/edge-unsafe/</id>
    <published>2022-11-18T02:18:08.000Z</published>
    <updated>2022-11-18T02:31:54.299Z</updated>
    
    <content type="html"><![CDATA[<p>如今我的主力浏览器已经换位 edge 了，使用了很久，感觉挺好的。</p><p>最近发现，如果使用它访问证书已经失效的 https 网站，会报错，并且点击高级之后，没有继续访问的按钮了。</p><p>例如这样，我访问我局域网的 nas <code>https://192.168.68.172/</code></p><p><img src="/img/2022/link-unsafe.jpg"></p><p>那么要怎样才能继续访问呢？方法是，点击网页中空白的地方，然后键盘输入 <code>thisisunsafe</code> ，注意是在英文输入法的情况下，正常的话，输入完就自动访问了。</p><p>另外也可以在浏览器输入 <code>edge://settings/content/insecureContent</code> 来打开设置，将你想要访问的域名添加进去。</p><p><img src="/img/2022/edge-settings-insecureContent.jpg"></p><p>感觉现在就是限制更多了，不像以前那样方便，不过还好问题是可以解决的。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;如今我的主力浏览器已经换位 edge 了，使用了很久，感觉挺好的。&lt;/p&gt;
&lt;p&gt;最近发现，如果使用它访问证书已经失效的 https 网站，会报错，并且点击高级之后，没有继续访问的按钮了。&lt;/p&gt;
&lt;p&gt;例如这样，我访问我局域网的 nas &lt;code&gt;https://192
      
    
    </summary>
    
    
      <category term="网络" scheme="https://powersee.github.io/tags/%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>Mac 命令行中复制粘贴 pbcopy 与 pbpaste</title>
    <link href="https://powersee.github.io/2022/06/mac-pbcopy-pbpaste/"/>
    <id>https://powersee.github.io/2022/06/mac-pbcopy-pbpaste/</id>
    <published>2022-06-10T03:28:56.000Z</published>
    <updated>2022-06-10T03:29:40.100Z</updated>
    
    <content type="html"><![CDATA[<p>发现两个有用的命令</p><ul><li>pbcopy 可以将文本复制（写入）到剪贴板</li><li>pbpaste 可以读取剪贴板中的内容</li></ul><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo &#x27;powersee&#x27; | pbcopy</span><br></pre></td></tr></table></figure><p>此时就将字符串 <code>powersee</code> 写入剪贴板，可以找个地方粘贴试试看。</p><p>另外一种用法，将文件中的文本内容复制到剪贴板</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$cat test.txt</span><br><span class="line">hehe</span><br><span class="line">$pbcopy &lt; test.txt</span><br></pre></td></tr></table></figure><p>现在有一个 txt 文件，里面的内容是 hehe，使用 <code>&lt;</code> 将里面的内容输入给 <code>pbcopy</code> ，这样就可以将内容复制到剪贴板。当然也可以用 <code>cat</code> 命令。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$cat test.txt | pbcopy</span><br></pre></td></tr></table></figure><p>读取剪贴板的内容</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ pbpaste</span><br><span class="line">hehe%</span><br><span class="line">$ echo `pbpaste`</span><br><span class="line">hehe</span><br></pre></td></tr></table></figure><p>直接执行 <code>pbpaste</code> 也可以输出内容，不过在最后会跟一个 <code>%</code> </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;发现两个有用的命令&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;pbcopy 可以将文本复制（写入）到剪贴板&lt;/li&gt;
&lt;li&gt;pbpaste 可以读取剪贴板中的内容&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td 
      
    
    </summary>
    
    
      <category term="Mac" scheme="https://powersee.github.io/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>腾讯云云函数要收费了</title>
    <link href="https://powersee.github.io/2022/05/tencent-scf/"/>
    <id>https://powersee.github.io/2022/05/tencent-scf/</id>
    <published>2022-05-31T13:00:41.000Z</published>
    <updated>2022-05-31T13:08:23.237Z</updated>
    
    <content type="html"><![CDATA[<p>前几天腾讯云发布了通知，以后云函数不能免费使用了。我之前有从网上看到消息，今天还收到了腾讯云的短信通知。</p><blockquote><p>【腾讯云】腾讯云云函数免费额度和计费方式将于2022年6月1日 起正式调整，届时新用户将获得三个月更多的用量的免费额度，第四个月开始不再享受免费额度，同时从第四个月开始，系统每月会自动发放基础套餐额度并扣除基础套餐费用 12.8 元，详情请查看：<a href="https://mc.tencent.com/qpgtGc9H">https://mc.tencent.com/qpgtGc9H</a> ，如您有任何疑问可以登录（账号 ID：9527，昵称：powersee）提交工单与我们联系。</p></blockquote><p>我还在网上搜了一下，看看别人是怎么讨论这个的，不过看来讨论的好像不多。知乎上面有一个相关的提问，到目前 5 月 31 号才 11 个回答。</p><p><a href="https://www.zhihu.com/question/533580659">如何看待腾讯云函数（SCF）取消免费额度，每月必须 12.8 元最低消费？ - 知乎 (zhihu.com)</a></p><p>总而言之，以后可能就没法白嫖云函数了。</p><p>我登录电脑网页版了解看看，一来到云函数的界面，就有明显的提示</p><blockquote><h4 id="计费模式和免费额度变更通知"><a href="#计费模式和免费额度变更通知" class="headerlink" title="计费模式和免费额度变更通知"></a>计费模式和免费额度变更通知</h4><ol><li>SCF计费模式和免费额度于 2022 年 6 月 1 日进行调整，用户开通使用云函数三个月后每月不再享受免费额度，系统每月会发放基础套餐额度，同时自动扣除 12.8 元，详见<a href="https://cloud.tencent.com/document/product/583/12282">免费额度</a>文档。</li><li>新用户前三个月免费额度中资源使用量、外网出流量较此前免费额度的量将提升一倍，通过 0 元购买套餐包的形式享受免费额度，函数并发配额也将提升一倍。</li><li>学生用户可通过<a href="https://cloud.tencent.com/act/campus?utm_source=qcloud&utm_medium=navigation&utm_campaign=campus">云+校园</a>购买专属超低折扣套餐，活动长期有效。</li><li>如果您暂时不使用 SCF 的服务，可以<a href="https://cloud.tencent.com/document/product/583/12283#.E6.89.8B.E5.8A.A8.E5.86.BB.E7.BB.93">手动冻结</a>云函数。</li></ol></blockquote><p>按照它这个意思，也就是 6、7、8 这三个月还是可以免费使用的，之后到了 9 月，应该就开始每个月收 12.8 了。</p><p>我里面只有一个服务在运行着，每天自动运行一次来签到，使用的资源非常的少，我一个月就调用 30 次，而免费用户是可以一个月调用 5 万次的。腾讯云看来玩不起呀，那对于我这种情况，我肯定不会去付费使用的，所以我就打算停用了。</p><p>它这里也挺贴心的，还有教怎么冻结，这样以后应该就不会被扣费了。</p><p>手动冻结</p><p><img src="/img/2022/image-20220531203309383.png" alt="image-20220531203309383"></p><p>冻结的时候有提示</p><blockquote><p><strong>服务冻结须知冻结后，该账户下所有地域的函数将会有以下限制，是否确认冻结?</strong></p><ul><li>函数无法被调用，通过云 API 等方式的调用，函数将报错并无法执行。</li><li>预置的函数实例将会被回收。</li><li>函数代码及相关配置会继续保留。</li><li>函数服务不会继续产生费用。</li></ul></blockquote><p><img src="/img/2022/image-20220531205635345.png" alt="image-20220531205635345"></p><p>根据了解阿里云好像也有云函数可以免费使用，但是网上好像没什么教程，不知道什么情况，是可以免费白嫖呢？还是至少每个月有付一块钱呢？这个我还没去了解，等其他人研究后我再去抄作业吧，目前签到服务还是运行在家里的服务器吧。</p><p>看到有人分享用华为云免费运行云函数了：<a href="https://blog.csdn.net/qq_28778001/article/details/124891438">https://blog.csdn.net/qq_28778001/article/details/124891438</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;前几天腾讯云发布了通知，以后云函数不能免费使用了。我之前有从网上看到消息，今天还收到了腾讯云的短信通知。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;【腾讯云】腾讯云云函数免费额度和计费方式将于2022年6月1日 起正式调整，届时新用户将获得三个月更多的用量的免费额度，第四个月
      
    
    </summary>
    
    
      <category term="网络" scheme="https://powersee.github.io/tags/%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>芝杜 z9x 手动升级固件，体验不错</title>
    <link href="https://powersee.github.io/2022/05/zidoo-z9x-update/"/>
    <id>https://powersee.github.io/2022/05/zidoo-z9x-update/</id>
    <published>2022-05-21T02:40:20.000Z</published>
    <updated>2022-05-21T03:48:00.392Z</updated>
    
    <content type="html"><![CDATA[<p>我的芝杜 z9x 有些问题，通过 smb 访问使用 d2550 搭建的黑群晖，经常提示“未知错误”，我在 smb 那里是弄了两个连接方式，一种是直接通过局域网主机名 <strong>d2550</strong> 这样来访问，另外一种是通过局域网 IP 地址 <strong>192.168.68.171</strong> 这样。</p><p>它也不是说完全不能访问，有时候我先点击 ip 的访问到第一层目录，然后就无法访问第二层目录了，之后我切换到主机名这种，就可以访问进去了，很烦人。</p><p>那么就尝试 NFS 吧，结果是 homes 文件夹里的可以显示出来，而我另外一个专门放影视资源的共享文件夹，是无法显示的，点进去后就是空白。挺难受的，之前用蜗牛星际当 nas 明明不会这样，难道是 d2550 的问题？可是我下载个当贝播放器，在里面用 smb 来播放 nas 里的视频却一直正常。</p><p>我一直在等芝杜推送系统更新，却一直没等到，昨晚实在烦了，就上网搜一下，到了芝杜的官方论坛，也没看到什么解决方案，接着又搜到了芝杜的贴吧 <strong>芝杜吧</strong> ，发现系统固件已经升级了很多次了，但是需要我们下载 ota 后自己去手动升级。</p><p><a href="https://tieba.baidu.com/p/7841671022">【图片】【220519 | 固件下载】芝杜Z9X 升级固件 v6.4.05 全量包_芝杜吧_百度贴吧 (baidu.com)</a></p><p>很新鲜，而且我从贴吧里了解到，目前新的固件是支持 webdav 的，而刚好我的 nas 就有启动 webdav 服务，所以我想的是，即使它没有修复 smb 和 NFS 的问题，那我还可以尝试通过 webdav 来播放 nas 里的视频，于是点击帖子中的链接，跳转到一个腾讯文档，里面有教程与下载链接</p><p><a href="https://docs.qq.com/doc/DSnhEdU10dkpvQVFN">芝杜Z9X 升级固件v6.4.05 v6.4.05G全量包 (qq.com)</a></p><p>用电脑网页版无法得到这个链接，我是在手机客服端点击才行的。</p><p>从文档里点击链接下载固件，放到 U 盘里，然后插到芝杜上面，点击桌面右边的“关于”，手动升级，选择 U 盘中的固件，会进行验证，然后将固件复制到机身内存，复制完再点一下升级。</p><p><a href="https://tieba.baidu.com/p/7127393998">【图片】【201203 | 教程攻略】芝杜播放器本地OTA升级教程_芝杜吧_百度贴吧 (baidu.com)</a></p><p><img src="/img/2022/image-20220521104308870.png" alt="image-20220521104308870"></p><p>系统升级完成后，打开文件管理器，此时在左侧可以看到一个 <strong>其它网络</strong> ，里面就有新的连接方式 webdav，我赶紧尝试通过它来连接 nas，很顺利，播放高清电影也很流畅。</p><p><img src="/img/2022/image-20220521114412831.png" alt="image-20220521114412831"></p><p><img src="/img/2022/image-20220521114437123.png" alt="image-20220521114437123"></p><p>不过我发现它不能像 smb 以及 NFS 那样，把某个文件夹收藏起来，方便下次直接访问。那也就是说，我每次访问 webdav 都得这样一层一层去打开文件夹，确实有点麻烦。</p><p>除了 webdav 之外，现在还可以直接访问 <strong>百度网盘</strong>、<strong>阿里云盘</strong> 里面的内容，这点感觉也不错嘛，如果平时收藏的视频是保存在网盘里的，现在可以直接播放还是挺方便的。不过我个人目前用不上这个功能，我的视频主要还是放在 nas 里的。</p><p><img src="/img/2022/rYDPf3z47r9GlCStnh3QMA.png" alt="img">        </p><p>接着最让我高兴的是，现在 smb 的问题好像都解决了，不会出现“未知错误”这样的提示了，直接点击就可以访问 nas 里的内容，NFS 这边也正常了，之前未升级的时候，点击后是显示空白的，现在可以正常显示 nas 的内容了。</p><p>其它的更新内容还挺多的，我就不想在这里重复了，有些更新的内容其实我也用不上，所以也不关心，我现在看到芝杜可以通过 smb、NFS、webdav 来访问 nas 里的文件，而且体验确实不错，就很满意了。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;我的芝杜 z9x 有些问题，通过 smb 访问使用 d2550 搭建的黑群晖，经常提示“未知错误”，我在 smb 那里是弄了两个连接方式，一种是直接通过局域网主机名 &lt;strong&gt;d2550&lt;/strong&gt; 这样来访问，另外一种是通过局域网 IP 地址 &lt;strong&gt;
      
    
    </summary>
    
    
      <category term="设备" scheme="https://powersee.github.io/tags/%E8%AE%BE%E5%A4%87/"/>
    
  </entry>
  
  <entry>
    <title>荣耀平板V7Pro 与华为 matepad paper USB 调试开启教程</title>
    <link href="https://powersee.github.io/2022/04/usb-debugging-honor-and-huawei/"/>
    <id>https://powersee.github.io/2022/04/usb-debugging-honor-and-huawei/</id>
    <published>2022-04-21T08:52:15.000Z</published>
    <updated>2022-04-21T08:59:06.284Z</updated>
    
    <content type="html"><![CDATA[<p>手头上有一台荣耀的平板，以及一台华为的墨水屏平板，我发现它们想要和其它的设备一样开启 USB 调试，然后在电脑上使用 adb 来控制，似乎没那么容易。本文记录我折腾的过程，方便有同样需求的小伙伴。</p><h3 id="荣耀"><a href="#荣耀" class="headerlink" title="荣耀"></a>荣耀</h3><p>首先到【设置】【关于平板电脑】里，连续点击 5 次【版本号】，可以开启开发者模式。</p><p>然后到【系统和更新】【开发人员选项】打开【usb调试】以及 【“仅充电”模式下允许 ADB 调试】</p><p>最后用数据线连接平板与 windows 电脑，将会发现，它不按套路出牌，执行 <code>adb devices</code> 后并不能显示设备。</p><p><img src="/img/2022/2022-04-12_13-11-26.jpg" alt="2022-04-12_13-11-26"></p><p>打开 Android studio 也一样识别不到</p><p><img src="/img/2022/2022-04-12_13-16-38.jpg" alt="2022-04-12_13-16-38"></p><p>怎么搞呢？那么试试装一下此时显示在【此电脑】里面，多出来的那个盘符里的手机助理吧。装好后我发现可以连接了，而且这个过程中，平板上会弹出提示，它这个叫 HDB 验证。。。而平时我们在其他安卓手机、平板上的叫 ADB 验证。</p><p>那么它们是否都一样，只是荣耀这里改个名字而已呢？并不是，HDB 连接好后，可以通过电脑的手机助理来管理平板上的文件，应用等，好像还可以刷机。</p><p>但是这个时候如果我们再执行 <code>adb devices</code> ，会出现这个</p><p><img src="/img/2022/image-20220412134348799.png" alt="image-20220412134348799"></p><p>unauthorized ，adb 这边还是没有授权，依然没法使用 Android studio</p><p>我网上搜，别人有说手机上的怎么操作，需要在拨号界面输入 <code>*#*#2846579#*#*</code>，进入工程菜单</p><p>但问题是，我这是平板，没有拨号界面……</p><p>然后继续找，最后找到了。WIFI版平板进入计算器，横屏（科学计算器）模式下输入()()2846579()()即可进入工程模式。</p><p>来源：<a href="https://club.huawei.com/forum.php?mod=viewthread&tid=30717452&extra=page=1">花粉俱乐部</a></p><p>不过按照教程，应该把【USB端口设置】从 【Hisuite模式】改为 【生产模式】，但是我这台平板好像改不了，只能改为【默认模式】。不过好像不影响开启 adb，反正最后是成功了。</p><p><img src="/img/2022/2022-04-12_13-23-13.jpg" alt="2022-04-12_13-23-13"></p><p><img src="/img/2022/image-20220412134858390.png" alt="image-20220412134858390"></p><p>看来手机助理这个软件是完全没有必要安装的，关键点在于进入工程菜单。</p><h3 id="华为"><a href="#华为" class="headerlink" title="华为"></a>华为</h3><p>操作上基本一样。</p><p>点击版本号 5 次，打开开发者选项</p><p><img src="/img/2022/image-20220421153431809.png" alt="image-20220421153431809"></p><p>然后在【系统和更新】【开发人员选项】中打开 USB 调试</p><p><img src="/img/2022/image-20220421153531693.png" alt="image-20220421153531693"></p><p>到应用菜单里打开【计算机】，点击右上角进入【科学计算器】模式，输入 <code>()()2846579()()</code> 即可进入工程模式。</p><p><img src="/img/2022/image-20220421153730565.png" alt="image-20220421153730565"></p><p>此时在工程菜单里，点击【后台设置】【USB端口设置】，选择【生产模式】即可。</p><p><img src="/img/2022/image-20220421154105540.png" alt="image-20220421154105540"></p><p><img src="/img/2022/image-20220421154145072.png" alt="image-20220421154145072"></p><p>在 Android studio 里面也可以识别到了</p><p><img src="/img/2022/image-20220421154252687.png" alt="image-20220421154252687"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;手头上有一台荣耀的平板，以及一台华为的墨水屏平板，我发现它们想要和其它的设备一样开启 USB 调试，然后在电脑上使用 adb 来控制，似乎没那么容易。本文记录我折腾的过程，方便有同样需求的小伙伴。&lt;/p&gt;
&lt;h3 id=&quot;荣耀&quot;&gt;&lt;a href=&quot;#荣耀&quot; class=&quot;h
      
    
    </summary>
    
    
      <category term="手机" scheme="https://powersee.github.io/tags/%E6%89%8B%E6%9C%BA/"/>
    
      <category term="Android" scheme="https://powersee.github.io/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>RISC-V 开源软件安装与自行编译</title>
    <link href="https://powersee.github.io/2022/04/riscv-apps/"/>
    <id>https://powersee.github.io/2022/04/riscv-apps/</id>
    <published>2022-04-13T02:42:58.000Z</published>
    <updated>2022-05-16T11:39:55.344Z</updated>
    
    <content type="html"><![CDATA[<p>risc-v 开发板虽然可以运行 Linux 发行版，但是毕竟还是处于起步阶段，生态是没法跟 arm 以及 x86 相比的。</p><p>这段时间在研究这台 visionfive，在软件这方面也折腾了不少，本文记录一下心得。</p><p>以前拿到开发板或者可以运行 Linux 的机顶盒时，我喜欢在上面装下载软件，以及开启 smb 共享，让它作为一台简易 NAS 来使用。这次在 visionfive 上面我也有进行尝试。</p><p>首先 BT 下载软件 transmission 和 qbittorrent 在这上面想要安装都非常简单，直接用 dnf 就行</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">dnf install transmission-daemon</span><br><span class="line">dnf install qbittorrent-nox</span><br></pre></td></tr></table></figure><p><img src="/img/2022/image-20220412155348270.png" alt="image-20220412155348270"></p><p><img src="/img/2022/image-20220412155459647.png" alt="image-20220412155459647"></p><p>samba 也可以直接用 dnf 安装</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">dnf install samba</span><br></pre></td></tr></table></figure><p><img src="/img/2022/image-20220412160053966.png" alt="image-20220412160053966"></p><p>这种是比较简单的，这里就不多细讲了。</p><p>像有些开源软件，它是托管在 GitHub 上面的，这类软件，我们可以到它的 GitHub release 里面，下载 riscv 架构的可执行文件。这里举两个例子</p><h4 id="syncthing"><a href="#syncthing" class="headerlink" title="syncthing"></a>syncthing</h4><p>这是一个多平台同步软件，之前有一段时间，我经常使用它将我手机里的照片、视频，同步到电脑上面。</p><p>想要让它在 visionfive 上面运行，需要到 <a href="https://github.com/syncthing/syncthing/releases">https://github.com/syncthing/syncthing/releases</a> 里面找名字带 riscv64 的，目前最新的是这个</p><p><a href="https://github.com/syncthing/syncthing/releases/download/v1.19.2/syncthing-linux-riscv64-v1.19.2.tar.gz">https://github.com/syncthing/syncthing/releases/download/v1.19.2/syncthing-linux-riscv64-v1.19.2.tar.gz</a></p><p>我们可以通过 wget 将它下载到本地，然后使用 tar 解压</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wget https://github.com/syncthing/syncthing/releases/download/v1.19.2/syncthing-linux-riscv64-v1.19.2.tar.gz</span><br><span class="line">tar xf syncthing-linux-riscv64-v1.19.2.tar.gz</span><br></pre></td></tr></table></figure><p>此时我们得到的是一个文件夹</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="variable">$l</span> syncthing-linux-riscv64-v1.19.1</span><br><span class="line">total 23M</span><br><span class="line">drwxr-xr-x   5 riscv riscv 4.0K Mar  1 14:45 .</span><br><span class="line">drwx------. 19 riscv riscv 4.0K Apr 10 10:45 ..</span><br><span class="line">-rw-r--r--   1 riscv riscv  14K Mar  1 14:38 AUTHORS.txt</span><br><span class="line">drwxr-xr-x  11 riscv riscv 4.0K Mar  1 14:45 etc</span><br><span class="line">drwxr-xr-x   2 riscv riscv 4.0K Mar  1 14:45 extra</span><br><span class="line">-rw-r--r--   1 riscv riscv  17K Mar  1 14:38 LICENSE.txt</span><br><span class="line">drwxr-xr-x   2 riscv riscv 4.0K Mar  1 14:45 .metadata</span><br><span class="line">-rw-r--r--   1 riscv riscv 4.7K Mar  1 14:38 README.txt</span><br><span class="line">-rwxr-xr-x   1 riscv riscv  23M Mar  1 14:44 syncthing</span><br></pre></td></tr></table></figure><p>执行文件夹里的 syncthing 即可启动这个软件，然后它会输出一些启动信息</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">➜ <span class="built_in">cd</span> syncthing-linux-riscv64-v1.19.1 </span><br><span class="line">➜ syncthing-linux-riscv64-v1.19.1 ./syncthing </span><br><span class="line">[start] 16:13:15 INFO: syncthing v1.19.1 <span class="string">&quot;Fermium Flea&quot;</span> (go1.17.7 linux-riscv64) teamcity@build.syncthing.net 2022-02-21 13:57:21 UTC</span><br><span class="line">[start] 16:13:15 INFO: Generating ECDSA key and certificate <span class="keyword">for</span> syncthing...</span><br><span class="line">[start] 16:13:16 INFO: Default folder created and/or linked to new config</span><br><span class="line">[start] 16:13:16 INFO: Default config saved. Edit /root/.config/syncthing/config.xml to taste (with Syncthing stopped) or use the GUI</span><br><span class="line">[start] 16:13:16 INFO: Archiving a copy of old config file format at: /root/.config/syncthing/config.xml.v0</span><br></pre></td></tr></table></figure><p>等一会会出现一条比较重要的信息</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[6RXV3] 16:13:32 INFO: Access the GUI via the following URL: http://127.0.0.1:8384/</span><br></pre></td></tr></table></figure><p>它表示我们只能在 visionfive 上面使用浏览器访问这个网址，才可以打开 syncthing 的图形化界面。如果你像我一样，并没有给 visionfive 接显示器，一直都是 ssh 连接来操作的。此时这一步就没有进行下去了。</p><p>所以我们需要先停止软件，改一下配置文件后，再来启动。按 <code>ctrl + c</code> 这两个按键可以退出软件，然后我们使用 nano 来修改配置文件。</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">nano ~/.config/syncthing/config.xml</span><br></pre></td></tr></table></figure><p>找到 <code>&lt;address&gt;127.0.0.1:8384&lt;/address&gt;</code> 这一行，改为 <code>&lt;address&gt;0.0.0.0:8384&lt;/address&gt;</code> ，再次输入 <code>./syncthing</code> 启动软件</p><p>此时就可以用电脑的浏览器来访问运行在 visionfive 上面的 syncthing 了。</p><p><img src="/img/2022/image-20220412162500139.png" alt="image-20220412162500139"></p><h4 id="miniserve"><a href="#miniserve" class="headerlink" title="miniserve"></a>miniserve</h4><p>这个软件是我个人非常喜欢的文件展示应用，它的主要功能就是将某个文件夹通过 web 的方式共享出来，但是功能远不止于此。它还是支持上传功能，以及添加用户名密码验证，所以也可以把它当一个简易网盘来使用。</p><p>项目：<a href="https://github.com/svenstaro/miniserve">https://github.com/svenstaro/miniserve</a></p><p>安装方法：</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">wget https://github.com/svenstaro/miniserve/releases/download/v0.19.4/miniserve-v0.19.4-riscv64gc-unknown-linux-gnu</span><br><span class="line">mv miniserve-* miniserve</span><br><span class="line">chmod +x miniserve</span><br></pre></td></tr></table></figure><p>使用：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./miniserve</span><br></pre></td></tr></table></figure><p>非常简单，下载后赋予它可执行权限，然后直接 <code>./</code> 就可以运行了。这样它会将你当前所在的文件夹，通过 <code>8080</code> 端口共享出来。</p><p>如果想使用其它端口，可以使用 <code>-p</code> 来指定，想添加上传功能，使用 <code>-u</code> ，想共享其它的文件夹，直接将文件夹路径写上去即可。</p><p>示例：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">➜ ./miniserve -u -p 9527 /tmp/test</span><br><span class="line">miniserve v0.19.3</span><br><span class="line">Bound to [::]:9527, 0.0.0.0:9527</span><br><span class="line">Serving path /tmp/test</span><br><span class="line">Available at (non-exhaustive list):</span><br><span class="line">    http://127.0.0.1:9527</span><br><span class="line">    http://192.168.68.178:9527</span><br><span class="line">    http://[::1]:9527</span><br><span class="line"></span><br><span class="line">Quit by pressing CTRL-C</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/img/2022/image-20220412163658298.png" alt="image-20220412163658298"></p><h3 id="自行编译"><a href="#自行编译" class="headerlink" title="自行编译"></a>自行编译</h3><p>上面讲到的 syncthing 和 miniserve，它们的 release 里都有提供 riscv 的可执行文件，所以我们使用起来还算是比较容易。</p><p>但这类还是比较少数的，其它开源软件大多数目前都是没有提供 riscv 版的，所以如果我们想要使用的话，就需要自行编译。</p><p>先来一个简单的——<a href="https://github.com/zerotier/ZeroTierOne">zerotier</a></p><p>这个软件的功能是组虚拟局域网，让家里没有公网 ip 的用户，也可以远程访问家里设备。</p><p>想让它在 visionfive 上面运行我们需要自行编译，很简单，下载源代码到本地，进入项目文件夹，执行 make 编译就行</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git clone --depth=1 https://github.com/zerotier/ZeroTierOne.git</span><br><span class="line">cd ZeroTierOne</span><br><span class="line">make</span><br></pre></td></tr></table></figure><p>编译完成后当前目前下多出 <code>zerotier-one</code> 和 <code>zerotier-cli</code></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./zerotier-cli -v                   </span><br><span class="line">1.8.8</span><br></pre></td></tr></table></figure><p>另外我还尝试编译 <a href="https://github.com/fatedier/frp">frp</a> 这款软件，这个耗费了我不少的时间。由于它是用 go 写的，想要编译它需要有 go 环境，然后我就想到 golang 的官网下载，却发现并没有提供 riscv 版的。</p><p>走了一堆弯路之后，我才发现 visionfive 的 Fedora 里竟然自带 go</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">➜  ~ go version</span><br><span class="line">go version go1.14.6 gccgo (GCC) 10.3.1 20210422 (Red Hat 10.3.1-1) linux/riscv64</span><br></pre></td></tr></table></figure><p>不过我使用它并没法成功编译 frp，想使用自带的 go1.14.6 编译现在最新的 go1.18 也没成功。</p><p>之后又发现在 x86 上面是可以使用 go 设定交叉编译，来编译 riscv64 的可执行文件的。</p><p>最终我使用这两条命令，成功编译出 riscv 版的 frp 服务器端和客户端</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">go env -w GOPROXY=https://goproxy.cn</span><br></pre></td></tr></table></figure><p>网络问题，先设置代理</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CGO_ENABLE=0 GOOS=linux GOARCH=riscv64 go build ./cmd/frpc</span><br><span class="line">CGO_ENABLE=0 GOOS=linux GOARCH=riscv64 go build ./cmd/frps</span><br></pre></td></tr></table></figure><p>这样编译出来的文件是在当前目录下的，想存放在其它地方，应该使用 -o 参数</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CGO_ENABLE=0 GOOS=linux GOARCH=riscv64 go build -o bin/frpc-riscv64 ./cmd/frpc</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">➜ frpc -v         </span><br><span class="line">0.41.0</span><br><span class="line">➜ file frpc       </span><br><span class="line">frpc: ELF 64-bit LSB executable, UCB RISC-V, version 1 (SYSV), statically linked, Go BuildID=Pwh5MYcPoYJ1E09FI1rO/vrYuoTbR0yxAguZ0ck9D/DeYARJeTJfCF72R2PXOv/9mZ673VwFshYBrO5Grjy, not stripped</span><br></pre></td></tr></table></figure><p>那么用同样的方法，也可以编译 <a href="https://github.com/filebrowser/filebrowser">filebrowser</a> 的后端部分</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GOOS=linux GOARCH=riscv64 go build</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">➜ file filebrowser</span><br><span class="line">filebrowser: ELF 64-bit LSB executable, UCB RISC-V, version 1 (SYSV), statically linked, Go BuildID=8ohLL6OaYPgPR1ZtkIRd/d9lcK8Ocz9YIDVZqMFFv/cB4dn0G6WtNCIXUJsvX-/Xo17t9_I87svg4x4zqx_, not stripped</span><br></pre></td></tr></table></figure><p>前端部分需要 nodejs 和 npm ，这个官方没有提供 riscv 版，GitHub 上面有修改版，说是可以给 riscv 用，不过我没弄成功。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;risc-v 开发板虽然可以运行 Linux 发行版，但是毕竟还是处于起步阶段，生态是没法跟 arm 以及 x86 相比的。&lt;/p&gt;
&lt;p&gt;这段时间在研究这台 visionfive，在软件这方面也折腾了不少，本文记录一下心得。&lt;/p&gt;
&lt;p&gt;以前拿到开发板或者可以运行 Li
      
    
    </summary>
    
    
      <category term="设备" scheme="https://powersee.github.io/tags/%E8%AE%BE%E5%A4%87/"/>
    
      <category term="Linux" scheme="https://powersee.github.io/tags/Linux/"/>
    
  </entry>
  
</feed>
