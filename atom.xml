<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Powersee的博客</title>
  
  
  <link href="https://powersee.github.io/atom.xml" rel="self"/>
  
  <link href="https://powersee.github.io/"/>
  <updated>2023-04-04T03:52:54.646Z</updated>
  <id>https://powersee.github.io/</id>
  
  <author>
    <name>powersee</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Windows 上 where 命令</title>
    <link href="https://powersee.github.io/2023/04/windows-where/"/>
    <id>https://powersee.github.io/2023/04/windows-where/</id>
    <published>2023-04-04T03:52:13.000Z</published>
    <updated>2023-04-04T03:52:54.646Z</updated>
    
    <content type="html"><![CDATA[<p>在 Mac 和 Linux 我们可以使用 which 命令，来查看某个命令的绝对路径，例如：</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">❯ <span class="built_in">which</span> go</span><br><span class="line">/usr/local/go/bin/go</span><br></pre></td></tr></table></figure><p>在 Windows 上我们可以使用 where</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">&gt; <span class="built_in">where</span> node</span><br><span class="line">C:\bin\node-v19.8.1-win-x64\node.exe</span><br></pre></td></tr></table></figure><p>我测试了下，发现只有 cmd 支持，我用 powershell 和 nu shell 都不支持。</p><p>解决方法是，使用 <code>where.exe</code></p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">&gt; where.exe node</span><br><span class="line">C:\bin\node-v19.8.1-win-x64\node.exe</span><br></pre></td></tr></table></figure><p>或者使用 <code>gcm</code></p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">&gt; gcm node</span><br><span class="line"></span><br><span class="line">CommandType     Name        Version    Source</span><br><span class="line">-----------     ----        -------    ------</span><br><span class="line">Application     node.exe    19.8.1.0   C:\bin\node-v19.8.1-win-x64\node.exe</span><br></pre></td></tr></table></figure><h2 id=""><a href="#" class="headerlink" title=""></a></h2>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;在 Mac 和 Linux 我们可以使用 which 命令，来查看某个命令的绝对路径，例如：&lt;/p&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;❯ &lt;sp</summary>
      
    
    
    
    
    <category term="Windows" scheme="https://powersee.github.io/tags/Windows/"/>
    
  </entry>
  
  <entry>
    <title>我的图片优化方案</title>
    <link href="https://powersee.github.io/2023/04/blog-image-optimize/"/>
    <id>https://powersee.github.io/2023/04/blog-image-optimize/</id>
    <published>2023-04-02T17:26:05.000Z</published>
    <updated>2023-04-02T17:33:28.485Z</updated>
    
    <content type="html"><![CDATA[<p>我现在的博客是用 hexo 生成的静态网页，部署在 GitHub pages。</p><p>而众所周知，国内访问 GitHub pages 一直不怎么好，所以优化非常重要。</p><p>我之前使用的博客主题，需要加载 font awesome 图标，导致网站打开后需要等很久才能看到图标。再加上用久了，有点审美疲劳，所以最近换了个主题，现在速度快了很多。</p><p>改完主题后，我又注意到另一个影响访问速度的因素——图片。</p><p>我博客的图片，都是放在 source&#x2F;img 目录中，按照年份建立目录。</p><p><img src="/img/2023/blog-source-img.jpg" alt="blog-source-img"></p><p>我可以通过按大小排序，来查出哪些图片占用的空间比较大。</p><p><img src="/img/2023/images-sort-by-size.webp" alt="images-sort-by-size"></p><p>现在看到的是我已经优化过的了，下面说说我的优化过程。</p><h3 id="Mac-自带「预览」"><a href="#Mac-自带「预览」" class="headerlink" title="Mac 自带「预览」"></a>Mac 自带「预览」</h3><p>在 Mac 上双击一张图片，会使用自带的「预览」来打开。可以点击「文件」「导出」，选择 JPEG 格式，可以更改它的质量来缩小图片体积。</p><p><img src="/img/2023/Mac-preview-export.webp" alt="Mac-preview-export"></p><h3 id="使用-Photoshop-或者-affinity-photo"><a href="#使用-Photoshop-或者-affinity-photo" class="headerlink" title="使用 Photoshop 或者 affinity photo"></a>使用 Photoshop 或者 affinity photo</h3><p><img src="/img/2023/affinity-photo.webp" alt="affinity-photo"></p><p>专业的图片处理软件，除非要修改图片内容，不然一般不会选择用它们来压缩图片。</p><h3 id="ImageOptim"><a href="#ImageOptim" class="headerlink" title="ImageOptim"></a>ImageOptim</h3><p><img src="/img/2023/ImageOptim.webp" alt="ImageOptim"></p><p>一个开源的图片优化工具，直接把图片拖进来就行。它只有 <a href="https://imageoptim.com/mac">Mac 版本</a>，在 <a href="https://github.com/ImageOptim/ImageOptim">GitHub</a> 上面有 8.3K star。</p><p>上面我拖了一张图片进来，它处理后，图片大小变成原来的 65.1% 了。这是在我开启微量有损的情况，不开的话，压缩比并不高。</p><p>然后我觉得它有两个缺点：</p><ul><li>压缩后直接替换掉原文件</li><li>压缩时间太长</li></ul><p>所以我不怎么用它。</p><h3 id="使用-WebP-格式"><a href="#使用-WebP-格式" class="headerlink" title="使用 WebP 格式"></a>使用 WebP 格式</h3><p>之前的<a href="/2023/03/about-webp/">文章</a>我已经介绍过它了，我目前博客新添加的图片，如果体积比较大，我都尽量把它们转为 WebP 格式。它的压缩比超级强。</p><p><img src="/img/2023/vr.webp" alt="qiyu-vr"></p><p>你能想象这样一张分辨率为 5472×3080 的图片，它只有 87KB 吗？</p><p>它可以做到图片很小的情况下，还保持着不错的图片质量，真心不错。</p><p>由于经常转换格式，所以我后来将它弄成一个 APP，图片拖进去就会自动转换为 WebP 格式。</p><p><img src="/img/2023/webp-mac-app.webp" alt="webp-mac-app"></p><p>感兴趣的可以看<a href="/2023/03/create-mac-app-from-command-line-scripts/">之前的文章</a>。这么一番优化，我目前整个博客的图片，只有 34MB，我手机开数据的情况下访问我的博客，速度方面感觉也还不错。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;我现在的博客是用 hexo 生成的静态网页，部署在 GitHub pages。&lt;/p&gt;
&lt;p&gt;而众所周知，国内访问 GitHub pages 一直不怎么好，所以优化非常重要。&lt;/p&gt;
&lt;p&gt;我之前使用的博客主题，需要加载 font awesome 图标，导致网站打开后需要等</summary>
      
    
    
    
    
    <category term="Mac" scheme="https://powersee.github.io/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>安装 ohmyposh 来美化 powershell</title>
    <link href="https://powersee.github.io/2023/04/powershell-ohmyposh/"/>
    <id>https://powersee.github.io/2023/04/powershell-ohmyposh/</id>
    <published>2023-04-02T07:09:34.000Z</published>
    <updated>2023-04-03T06:44:04.662Z</updated>
    
    <content type="html"><![CDATA[<p>通过安装 ohmyposh 来美化 powershell，最终效果如下。</p><p><img src="/img/2023/ohmyposh.png" alt="ohmyposh"></p><p>安装 Oh My Posh</p><p>可以到 Microsoft Store 安装</p><p><img src="/img/2023/oh-my-posh-app-store.png" alt="oh-my-posh-app-store"></p><p>或者通过命令行来安装，需要用管理员身份运行。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">winget install JanDeDobbeleer.OhMyPosh -s winget</span><br></pre></td></tr></table></figure><p>不过，极大的可能会因为网络问题安装失败</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&gt; winget install JanDeDobbeleer.OhMyPosh -s winget</span><br><span class="line">已找到 Oh My Posh [JanDeDobbeleer.OhMyPosh] 版本 14.24.0</span><br><span class="line">此应用程序由其所有者授权给你。</span><br><span class="line">Microsoft 对第三方程序包概不负责，也不向第三方程序包授予任何许可证。</span><br><span class="line">正在下载 https://github.com/JanDeDobbeleer/oh-my-posh/releases/download/v14.24.0/install-amd64.exe</span><br><span class="line">执行此命令时发生意外错误：</span><br><span class="line">InternetOpenUrl() failed.</span><br><span class="line">0x80072efd : unknown error</span><br></pre></td></tr></table></figure><p>我是通过设置命令行走代理来解决的。</p><p>想要 <code>ls</code> 后显示的文件带图标，需要安装 <code>Terminal-Icons</code>（需要用管理员身份运行）</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Install-Module -Name Terminal-Icons -Repository PSGallery</span><br></pre></td></tr></table></figure><p><img src="/img/2023/ohmyposh-powershell.png" alt="ohmyposh-powershell"></p><p>需要输入两次 y，大小写随便。</p><p>装好后可以尝试在终端执行</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Import-Module -Name Terminal-Icons</span><br></pre></td></tr></table></figure><p>如果像这样报错了</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&gt; Import-Module -Name Terminal-Icons</span><br><span class="line"></span><br><span class="line">Import-Module : 无法加载文件 C:\Program Files\WindowsPowerShell\Modules\Terminal-Icons\0.10.0\Terminal-Icons.psm1，因为在此系统上禁止运行脚本。有关详细信息，请参阅 https:/go.microsoft.com/fwlink/?LinkID=135170 中的 about_Execution_Policies。</span><br><span class="line"></span><br><span class="line">所在位置 行:1 字符: 1</span><br><span class="line"></span><br><span class="line">+ Import-Module -Name Terminal-Icons</span><br><span class="line"></span><br><span class="line">+ ~~~~~~~~~~</span><br><span class="line"></span><br><span class="line">+ CategoryInfo : SecurityError: (:) [Import-Module]，PSSecurityException</span><br><span class="line"></span><br><span class="line">+ FullyQualifiedErrorId : UnauthorizedAccess,Microsoft.PowerShell.Commands.ImportModuleCommand</span><br></pre></td></tr></table></figure><p>需要更改执行策略，执行命令后输入 y 再按回车。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&gt; set-executionpolicy remotesigned</span><br><span class="line"></span><br><span class="line">执行策略更改</span><br><span class="line"></span><br><span class="line">执行策略可帮助你防止执行不信任的脚本。更改执行策略可能会产生安全风险，如 https:/go.microsoft.com/fwlink/?LinkID=135170</span><br><span class="line"></span><br><span class="line">中的 about_Execution_Policies 帮助主题所述。是否要更改执行策略?</span><br><span class="line"></span><br><span class="line">[Y] 是(Y) [A] 全是(A) [N] 否(N) [L] 全否(L) [S] 暂停(S) [?] 帮助 (默认值为“N”): y</span><br></pre></td></tr></table></figure><p>打开 PowerShell profile，加入这两行。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">oh-my-posh --init --shell pwsh --config ~\Documents\WindowsPowerShell\ohmyposhv3-v2.json | Invoke-Expression</span><br><span class="line">Import-Module -Name Terminal-Icons</span><br></pre></td></tr></table></figure><p>json 配置文件下载：<a href="https://gist.github.com/shanselman/1f69b28bfcc4f7716e49eb5bb34d7b2c?WT.mc_id=-blog-scottha">ohmyposhv3-v2 (github.com)</a></p><p>直链：<a href="https://gist.github.com/shanselman/1f69b28bfcc4f7716e49eb5bb34d7b2c/raw/8e9c9a8736ff4e9e5a863c20833d614549ccbc32/ohmyposhv3-v2.json">https://gist.github.com/shanselman/1f69b28bfcc4f7716e49eb5bb34d7b2c/raw/8e9c9a8736ff4e9e5a863c20833d614549ccbc32/ohmyposhv3-v2.json</a></p><p>我也放一份到我的博客里面：<a href="/misc/ohmyposhv3-v2.json">ohmyposhv3-v2</a> 可以右键，「链接另存为…」来下载。</p><p>我是把这个文件直接放到 Documents\WindowsPowerShell 里面。</p><p>你也可以放在其它地方，只要改 <code>--config</code> 后面的路径就行。</p><p>这样修改之后，之后打开终端就自动加载 oh my posh 了。</p><p><img src="/img/2023/ohmyposh-1806.png" alt="ohmyposh-1806"></p><p>这里显示 1806 毫秒，后面我再新开两个 tab，都是 800 毫秒左右。</p><p>然后还需要设置字体，不然这些图标加载不出来。可以到<a href="https://www.nerdfonts.com/">这里</a>下载字体，选择自己喜欢的，下载后是压缩包，解压出来，选中所有字体，右键安装即可。</p><p><img src="/img/2023/win-terminal-font.png" alt="win-terminal-font"></p><p>之后到「设置」「默认值」「外观」里面更改字体。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;通过安装 ohmyposh 来美化 powershell，最终效果如下。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/2023/ohmyposh.png&quot; alt=&quot;ohmyposh&quot;&gt;&lt;/p&gt;
&lt;p&gt;安装 Oh My Posh&lt;/p&gt;
&lt;p&gt;可以到 Microsoft S</summary>
      
    
    
    
    
    <category term="Windows" scheme="https://powersee.github.io/tags/Windows/"/>
    
  </entry>
  
  <entry>
    <title>Mac 打开 shell 之后，提示 You have new mail</title>
    <link href="https://powersee.github.io/2023/04/mac-shell-you-have-new-mail/"/>
    <id>https://powersee.github.io/2023/04/mac-shell-you-have-new-mail/</id>
    <published>2023-03-31T17:15:01.000Z</published>
    <updated>2023-03-31T17:17:40.919Z</updated>
    
    <content type="html"><![CDATA[<p>邮件？这里的邮件可不是指邮件 APP 里的邮件。而是指 <code>/var/mail</code> 里面的邮件，其实就 cron 计划任务的日志。</p><p>可以在 shell 里执行 <code>mail</code> 来查看。也可以把 <code>/var/mail</code> 里的文件，直接拉到文本编辑器来查看，例如我直接放到 vscode 来查看。</p><p>由于文件没有后缀名，（我的是我的账号名）所以 vscode 自动检测错，把它识别为 Python 文件。</p><p>可以点击底部来更改，改成 log。</p><p><img src="/img/2023/vscode-log.webp" alt="vscode-log"></p><p>看完之后，发现也没什么，可以直接把这个文件删除了，这样再打开 shell 就不会有提示了。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;邮件？这里的邮件可不是指邮件 APP 里的邮件。而是指 &lt;code&gt;/var/mail&lt;/code&gt; 里面的邮件，其实就 cron 计划任务的日志。&lt;/p&gt;
&lt;p&gt;可以在 shell 里执行 &lt;code&gt;mail&lt;/code&gt; 来查看。也可以把 &lt;code&gt;/var/mai</summary>
      
    
    
    
    
    <category term="Mac" scheme="https://powersee.github.io/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>Mac 截图的相关了解</title>
    <link href="https://powersee.github.io/2023/03/mac-screenshot/"/>
    <id>https://powersee.github.io/2023/03/mac-screenshot/</id>
    <published>2023-03-31T02:31:09.000Z</published>
    <updated>2023-03-31T02:32:35.307Z</updated>
    
    <content type="html"><![CDATA[<h3 id="为什么-Mac-截图后，图片在-Finder-里面，和其它的文件不一样，它的文件名是灰色的，不像其它文件是黑色的"><a href="#为什么-Mac-截图后，图片在-Finder-里面，和其它的文件不一样，它的文件名是灰色的，不像其它文件是黑色的" class="headerlink" title="为什么 Mac 截图后，图片在 Finder 里面，和其它的文件不一样，它的文件名是灰色的，不像其它文件是黑色的"></a>为什么 Mac 截图后，图片在 Finder 里面，和其它的文件不一样，它的文件名是灰色的，不像其它文件是黑色的</h3><p>在 Mac OS 中，如果一个文件或文件夹的名称是灰色的，这通常表示该文件或文件夹已被标记为“不可用”，这意味着它已被删除、移动或重命名。</p><p>但是，在截图之后，Finder 中显示的文件名虽然是灰色的，但文件本身并没有被标记为“不可用”。相反，灰色的名称在这种情况下表示该文件是新创建的，但尚未被编辑或重命名。当您对该文件进行任何编辑或更改文件名时，文件名将变为黑色。</p><p>因此，无需担心截图文件名灰色的问题，这只是 Mac OS 的一种普遍表现形式，并不意味着该文件已被标记为“不可用”。</p><h3 id="Mac-截图之后，图片会在右下角停留几秒，才显示在桌面，如何设置它直接显示在桌面？"><a href="#Mac-截图之后，图片会在右下角停留几秒，才显示在桌面，如何设置它直接显示在桌面？" class="headerlink" title="Mac 截图之后，图片会在右下角停留几秒，才显示在桌面，如何设置它直接显示在桌面？"></a>Mac 截图之后，图片会在右下角停留几秒，才显示在桌面，如何设置它直接显示在桌面？</h3><p>可以通过输入以下命令来更改截图的保存行为，并直接在桌面上显示它们，而无需等待几秒钟：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">defaults write com.apple.screencapture show-thumbnail -bool FALSE &amp;&amp; killall SystemUIServer</span><br></pre></td></tr></table></figure><p>这会禁用截图缩略图并立即使更改生效。现在，您在截图后将立即在桌面上看到它们，而不是在弹出的缩略图中等待数秒。</p><p>请注意，在此更改生效后，您将无法通过双击屏幕截图缩略图来打开它。您需要手动打开存储截图的文件夹，然后找到并打开它们。但是，这个行为可以通过运行以下命令来恢复：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">defaults write com.apple.screencapture show-thumbnail -bool TRUE &amp;&amp; killall SystemUIServer</span><br></pre></td></tr></table></figure><p>这里的 <code>-bool</code> 选项允许您将参数值设置为 <code>TRUE</code> 或 <code>FALSE</code>，以启用或禁用缩略图。</p><h3 id="如何更改截图保存位置？"><a href="#如何更改截图保存位置？" class="headerlink" title="如何更改截图保存位置？"></a>如何更改截图保存位置？</h3><p>默认情况下是保存在「桌面」目录中</p><p>我们可以按快捷键 <code>cmd + shift + 5</code> 来唤出截图界面，在「选项」里可以更改保存位置。</p><p><img src="/img/2023/screenshot-option.jpg" alt="screenshot-option"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;为什么-Mac-截图后，图片在-Finder-里面，和其它的文件不一样，它的文件名是灰色的，不像其它文件是黑色的&quot;&gt;&lt;a href=&quot;#为什么-Mac-截图后，图片在-Finder-里面，和其它的文件不一样，它的文件名是灰色的，不像其它文件是黑色的&quot; class=</summary>
      
    
    
    
    
    <category term="Mac" scheme="https://powersee.github.io/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>让 iTerm2 命令执行完之后，弹出通知</title>
    <link href="https://powersee.github.io/2023/03/iterm2-notification/"/>
    <id>https://powersee.github.io/2023/03/iterm2-notification/</id>
    <published>2023-03-30T06:04:33.000Z</published>
    <updated>2023-03-30T06:08:27.714Z</updated>
    
    <content type="html"><![CDATA[<p>感觉这个功能超好用。</p><p>有些命令可能需要很久才能执行完，主要是安装之类的，例如 brew 或者 npm，按下回车之后，都不知道它要多久才能装好，我们可能需要时不时就回来看看。</p><p>而在 iTerm2 里面，我们可以设置命令执行完之后，弹出一条通知。这样一来，我们执行命令后，就可以去干其它事情了，等收到通知再回来就行。</p><p><img src="/img/2023/iTerm2-notification.png" alt="iTerm2-notification"></p><p>想要实现这个功能，需要在顶部菜单里，先点击「iTerm2」，再点击「Install Shell Integration」，意思是安装 shell 集合。</p><p>它会执行这样一条命令</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">curl -L https://iterm2.com/shell_integration/install_shell_integration_and_utilities.sh | bash</span><br></pre></td></tr></table></figure><p>安装好后多出这些功能</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">You will also have these commands:</span><br><span class="line">imgcat filename</span><br><span class="line">  Displays the image inline.</span><br><span class="line">imgls</span><br><span class="line">  Shows a directory listing with image thumbnails.</span><br><span class="line">it2api</span><br><span class="line">  Command-line utility to manipulate iTerm2.</span><br><span class="line">it2attention start|stop|fireworks</span><br><span class="line">  Gets your attention.</span><br><span class="line">it2check</span><br><span class="line">  Checks if the terminal is iTerm2.</span><br><span class="line">it2copy [filename]</span><br><span class="line">  Copies to the pasteboard.</span><br><span class="line">it2dl filename</span><br><span class="line">  Downloads the specified file, saving it in your Downloads folder.</span><br><span class="line">it2setcolor ...</span><br><span class="line">  Changes individual color settings or loads a color preset.</span><br><span class="line">it2setkeylabel ...</span><br><span class="line">  Changes Touch Bar function key labels.</span><br><span class="line">it2tip</span><br><span class="line">  iTerm2 usage tips</span><br><span class="line">it2ul</span><br><span class="line">  Uploads a file.</span><br><span class="line">it2universion</span><br><span class="line">  Sets the current unicode version.</span><br><span class="line">it2profile</span><br><span class="line">  Change iTerm2 session profile on the fly.</span><br></pre></td></tr></table></figure><p><img src="/img/2023/shell-integration-install-complete.jpg" alt="shell-integration-install-complete"></p><p>然后我们新开一个窗口或者 tab，在菜单里面选择 Edit 、 Marks and Annotations 、 Alerts，打开 Alert on next mark</p><p><img src="/img/2023/alert-no-next-Mark.webp" alt="alert-no-next-Mark"></p><p>开启之后，就可以在右上角看到一个眼睛👁的图标。也可以使用快捷键 <code>cmd + alt + A</code> 来开启。</p><p><img src="/img/2023/iTerm2-marked.webp" alt="iTerm2-marked"></p><p>之后再执行命令，只要命令完成了，就会弹出一条通知。</p><p><img src="/img/2023/iTerm2-notification.png" alt="iTerm2-notification"></p><p>如果我们选择 「Show Modal Alert Box」，那么会出现这样一个提示窗口</p><p><img src="/img/2023/iTerm2-alert.webp" alt="iTerm2-alert"></p><p>点击 Reveal 就会跳转到 iTerm2 里面。不过这个应该先执行命令，在设置 Mark 出现眼睛👁。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;感觉这个功能超好用。&lt;/p&gt;
&lt;p&gt;有些命令可能需要很久才能执行完，主要是安装之类的，例如 brew 或者 npm，按下回车之后，都不知道它要多久才能装好，我们可能需要时不时就回来看看。&lt;/p&gt;
&lt;p&gt;而在 iTerm2 里面，我们可以设置命令执行完之后，弹出一条通知。这样</summary>
      
    
    
    
    
    <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>给图片加时间戳水印</title>
    <link href="https://powersee.github.io/2023/03/add-timestamp-to-images/"/>
    <id>https://powersee.github.io/2023/03/add-timestamp-to-images/</id>
    <published>2023-03-29T00:12:33.000Z</published>
    <updated>2023-03-29T00:54:35.995Z</updated>
    
    <content type="html"><![CDATA[<p>在安装了 imageMagick 之后，可以使用命令来对图片进行修改。</p><p>例如，给图片加时间戳水印。需要使用到 <code>convert</code> 这个命令。</p><p>我在网上看到的教程，有教使用 <code>%[exif:datetime]</code>、<code>%[exif:dateTimeOriginal]</code>这些参数的。</p><p>但是我尝试之后都失败了。因为并不是所有的图片都有这些信息。</p><p>我们可以使用这个命令</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">identify -verbose your_image.jpg</span><br></pre></td></tr></table></figure><p>来查看图片有哪些元数据，这是我的一张图片，是使用命令行捕获摄像头画面保存下来的，信息比用相机拍的图片少很多。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Properties:</span><br><span class="line">  date:create: 2023-03-26T06:45:38+00:00</span><br><span class="line">  date:modify: 2023-03-26T06:45:38+00:00</span><br><span class="line">  date:timestamp: 2023-03-28T07:43:40+00:00</span><br><span class="line">  jpeg:colorspace: 2</span><br></pre></td></tr></table></figure><p>把 <code>2023-03-26T06:45:38+00:00</code> 这样的时间加到图片上，好像作用不大，因为我们这是 +08:00，弄个 0 时区的时间加上去……</p><p>另外还可以不用图片的日期，我想要将当前的时间，直接加到图片上，可以这么写</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">convert snapshot.jpg -gravity SouthEast -fill yellow -pointsize 20 -annotate +1+1  <span class="string">&quot;`date +&#x27;%Y-%m-%d %H:%M:%S&#x27;`&quot;</span> temp.jpg</span><br></pre></td></tr></table></figure><p>这样的命令可以把当前时间印在图片上。不过这么用的应该很少，按理说，一般应该使用图片的创建时间，也就是照片拍摄的时间。</p><p>如果使用相机、手机拍的照片，一般使用<code>DateTimeOriginal</code>会比较多。</p><p>这是一张使用索尼相机拍的照片，它有这些信息。可以发现</p><ul><li>DateTime</li><li>DateTimeDigitized</li><li>DateTimeOriginal</li></ul><p>的时间都是一样的。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Properties:</span><br><span class="line">  date:create: 2022-11-23T09:29:46+00:00</span><br><span class="line">  date:modify: 2022-07-05T06:35:22+00:00</span><br><span class="line">  date:timestamp: 2023-03-28T13:22:40+00:00</span><br><span class="line">  exif:BrightnessValue: 13884/2560</span><br><span class="line">  exif:ColorSpace: 1</span><br><span class="line">  exif:ComponentsConfiguration: ...</span><br><span class="line">  exif:CompressedBitsPerPixel: 1/1</span><br><span class="line">  exif:Contrast: 0</span><br><span class="line">  exif:CustomRendered: 0</span><br><span class="line">  exif:DateTime: 2022:07:05 14:35:23</span><br><span class="line">  exif:DateTimeDigitized: 2022:07:05 14:35:23</span><br><span class="line">  exif:DateTimeOriginal: 2022:07:05 14:35:23</span><br><span class="line">  exif:DigitalZoomRatio: 16/16</span><br><span class="line"> ...</span><br></pre></td></tr></table></figure><p>如果我们要加时间戳，直接使用这样的时间就行了。因此我建议先查看一下，图片有哪些元数据可以用，再看看选择哪个比较好。</p><hr><p>记录我遇到的一个坑，使用下面的命令，在 zsh 里面都会报错。</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">$ convert snapshot.jpg -gravity SouthEast -fill yellow -pointsize 20 -annotate +1+1  %[<span class="built_in">date</span>:create] temp.jpg</span><br><span class="line"></span><br><span class="line">zsh: no matches found: %[<span class="built_in">date</span>:create]</span><br></pre></td></tr></table></figure><p>这个错误是因为 zsh 默认开启了文件名通配符的功能，其中 <code>%[</code> 是 zsh 文件名通配符的一部分，所以它会认为 <code>%[</code> 是一个通配符，然后去尝试匹配文件名，但是找不到符合这个模式的文件，于是就报错了。</p><p>为了解决这个问题，需要把 <code>%[</code> 用引号引起来，例如：</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">convert snapshot.jpg -gravity SouthEast -fill yellow -pointsize 20 -annotate +1+1 <span class="string">&quot;%[date:create]&quot;</span> temp.jpg</span><br></pre></td></tr></table></figure><p>这样，zsh 就不会把 <code>%[</code> 当成文件名通配符了，而是当成普通的字符串来处理，就不会报错了。</p><p>如果你使用的是 bash，就可以不用加。但即使在 bash 里面加了引号，也可以执行的。</p><h3 id="解释："><a href="#解释：" class="headerlink" title="解释："></a>解释：</h3><p>这条命令使用 ImageMagick 的 convert 工具对一张名为 snapshot.jpg 的图片进行操作，并将结果保存为 temp.jpg。</p><p>具体的操作包括：</p><ol><li><code>-gravity SouthEast</code>：将文字水印放在东南方，也就是图片的右下角。</li><li><code>-fill yellow</code>：将文字水印的颜色设置为黄色。</li><li><code>-pointsize 20</code>：设置文字水印的字体大小为 20。</li><li><code>-annotate +1+1</code>：往左和上偏移 1 个像素。</li><li><code>&quot;%[date:create]&quot;</code>：将图片创建日期和时间作为文字水印的内容，这里使用了 ImageMagick 的内置变量 %[date:create]，它会从图片的元数据中读取日期和时间信息。</li><li><code>temp.jpg</code>：保存处理后的图片为 temp.jpg。</li></ol><p>因此，这条命令的作用是在图片的右下角添加一个黄色文字水印，内容为该图片的创建日期和时间。</p><p>我这条命令，是用在分辨率只有 640×480 的图片上的，如果是分辨率高的图片，得改改。</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">convert DSC00097.JPG -gravity SouthEast -fill yellow -pointsize 200 -annotate +10+10  <span class="string">&quot;%[exif:DateTime]&quot;</span> temp.jpg</span><br></pre></td></tr></table></figure><p>我这张图片的分辨率是 5472 × 3080，所以我把字体大小改为 200，偏移改为 10 像素，最终的效果是这样的。</p><p><img src="/img/2023/vr-add-timestamp.webp" alt="vr-add-timestamp"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;在安装了 imageMagick 之后，可以使用命令来对图片进行修改。&lt;/p&gt;
&lt;p&gt;例如，给图片加时间戳水印。需要使用到 &lt;code&gt;convert&lt;/code&gt; 这个命令。&lt;/p&gt;
&lt;p&gt;我在网上看到的教程，有教使用 &lt;code&gt;%[exif:datetime]&lt;/co</summary>
      
    
    
    
    
    <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>使用 ffmpeg 将图片合并为视频</title>
    <link href="https://powersee.github.io/2023/03/combine-pictures-into-a-video/"/>
    <id>https://powersee.github.io/2023/03/combine-pictures-into-a-video/</id>
    <published>2023-03-28T06:38:50.000Z</published>
    <updated>2023-03-28T07:12:26.752Z</updated>
    
    <content type="html"><![CDATA[<p>我需要合并图片为一个视频。我有很多张图片，像这样的命名：<code>2023-03-24-105322.jpg</code> <code>2023-03-24-105352.jpg</code> … 也就是(年-月-日-时分秒.jpg) 这样的来命名的。</p><p>我可以使用这样的命令：</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">ffmpeg -pattern_type glob -i <span class="string">&#x27;*.jpg&#x27;</span> output.mp4</span><br></pre></td></tr></table></figure><p>没有指定帧率，默认使用 25 帧。直接使用 * 会将当前目录中的所有 jpg 文件都匹配到。</p><p>如果我目录中还有其它图片，不想合并到视频里面，那么也可以这么写：</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">ffmpeg -pattern_type glob -i <span class="string">&#x27;????-??-??-??????.jpg&#x27;</span> output.mp4</span><br></pre></td></tr></table></figure><p><code>?</code>通配符表示匹配任意一个字符。</p><p>这样合并出来的视频，是一帧一张图片。这样太快了，一秒播放了 25 张图片。我想要它慢一点，可以通过调整帧率来实现。</p><p>此时需要使用 <code>-r</code> 参数，设置帧数为 10，这样一秒就只播放 10 张图片。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ffmpeg -r 10 -pattern_type glob -i &#x27;????-??-??-??????.jpg&#x27; output.mp4</span><br></pre></td></tr></table></figure><p>注意要放在 <code>-i</code> 前面。如果放在 <code>-i</code> 后面，会导致跳帧。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;我需要合并图片为一个视频。我有很多张图片，像这样的命名：&lt;code&gt;2023-03-24-105322.jpg&lt;/code&gt; &lt;code&gt;2023-03-24-105352.jpg&lt;/code&gt; … 也就是(年-月-日-时分秒.jpg) 这样的来命名的。&lt;/p&gt;
&lt;p&gt;我可</summary>
      
    
    
    
    
    <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>将 Mac 上的 shell 脚本，变成原生 Mac 图形应用</title>
    <link href="https://powersee.github.io/2023/03/create-mac-app-from-command-line-scripts/"/>
    <id>https://powersee.github.io/2023/03/create-mac-app-from-command-line-scripts/</id>
    <published>2023-03-27T04:09:13.000Z</published>
    <updated>2023-03-27T12:52:15.486Z</updated>
    
    <content type="html"><![CDATA[<p>之前讲到 <a href="/2023/03/about-webp/">WebP 图片格式</a>，目前我博客里一些比较大的图片，我都会转换为 WebP，这样图片的体积会缩小很多，访问的时候速度能提快一些。</p><p>不过，每次要将图片转换为 WebP，我都需要打开终端，在 shell 里用 cwebp 来转换。如果能够把它变为一个 APP，我打开 APP 后，将图片拖进去，它就自动转换就好了。</p><p>很快啊，我就实现这个目的了。</p><p><img src="/img/2023/webp-mac-app.webp" alt="webp-mac-app"></p><p>实现起来也很简单，使用一个开源应用：<a href="https://github.com/sveinbjornt/Platypus">sveinbjornt&#x2F;Platypus: Create native Mac applications from command line scripts. (github.com)</a></p><p>这个应用名字挺有趣的，叫「鸭嘴兽」，它的目的是把命令行脚本转换为 Mac 原生应用。在 GitHub 上面有非常详细的<a href="https://github.com/sveinbjornt/Platypus/blob/master/Documentation/Documentation.md">说明文档</a>。</p><p><img src="/img/2023/Platypus-webp.webp" alt="Platypus-webp"></p><p>我是直接点击「+New」让它新建一个脚本的，里面写这些内容。</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">/opt/homebrew/bin/cwebp <span class="string">&quot;<span class="variable">$1</span>&quot;</span> -o <span class="string">&quot;<span class="variable">$&#123;1%.*&#125;</span>.webp&quot;</span></span><br></pre></td></tr></table></figure><p>Interface 就选 Droplet，这样 APP 打开后就是一个让我们把文件拖进去的界面。</p><p><img src="/img/2023/Suffixes.webp" alt="Suffixes"></p><p>然后在 <code>Accept dropped items</code> 后面的 settings 中，我们需要勾选 Accept dropped files。</p><p>Suffixes 下面的框，就是设置支持的文件后缀。我是怎么将 jpeg 和 png 加进去的呢？它下面的 + - 都是没法点击的。因此我是直接拖一张 jpeg 图片，和一张 png 图片进来，后缀就加上去了。</p><p><img src="/img/2023/only-264KB.webp" alt="only-264KB"></p><p>如果不加 APP 图标的话，这样创建的应用只有 264KB。不过我还是加图标了，这样比较美观。</p><p><img src="/img/2023/Platypus-webp.webp" alt="Platypus-webp"></p><p>这个图标居然要 1.3MB，我是从 <a href="https://macosicons.com/">https://macosicons.com/</a> 下载的，这网站也挺好的，本打算点击图标查看详情，没想到它直接就下载了。不仅免费，而且连注册账号都不用。见惯了国内的网站难看的吃相，遇到这种反到有点不习惯了。</p><p>一切设置好后，点击一下「Create App」，选择保存在哪里，就生成了一个 Mac APP。</p><p>我们可以把它放到「应用程序」里面，这样就可以在「启动台」里面找到它。而且只有这样，APP 打开后再退出，才会留在「程序坞」里面。</p><p><img src="/img/2023/WebP-dock.jpg" alt="WebP-dock"></p><p>如果经常使用，我们可以将它长期固定在「程序坞」。像我这种用来处理图片的，可以在不打开 APP 的情况下，直接将图片拖到 APP 上面，就会打开 APP 自动处理，确实提高了效率，很不错。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;之前讲到 &lt;a href=&quot;/2023/03/about-webp/&quot;&gt;WebP 图片格式&lt;/a&gt;，目前我博客里一些比较大的图片，我都会转换为 WebP，这样图片的体积会缩小很多，访问的时候速度能提快一些。&lt;/p&gt;
&lt;p&gt;不过，每次要将图片转换为 WebP，我都需要打开终端</summary>
      
    
    
    
    
    <category term="Mac" scheme="https://powersee.github.io/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>电脑无线网卡没有 WiFi 但是有蓝牙</title>
    <link href="https://powersee.github.io/2023/03/WLAN-driver/"/>
    <id>https://powersee.github.io/2023/03/WLAN-driver/</id>
    <published>2023-03-26T06:00:39.000Z</published>
    <updated>2023-03-26T06:04:52.334Z</updated>
    
    <content type="html"><![CDATA[<p>突然发现，电脑没有 WiFi 选项了。右下角没有，进入设置里面也没有。难道是无线网卡坏了？</p><p>但是如果坏了，蓝牙应该也没法用才对。现在蓝牙是可以使用的。</p><p>于是我拔掉无线网卡，开机，蓝牙也没了。</p><p>再插上，蓝牙回来了，但是依然没有 WiFi。</p><p>打开设备管理器，发现网卡那里有个感叹号❕</p><p><img src="/../img/2023/2023-03-25_12-12-17.webp" alt="旧驱动"></p><p>看来是驱动问题，网卡驱动是一年前的了，可能需要升级。</p><p>刚好电脑里有装 360，那看看它能否帮忙升级驱动，结果并不能，而且 360 检测居然发现不了问题，说驱动一切正常……</p><p>没办法，只能到网上冲浪🏄🏻。然后在 B 站找到这篇文章：<a href="https://www.bilibili.com/read/cv15538455">https://www.bilibili.com/read/cv15538455</a></p><p>从这里下载了驱动，我下的是这个压缩包：MT792xDriver_20221118.zip</p><p>之后到设备管理器里面更新驱动，这样驱动版本就从 495 升级到了 713。</p><p><img src="/../img/2023/2023-03-25_12-12-58.png" alt="RZ608"></p><p>然后 WiFi 就可以用了。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;突然发现，电脑没有 WiFi 选项了。右下角没有，进入设置里面也没有。难道是无线网卡坏了？&lt;/p&gt;
&lt;p&gt;但是如果坏了，蓝牙应该也没法用才对。现在蓝牙是可以使用的。&lt;/p&gt;
&lt;p&gt;于是我拔掉无线网卡，开机，蓝牙也没了。&lt;/p&gt;
&lt;p&gt;再插上，蓝牙回来了，但是依然没有 WiF</summary>
      
    
    
    
    
    <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>省流好助手，WebP 格式是真的强👍🏻</title>
    <link href="https://powersee.github.io/2023/03/about-webp/"/>
    <id>https://powersee.github.io/2023/03/about-webp/</id>
    <published>2023-03-24T16:23:32.000Z</published>
    <updated>2023-04-02T17:35:48.738Z</updated>
    
    <content type="html"><![CDATA[<p>WebP 是 Google 推出的图片格式，优势是图片体积小。在博客中使用 WebP 格式，可以使加载速度更快。兼容性方面我觉得应该不用怎么担心了，毕竟现在 Safari 都支持了。</p><p>所以我目前会把博客中一些图片，转换为 WebP 格式，主要是针对 png 格式的。而原本那些 jpg 图片就没必要去动它了，反正本来就很小。</p><p>接下来介绍我是怎么处理 WebP 图片的。</p><p>我有一张用相机拍的照片，分辨率是 5472×3080，在电脑上显示它的大小是 1.7MB（Mac 上显示的大小）</p><p><img src="/img/2023/image-20230324103524483.webp" alt="image-20230324103524483"></p><p>使用 identify 获取它的信息（安装 imagemagick 后有这个命令）</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># identify DSC00097.JPG</span><br><span class="line">DSC00097.JPG JPEG 5472x3080 5472x3080+0+0 8-bit sRGB 1.57485MiB</span><br></pre></td></tr></table></figure><p>如果我把它压缩为 WebP 格式（我电脑已经装好了 cwebp）</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">❯ cwebp DSC00097.JPG -o vr.webp</span><br><span class="line">Saving file &#x27;vr.webp&#x27;</span><br><span class="line">File:      DSC00097.JPG</span><br><span class="line">Dimension: 5472 x 3080</span><br><span class="line">Output:    89162 bytes Y-U-V-All-PSNR 47.24 54.85 53.47   48.58 dB</span><br><span class="line">           (0.04 bpp)</span><br><span class="line">block count:  intra4:      12209  (18.50%)</span><br><span class="line">              intra16:     53797  (81.50%)</span><br><span class="line">              skipped:     44832  (67.92%)</span><br><span class="line">bytes used:  header:            171  (0.2%)</span><br><span class="line">             mode-partition:  41743  (46.8%)</span><br><span class="line"> Residuals bytes  |segment 1|segment 2|segment 3|segment 4|  total</span><br><span class="line">    macroblocks:  |       0%|       1%|       2%|      98%|   66006</span><br><span class="line">      quantizer:  |      36 |      36 |      34 |      25 |</span><br><span class="line">   filter level:  |      11 |       9 |      36 |      33 |</span><br></pre></td></tr></table></figure><p>执行过程中会输出这些信息。完成后我们再来看看压缩后的图片。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">❯ identify vr.webp</span><br><span class="line">vr.webp WEBP 5472x3080 5472x3080+0+0 8-bit sRGB 89162B 0.100u 0:00.097</span><br></pre></td></tr></table></figure><p>只有 <code>89162B</code>，那么除以 1024 的话，89162&#x2F;1024&#x3D;87.07226562，差不多 87KB。分辨率依然还是 5472x3080，而且我在电脑上用 4k 显示器，全屏来看，感觉没什么区别。确实挺强的，这是压缩后的图片。</p><p><img src="/img/2023/vr.webp" alt="qiyu-vr"></p><p>不过可能是因为我这张图片，画面相对来说比较简单吧，很多地方都是白色的，所以压缩比才能做到这么高。</p><p>这样使用的过程中，我觉得有些不方便，因为它需要我输入 <code>-o new-filename.webp</code>。</p><p>我想要当我输入 <code>webp test.png</code> 的时候，shell 中执行的是 <code>cwebp test.png -o test.webp</code>，所以我写了个 shell 函数，来达到这个目的。</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">webp</span></span>() &#123;</span><br><span class="line">  cwebp <span class="string">&quot;<span class="variable">$1</span>&quot;</span> -o <span class="string">&quot;<span class="variable">$&#123;1%.*&#125;</span>.webp&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>而且还能这么用，先在终端输入 WebP 空格，然后再把图片的拖进来，再按回车。此时原图片旁边，就会多出一张同名的 WebP 图片。</p><p>WebP 格式，除了图片体积小之外，另外一个优势就是，它可以和 png 一样，保存透明通道，例如这样的图片。</p><p><img src="/img/2023/QuickTime-player-camera.webp" alt="QuickTime-player-camera"></p><p>这种图片需要在 Mac 上，使用 command + shift + 4，然后按一下空格键，点击想要的窗口，就可以截图得到。</p><p>而默认得到的是 png 格式，还是比较大的。把它转为为 jpg 的话，虽然能缩小，但是透明通道就没了。</p><p>现在我把它转换为 WebP，就可以既保持小体积，又保留透明通道。</p><p>其它参数：</p><p><code>-quiet</code> 不打印任何内容</p><p><code>-short</code> 仅输出文件大小和 PSNR</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cwebp DSC00097.JPG -o t.webp -short</span><br><span class="line">  89162 48.58</span><br></pre></td></tr></table></figure><p>官方文档：<a href="https://developers.google.com/speed/webp/docs/cwebp?hl=zh-cn">cwebp  | WebP  | Google Developers</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;WebP 是 Google 推出的图片格式，优势是图片体积小。在博客中使用 WebP 格式，可以使加载速度更快。兼容性方面我觉得应该不用怎么担心了，毕竟现在 Safari 都支持了。&lt;/p&gt;
&lt;p&gt;所以我目前会把博客中一些图片，转换为 WebP 格式，主要是针对 png 格</summary>
      
    
    
    
    
    <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>Mac 使用命令行进行拍照</title>
    <link href="https://powersee.github.io/2023/03/mac-command-line-take-photos/"/>
    <id>https://powersee.github.io/2023/03/mac-command-line-take-photos/</id>
    <published>2023-03-24T02:23:09.000Z</published>
    <updated>2023-03-26T15:53:52.622Z</updated>
    
    <content type="html"><![CDATA[<p>最近翻出来一个 USB 摄像头，我把它插到我的 Mac mini 上面，可以用。</p><p>摄像头是免驱的，插上之后，可以用 obs 来捕获画面。也可以用 QuickTime Player，打开之后，点击「文件」「新建影片录制」，就可以看到画面了。</p><p><img src="/img/2023/QuickTime-player-camera.webp" alt="QuickTime-player-camera"></p><h2 id="imagesnap"><a href="#imagesnap" class="headerlink" title="imagesnap"></a>imagesnap</h2><p>我想通过命令行的方式，控制摄像头拍照。需要装一个工具 <code>imagesnap</code>，可以使用 homebrew 来安装。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">brew install imagesnap</span><br></pre></td></tr></table></figure><p>装好之后，直接执行</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">imagesnap</span><br></pre></td></tr></table></figure><p>就可以生成一张图片，名为 <code>snapshot.jpg</code>，保存在当前目录下。</p><p>参考：<a href="https://davidwalsh.name/mac-camera">Access Mac Camera by Command Line (davidwalsh.name)</a></p><h2 id="帮助信息"><a href="#帮助信息" class="headerlink" title="帮助信息"></a>帮助信息</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">❯ imagesnap -h</span><br><span class="line">USAGE: imagesnap [options] [filename-or-dir]</span><br><span class="line">Version: 0.2.16</span><br><span class="line">Captures an image from a video device and saves it in a file.</span><br><span class="line">If no device is specified, the system default will be used.</span><br><span class="line">If no filename is specfied, snapshot.jpg will be used.</span><br><span class="line">If timelapse is used, the filename argument can be a directory where files will be saved.</span><br><span class="line">JPEG is the only supported output type.</span><br><span class="line">  -h          This help message</span><br><span class="line">  -v          Verbose mode</span><br><span class="line">  -l          List available video devices</span><br><span class="line">  -t x.xx     Take a picture every x.xx seconds</span><br><span class="line">  -n num      Limit to &lt;num&gt; snapshots in -t timelapse mode</span><br><span class="line">  -q          Quiet mode. Do not output any text</span><br><span class="line">  -w x.xx     Warmup. Delay snapshot x.xx seconds after turning on camera (default 3sec)</span><br><span class="line">  -d device   Use named video device</span><br></pre></td></tr></table></figure><p>保存的图片命名为 powersee.jpg，可以这么写</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">imagesnap powersee.jpg</span><br></pre></td></tr></table></figure><h2 id="延迟"><a href="#延迟" class="headerlink" title="延迟"></a>延迟</h2><p>不加任何参数的情况下，默认是延迟 3 秒，我想它命令执行时立即拍</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">imagesnap -w 0.1</span><br></pre></td></tr></table></figure><p>使用 0.01 也可以，0.001 都行。</p><p>不过这样使用会有问题，因为摄像头如果发现没有程序在使用它，它会进入休眠状态，在有些设备上面的表现，就是摄像头上面的灯会熄灭。</p><p>如果我们在摄像头休眠状态下，使用 -w 0.1 来拍照，那么得到的是一张全黑的图片。因为它还没有准备好，所以程序才设置默认 3 秒延迟。</p><p>如果我们想快一点，那么延迟一秒应该就够了。那么 0.1、0.01 在什么情况下可以使用呢？在摄像头正在使用的情况下，例如 OBS 开着时。</p><h2 id="其它参数"><a href="#其它参数" class="headerlink" title="其它参数"></a>其它参数</h2><p><code>-t</code> 参数可以用来连续拍照，例如每隔三秒拍一张。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">❯ imagesnap -t 3</span><br><span class="line">Capturing image from device &quot;PC-W3 Camera&quot;...Saving images to .</span><br><span class="line">./snapshot-00001.jpg</span><br><span class="line">./snapshot-00002.jpg</span><br><span class="line">./snapshot-00003.jpg</span><br><span class="line">./snapshot-00004.jpg</span><br><span class="line">./snapshot-00005.jpg</span><br></pre></td></tr></table></figure><p>使用 <code>-l</code> 可以列出所有摄像头。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">❯ imagesnap -l</span><br><span class="line">Video Devices:</span><br><span class="line">=&gt; USB2.0 Camera #2</span><br><span class="line">=&gt; PC-W3 Camera</span><br></pre></td></tr></table></figure><p>当电脑有多个摄像头时，可以用 <code>-d</code> 来指定要使用哪一个。如果不指定，它会使用第一个。注意上面这两个，它们的名称是 <code>USB2.0</code> 和 <code>PC-W3</code> ，使用如下</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">imagesnap -d PC-W3</span><br><span class="line">#或者</span><br><span class="line">imagesnap -d &quot;PC-W3 Camera&quot;</span><br></pre></td></tr></table></figure><h2 id="综合使用"><a href="#综合使用" class="headerlink" title="综合使用"></a>综合使用</h2><p>我想要，每隔 5 秒拍一张，一共拍一百张，然后终端不要输出信息，保持安静就好，拍好的图片保存到 Powersee 目录中。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">imagesnap -d PC-W3 -w 1 -q -t 5 -n 100 Powersee</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;最近翻出来一个 USB 摄像头，我把它插到我的 Mac mini 上面，可以用。&lt;/p&gt;
&lt;p&gt;摄像头是免驱的，插上之后，可以用 obs 来捕获画面。也可以用 QuickTime Player，打开之后，点击「文件」「新建影片录制」，就可以看到画面了。&lt;/p&gt;
&lt;p&gt;&lt;im</summary>
      
    
    
    
    
    <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>CSS 中文字体名称</title>
    <link href="https://powersee.github.io/2023/03/css-chinese-font/"/>
    <id>https://powersee.github.io/2023/03/css-chinese-font/</id>
    <published>2023-03-22T16:16:31.000Z</published>
    <updated>2023-03-31T08:55:22.566Z</updated>
    
    <content type="html"><![CDATA[<p>我平时挺喜欢在浏览器里面，按 F12 打开开发者工具，然后修改网页样式的。特别是有些网站，老是喜欢用宋体，作为文章内容的字体，字号还特别小。看起来很不舒服。</p><p>有时候我会把它们的字号调大一点</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="attribute">font-size</span>: <span class="number">1.3em</span>;</span><br></pre></td></tr></table></figure><p>有时会直接更改字体</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="attribute">font-family</span>: <span class="string">&#x27;思源黑体&#x27;</span></span><br></pre></td></tr></table></figure><p>在这过程中，我发现怎么有些中文字体，名称打上去后并不生效。例如我写 <code>霞骛文楷</code> 是不生效的，如果我写 <code>LXGW WenKai</code> 就可以生效。</p><p>后来我了解到这个 <a href="https://www.zhangxinxu.com/study/201703/font-family-chinese-english.html">CSS font-family中文字体对应的英文名称整理表 </a></p><p>这里面有些字体在「字体应用」里，是只能用英文名的，能直接在 css 里面用中文名的比较少。</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="attribute">font-family</span>: <span class="string">&#x27;思源黑体&#x27;</span>, <span class="string">&#x27;思源宋体&#x27;</span>, <span class="string">&#x27;文泉驿微米黑&#x27;</span>, <span class="string">&#x27;楷体&#x27;</span>, <span class="string">&#x27;宋体&#x27;</span>, <span class="string">&#x27;黑体&#x27;</span></span><br></pre></td></tr></table></figure><p>目前找到一个更全的表： <a href="http://www.waiyyw.cn/?id=49">CSS font-family常用好看的中英文字体对照表</a></p><p>难道要这样每次都来查表？目前已经知道，在 css 中想用某些字体，只能用英文名。但是我又记不住它们的英文名……有没有什么办法，可以在我想使用的时候，可以查到它们的名字呢？</p><p><img src="/img/2023/image-20230321144629089.png" alt="汉仪文黑"></p><p>直接在 Windows 的设置里，查看字体的话，是不会显示英文名的。这里的汉仪文黑是原神里面的默认字体，在网页中使用同样得用英文名。明明我电脑里装了这款字体，我却没法直接查到它的英文名称。</p><p>目前我的解决方法是，在浏览器装一个 <a href="https://microsoftedge.microsoft.com/addons/detail/%E7%BD%91%E9%A1%B5%E5%AD%97%E4%BD%93%E6%9B%BF%E6%8D%A2/lkiifecdjjijjdceondieabmlndffgba">插件</a>，之前是用它来全局替换字体的。现在不替换了，只用来查字体名。</p><p><img src="/img/2023/image-20230321145430371.png" alt="网页字体替换"></p><p>在选项里面点一下，会列出当前电脑的字体，之后可以用鼠标选中名称的，这样就可以直接复制了。</p><p><img src="/img/2023/image-20230321145746968.png" alt="复制字体名称"></p><p>补充：</p><p>后来又进一步了解了一些。</p><p><img src="/img/2023/font-name.png" alt="font-name"></p><p>打开一个字体的时候，里面第一行显示的「字体名称」，就是可以用在网页 css 中的。</p><p>这样的名称，在设置的字体里面，也是可以看到的。</p><p><img src="/img/2023/LXGW-WenKai-Bold.png" alt="LXGW-WenKai-Bold"></p><p>之前 霞骛文楷 全称只显示英文，现有有些已经显示中文了。</p><p><img src="/img/2023/image-20230331153928787.png" alt="image-20230331153928787"></p><p>不过很奇怪，不管是「霞骛文楷」还是「霞骛文楷等宽」，都是只有 light 是显示中文，而且 Regular 和 Bold 都是英文的。</p><p>在 Mac 上面也是这样。</p><p><img src="/img/2023/mac-lxgw-wenkai-bold.webp" alt="mac-lxgw-wenkai-bold"></p><p>使用 Firefox 的 DevTools，会比 chrome 或者 Edge 多一个「字体」，这个功能很不错，还可以拉动控制条，来调整字体。</p><p><img src="/img/2023/Firefox-devtools-fonts.jpg" alt="Firefox-devtools-fonts"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;我平时挺喜欢在浏览器里面，按 F12 打开开发者工具，然后修改网页样式的。特别是有些网站，老是喜欢用宋体，作为文章内容的字体，字号还特别小。看起来很不舒服。&lt;/p&gt;
&lt;p&gt;有时候我会把它们的字号调大一点&lt;/p&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;</summary>
      
    
    
    
    
    <category term="web" scheme="https://powersee.github.io/tags/web/"/>
    
  </entry>
  
  <entry>
    <title>椰羊签到——群晖自动完成米游社任务</title>
    <link href="https://powersee.github.io/2023/03/cocogoat-signin-synology/"/>
    <id>https://powersee.github.io/2023/03/cocogoat-signin-synology/</id>
    <published>2023-03-22T02:36:34.000Z</published>
    <updated>2023-03-22T02:52:41.582Z</updated>
    
    <content type="html"><![CDATA[<p>发现一个不错的项目，可以自动到米游社完成每日签到。</p><p>项目：<a href="https://github.com/Akegarasu/cocogoat-signin">椰羊签到 - 年轻人的第一款米游社签到工具</a></p><p>使用 Go 写的工具，我们直接运行可执行文件即可。程序用的是米游社的 cookie，获取方法可以看项目的 readme。</p><p>我打算把它放到群晖里，然后设置每天定时运行。</p><blockquote><p>经过测试，目前似乎无法签到，能做到的只有自动阅读，点赞，分享帖子。米游社签到和原神签到，还是得手动去做……</p></blockquote><p>下面开始教程</p><h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p>先到 <a href="https://github.com/Akegarasu/cocogoat-signin/releases">https://github.com/Akegarasu/cocogoat-signin/releases</a> 下载程序，群晖 x86_64 的下载名字为 <code>cocogoat-signin_linux_amd64.tar.gz</code> 的，这是一个压缩包，可以用电脑解压。</p><p>电脑上我用 Bandizip 是可以打开的，把里面的 <code>cocogoat-signin</code> 解压出来。</p><p>也可以直接把压缩包传到群晖里，然后在 <code>File Station</code> 里面，右键压缩包，「解压缩」，「解压缩至此目录」。我们得到了一个 tar 结尾的压缩包，对这个新的压缩包，右键，「解压缩」，「解压缩至此目录」。就可以把里面的 <code>cocogoat-signin</code> 解压出来。</p><p><img src="/img/2023/d973de1ea79d7a44b4c9fb7fbb01b3665ff0d735.png@942w_449h_progressive.png" alt="d973de1ea79d7a44b4c9fb7fbb01b3665ff0d735.png@942w_449h_progressive"></p><p>我是在 docker 目录下，建立了一个 cocogoat 的目录，程序就放在里面。</p><h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><p>要运行它，需要有一个配置文件 <code>config.yml</code></p><p>这个配置文件，如果我们 ssh 连接群晖，然后执行一下程序，就会自动生成的。但是这里考虑到小白用户，我写个不用 ssh 的方法。</p><p>我们可以到群晖套件里面，安装一下「文本编辑器」。安装好后，打开它。新建，然后把下面的内容粘贴进去。</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">accounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">tickets:</span></span><br><span class="line">        <span class="attr">cookie:</span> <span class="comment"># 在这个地方井号之前填写你按照教程获取的 cookie</span></span><br><span class="line">        <span class="attr">stuid:</span> <span class="comment"># 不用管 由程序自动填写</span></span><br><span class="line">        <span class="attr">stoken:</span> <span class="comment"># 不用管 由程序自动填写</span></span><br><span class="line">        <span class="attr">loginTicket:</span> <span class="comment"># 不用管 由程序自动填写</span></span><br><span class="line">      <span class="attr">BBSTaskConfig:</span></span><br><span class="line">        <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 是否启用米游社任务 true为启用 false为禁用 下面一样</span></span><br><span class="line">        <span class="attr">readPosts:</span> <span class="literal">true</span> <span class="comment"># 阅读帖子任务</span></span><br><span class="line">        <span class="attr">likePosts:</span> <span class="literal">true</span> <span class="comment"># 点赞帖子任务</span></span><br><span class="line">        <span class="attr">unlike:</span> <span class="literal">true</span> <span class="comment"># 点赞完毕后取消</span></span><br><span class="line">        <span class="attr">share:</span> <span class="literal">true</span> <span class="comment"># 分享任务</span></span><br><span class="line">      <span class="attr">SignTask:</span></span><br><span class="line">        <span class="attr">genshin:</span> <span class="literal">true</span> <span class="comment"># 原神签到</span></span><br></pre></td></tr></table></figure><p>然后选择保存，注意文件名改一下，位置选择程序所在的目录。这样程序和配置文件就都有了，还需要填写一下 cookie，只需要修改第三行就好</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">accounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">tickets:</span></span><br><span class="line">        <span class="attr">cookie:</span> <span class="string">aaaa……</span></span><br></pre></td></tr></table></figure><h3 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h3><p>如果你会 ssh，可以在终端执行，看看有没有问题。不会也没关系，先看，我待会讲不用 ssh 的方法。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd /volume1/docker/cocogoat</span><br><span class="line">./cocogoat-signin</span><br></pre></td></tr></table></figure><p>这是我第一次执行的输出内容</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">16</span><span class="punctuation">:</span><span class="number">54</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 加载配置文件成功<span class="punctuation">:</span> 共 <span class="number">1</span> 个账户 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">16</span><span class="punctuation">:</span><span class="number">54</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 欢迎使用椰羊签到~ </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">16</span><span class="punctuation">:</span><span class="number">54</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 开始进行米游社任务 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">16</span><span class="punctuation">:</span><span class="number">54</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 账户 <span class="number">0</span> loginTicket 未配置<span class="punctuation">,</span> 尝试从 cookie 中读取 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">16</span><span class="punctuation">:</span><span class="number">55</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 登录成功<span class="punctuation">,</span> 正在保存相关 ticket 至配置文件 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">16</span><span class="punctuation">:</span><span class="number">55</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 正在获取任务列表 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">16</span><span class="punctuation">:</span><span class="number">55</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 正在获取帖子 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">16</span><span class="punctuation">:</span><span class="number">56</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 获取帖子成功<span class="punctuation">,</span> 共获取 <span class="number">18</span> 个帖子 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">16</span><span class="punctuation">:</span><span class="number">56</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 今日米游社任务<span class="punctuation">:</span> 点赞 (<span class="number">0</span>/<span class="number">5</span>) 看帖子 (<span class="number">2</span>/<span class="number">3</span>) </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">16</span><span class="punctuation">:</span><span class="number">56</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 分享 (<span class="number">0</span>/<span class="number">1</span>) 签到 (<span class="number">1</span>/<span class="number">1</span>) </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">16</span><span class="punctuation">:</span><span class="number">56</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 点赞任务开始 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">16</span><span class="punctuation">:</span><span class="number">56</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 分享任务开始 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">16</span><span class="punctuation">:</span><span class="number">56</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 阅读帖子任务开始 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">16</span><span class="punctuation">:</span><span class="number">56</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 分享帖子成功~ 帖子主题<span class="punctuation">:</span> 话说公子这种天赋分技能 命座莫名其妙是靠什么成为平民T0的 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">16</span><span class="punctuation">:</span><span class="number">56</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 看第 <span class="number">1</span> 个帖子成功~ 帖子主题<span class="punctuation">:</span> 可恶啊！摆明骗我抽绫华嘛 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">16</span><span class="punctuation">:</span><span class="number">56</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 点赞成功 帖子主题<span class="punctuation">:</span> 求组！<span class="number">40</span>岁阿姨萌新让我叫她姐姐怎么办，急 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">16</span><span class="punctuation">:</span><span class="number">59</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 点赞成功 帖子主题<span class="punctuation">:</span> 我和大佬的恋与提瓦特 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">17</span><span class="punctuation">:</span><span class="number">02</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 点赞成功 帖子主题<span class="punctuation">:</span> 大佬们，融神一定要二命吗 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">17</span><span class="punctuation">:</span><span class="number">05</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 点赞成功 帖子主题<span class="punctuation">:</span> 可恶啊！摆明骗我抽绫华嘛 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">17</span><span class="punctuation">:</span><span class="number">09</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 点赞成功 帖子主题<span class="punctuation">:</span> 话说公子这种天赋分技能 命座莫名其妙是靠什么成为平民T0的 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">17</span><span class="punctuation">:</span><span class="number">12</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 今日任务已经完成 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">17</span><span class="punctuation">:</span><span class="number">12</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 开始进行原神签到 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">17</span><span class="punctuation">:</span><span class="number">12</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 共获取到 <span class="number">1</span> 个绑定的原神账号 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">17</span><span class="punctuation">:</span><span class="number">12</span><span class="punctuation">]</span><span class="punctuation">[</span>ERROR<span class="punctuation">]</span><span class="punctuation">:</span> UID<span class="punctuation">:</span> xxxx<span class="punctuation">,</span> 昵称<span class="punctuation">:</span> powersee 签到失败 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">17</span><span class="punctuation">:</span><span class="number">12</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 运行完毕~ </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">14</span><span class="punctuation">:</span><span class="number">17</span><span class="punctuation">:</span><span class="number">12</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 按回车退出...</span><br></pre></td></tr></table></figure><p>第二次执行</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">16</span><span class="punctuation">:</span><span class="number">13</span><span class="punctuation">:</span><span class="number">48</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 加载配置文件成功<span class="punctuation">:</span> 共 <span class="number">1</span> 个账户 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">16</span><span class="punctuation">:</span><span class="number">13</span><span class="punctuation">:</span><span class="number">48</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 欢迎使用椰羊签到~ </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">16</span><span class="punctuation">:</span><span class="number">13</span><span class="punctuation">:</span><span class="number">48</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 开始进行米游社任务 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">16</span><span class="punctuation">:</span><span class="number">13</span><span class="punctuation">:</span><span class="number">48</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 正在获取任务列表 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">16</span><span class="punctuation">:</span><span class="number">13</span><span class="punctuation">:</span><span class="number">48</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 正在获取帖子 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">16</span><span class="punctuation">:</span><span class="number">13</span><span class="punctuation">:</span><span class="number">49</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 获取帖子成功<span class="punctuation">,</span> 共获取 <span class="number">20</span> 个帖子 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">16</span><span class="punctuation">:</span><span class="number">13</span><span class="punctuation">:</span><span class="number">49</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 今日米游社任务<span class="punctuation">:</span> 点赞 (<span class="number">5</span>/<span class="number">5</span>) 看帖子 (<span class="number">3</span>/<span class="number">3</span>) </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">16</span><span class="punctuation">:</span><span class="number">13</span><span class="punctuation">:</span><span class="number">49</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 分享 (<span class="number">1</span>/<span class="number">1</span>) 签到 (<span class="number">1</span>/<span class="number">1</span>) </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">16</span><span class="punctuation">:</span><span class="number">13</span><span class="punctuation">:</span><span class="number">49</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 今日任务已经完成 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">16</span><span class="punctuation">:</span><span class="number">13</span><span class="punctuation">:</span><span class="number">49</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 开始进行原神签到 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">16</span><span class="punctuation">:</span><span class="number">13</span><span class="punctuation">:</span><span class="number">49</span><span class="punctuation">]</span><span class="punctuation">[</span>ERROR<span class="punctuation">]</span><span class="punctuation">:</span> 获取原神账号列表失败米游社 cookie 错误 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">16</span><span class="punctuation">:</span><span class="number">13</span><span class="punctuation">:</span><span class="number">49</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 共获取到 <span class="number">0</span> 个绑定的原神账号 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">16</span><span class="punctuation">:</span><span class="number">13</span><span class="punctuation">:</span><span class="number">49</span><span class="punctuation">]</span><span class="punctuation">[</span>ERROR<span class="punctuation">]</span><span class="punctuation">:</span> 账户 <span class="number">0</span> 没有绑定原神账号 </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">16</span><span class="punctuation">:</span><span class="number">13</span><span class="punctuation">:</span><span class="number">49</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 运行完毕~ </span><br><span class="line"><span class="punctuation">[</span>椰羊签到<span class="punctuation">]</span><span class="punctuation">[</span><span class="number">2023</span><span class="number">-03</span><span class="number">-20</span> <span class="number">16</span><span class="punctuation">:</span><span class="number">13</span><span class="punctuation">:</span><span class="number">49</span><span class="punctuation">]</span><span class="punctuation">[</span>INFO<span class="punctuation">]</span><span class="punctuation">:</span> 按回车退出..</span><br></pre></td></tr></table></figure><p>运行起来是没问题，不过目前这样，似乎不适合让它定时运行，因为每次执行完之后，需要按回车来退出。</p><h3 id="探究"><a href="#探究" class="headerlink" title="探究"></a>探究</h3><p>我看了一下代码，<code>main.go</code> 的最后是这么写的</p><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Exit</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> os.Getenv(<span class="string">&quot;TENCENTCLOUD_RUNENV&quot;</span>) != <span class="string">&quot;SCF&quot;</span> &#123;</span><br><span class="line"><span class="keyword">var</span> input <span class="type">string</span></span><br><span class="line">log.Infoln(<span class="string">&quot;按回车退出...&quot;</span>)</span><br><span class="line">_, _ = fmt.Scanln(&amp;input)</span><br><span class="line">&#125;</span><br><span class="line">os.Exit(<span class="number">0</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>作者估计之前是在腾讯云函数里面跑的吧，如果发现不是云函数，就会要求按回车才能退出。应该是打算给 Windows 用比较方便吧。</p><p>现在我要在群晖里运行，我想运行完直接退出，那么直接改代码吧，把 <code>if</code> 这一段去掉。</p><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Exit</span><span class="params">()</span></span> &#123;</span><br><span class="line">os.Exit(<span class="number">0</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>用 docker 拉取一个 golang 环境，然后代码放进去，<code>go build</code> 一下就行了。</p><p>那么不改代码行不行？其实也可以，设置一个环境变量呗。</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">TENCENTCLOUD_RUNENV=SCF &amp;&amp; ./cocogoat-signin</span><br></pre></td></tr></table></figure><p>我们在运行程序之前，设置了变量 <code>TENCENTCLOUD_RUNENV</code> 的值为 <code>SCF</code>，就可以运行完直接退出了。</p><p>现在弄明白了，就可以来设置它每天定时运行了。</p><h3 id="添加定时任务"><a href="#添加定时任务" class="headerlink" title="添加定时任务"></a>添加定时任务</h3><p>打开群晖的「控制面板」，点击「任务计划」，「新增」，「计划的任务」，「用户定义的脚本」</p><p><img src="/img/2023/image-20230320171130893.png" alt="新增-用户定义的脚本"></p><p>常规里面填写任务名，随便都行。计划设置每天几点运行，可以设置 3 点、7点之类的，最好不要设置 0 点运行。重点来到「任务设置」里，我们填写上这样的命令</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd /volume1/docker/cocogoat/ &amp;&amp; TENCENTCLOUD_RUNENV=SCF &amp;&amp; ./cocogoat-signin</span><br></pre></td></tr></table></figure><p>这样应该就 ok 了。</p><p>原本是打算保存一下日志的，像这样。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd /volume1/docker/cocogoat/ &amp;&amp; TENCENTCLOUD_RUNENV=SCF &amp;&amp; ./cocogoat-signin &gt; $(date +%Y%m%d).log.txt</span><br></pre></td></tr></table></figure><p>但是测试了一下，发现日志无法保存下来。了解一番之后，发现代码里使用 <code>log.Infoln</code> 来输出日志的，这样的输出是没法使用 <code>&gt;</code> 或者 <code>tee</code> 来保存到日志里的。所以日志保存这部分暂时搞不定。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;发现一个不错的项目，可以自动到米游社完成每日签到。&lt;/p&gt;
&lt;p&gt;项目：&lt;a href=&quot;https://github.com/Akegarasu/cocogoat-signin&quot;&gt;椰羊签到 - 年轻人的第一款米游社签到工具&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;使用 Go 写的工具，我们</summary>
      
    
    
    
    
    <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>通过 do-release-upgrade 升级 Ubuntu 版本</title>
    <link href="https://powersee.github.io/2023/03/do-release-upgrade-ubuntu/"/>
    <id>https://powersee.github.io/2023/03/do-release-upgrade-ubuntu/</id>
    <published>2023-03-20T16:19:46.000Z</published>
    <updated>2023-03-20T16:21:33.695Z</updated>
    
    <content type="html"><![CDATA[<p>最近给我的两台服务器，都升级了 Ubuntu 版本。个人感觉，如果服务器里的东西不多，还不如备份之后，重装系统，直接装个 22.04 可能会比一步一步升级快。</p><p>我目前有一台服务器用的是 Ubuntu 18.04 LTS，平时装应用有这样那样的问题，我打算给它升级一下。</p><p>平时 ssh 登录上之后，也经常能看到提示升级。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">do-release-upgrade</span><br></pre></td></tr></table></figure><p>执行这个命令，就可以升级 Ubuntu 的版本。不过在此之前，我们需要先 update 和 upgrade。当我这些做完之后，却发现，执行</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">do-release-upgrade</span><br></pre></td></tr></table></figure><p>后提示这个</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Please install all available updates for your release before upgrading</span><br></pre></td></tr></table></figure><p>可是我明明已经没东西可以再更新了……</p><p>网上搜索后，别人说试试这个</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt upgrade</span><br><span class="line">sudo apt dist-upgrade</span><br><span class="line">sudo do-release-upgrade</span><br></pre></td></tr></table></figure><p>结果试了也没用，最终发现，问题出现在第三方软件源上面。</p><p>因为之前直接用 apt 安装 nodejs，这样安装的是旧版本的。我现在运行的应用要求使用 node18。</p><p>所以之前根据教程，下载了这个脚本，执行后，会添加 node 的软件源。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">curl -sL https://deb.nodesource.com/setup_18.x -o nodesource_setup.sh</span><br></pre></td></tr></table></figure><p>它就在 <code>/etc/apt/sources.list.d</code> 里面，执行下面的命令可以禁用第三方源</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/apt/sources.list.d </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> *.list; <span class="keyword">do</span> <span class="built_in">mv</span> <span class="variable">$&#123;i&#125;</span> <span class="variable">$&#123;i&#125;</span>.disabled; <span class="keyword">done</span> </span><br><span class="line">apt clean</span><br><span class="line">apt autoclean </span><br><span class="line">sudo do-release-upgrade </span><br></pre></td></tr></table></figure><p>不过我不是这么做的，我直接把里面的 node 源给删了，剩下的 docker 源没动它。之后再执行 <code>do-release-upgrade</code> 就可以继续进行了。</p><p>升级的过程中，有很多选项，还是挺麻烦的。不过好在最后升级成功了，从 18.04 升级到了 20.04.6。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;最近给我的两台服务器，都升级了 Ubuntu 版本。个人感觉，如果服务器里的东西不多，还不如备份之后，重装系统，直接装个 22.04 可能会比一步一步升级快。&lt;/p&gt;
&lt;p&gt;我目前有一台服务器用的是 Ubuntu 18.04 LTS，平时装应用有这样那样的问题，我打算给它升</summary>
      
    
    
    
    
    <category term="Linux" scheme="https://powersee.github.io/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>油猴脚本——先判断文本内容</title>
    <link href="https://powersee.github.io/2023/03/tampermonkey-judge-text/"/>
    <id>https://powersee.github.io/2023/03/tampermonkey-judge-text/</id>
    <published>2023-03-20T13:29:34.000Z</published>
    <updated>2023-03-20T13:31:46.475Z</updated>
    
    <content type="html"><![CDATA[<p>有时候，一些签到按钮，签到完成之后是依然可以点击的。如果只是用 id 来获取到元素，然后点击，就会导致明明签到完成了，还继续点击按钮。</p><p>此时我们可以加入一个判断条件。看来还是得拿个实际例子，<a href="https://xiage.yy.com/forum-234-1.html">王者荣耀 - 虾哥论坛</a></p><p>这个网站，我们没有账号也可以访问，我们可以看到它有一个「签到」按钮。</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:to_sign(fid, uid)&quot;</span> <span class="attr">class</span>=<span class="string">&quot;checkin-btn follow-show&quot;</span> <span class="attr">id</span>=<span class="string">&quot;checkin-btn&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>签到<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>由于它有 id ，所以获取起来很简单</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;checkin-btn&#x27;</span>)</span><br></pre></td></tr></table></figure><p>我有这个论坛的账号，我知道点击之后，按钮的文字，会从<code>签到</code> 变成 <code>已签到</code>。</p><p>那么我们要做的就是，在执行点击之前，判断一下，里面的文字是否 <code>签到</code></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ==UserScript==</span></span><br><span class="line"><span class="comment">// @name         王者荣耀-虾哥-点击签到</span></span><br><span class="line"><span class="comment">// @namespace    http://tampermonkey.net/</span></span><br><span class="line"><span class="comment">// @version      0.1</span></span><br><span class="line"><span class="comment">// @description  try to take over the world!</span></span><br><span class="line"><span class="comment">// @author       Powersee</span></span><br><span class="line"><span class="comment">// @match        https://xiage.yy.com/forum-234-1.html</span></span><br><span class="line"><span class="comment">// @icon         https://www.google.com/s2/favicons?sz=64&amp;domain=yy.com</span></span><br><span class="line"><span class="comment">// @grant        none</span></span><br><span class="line"><span class="comment">// ==/UserScript==</span></span><br><span class="line"></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="string">&#x27;use strict&#x27;</span>;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;load&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> btn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;checkin-btn&#x27;</span>);</span><br><span class="line">        <span class="keyword">if</span> (btn.<span class="property">textContent</span> == <span class="string">&#x27;签到&#x27;</span>) btn.<span class="title function_">click</span>()</span><br><span class="line">    &#125;, <span class="literal">false</span>);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>完整的代码如下，我发现用 <code>// @run-at       document-idle</code> 似乎有些问题，所以改成了事件监听。</p><p>有些签到按钮，点击之后文字就会发生变化。</p><table><thead><tr><th align="left">签到前</th><th align="left">签到后</th></tr></thead><tbody><tr><td align="left">签到</td><td align="left">已签到</td></tr><tr><td align="left">签到</td><td align="left">已签</td></tr></tbody></table><p>像这种我们可以直接用 <code>==</code> 来判断里面的字符串，但是有的时候，我们想要的是，判断里面的文字，是否包含某些字符串。</p><p>例如，有些网站，它的签到按钮文字是 <code>领取今日的登录奖励</code> </p><p>我们可以用 <code>includes()</code> 方法来判断。</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (btn.<span class="property">textContent</span>.<span class="title function_">includes</span>(<span class="string">&#x27;领取今日&#x27;</span>)) btn.<span class="title function_">click</span>()</span><br></pre></td></tr></table></figure><p>这行代码，就是判断是否包含 <code>领取今日</code> 这几个字，如果是，就点击。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;有时候，一些签到按钮，签到完成之后是依然可以点击的。如果只是用 id 来获取到元素，然后点击，就会导致明明签到完成了，还继续点击按钮。&lt;/p&gt;
&lt;p&gt;此时我们可以加入一个判断条件。看来还是得拿个实际例子，&lt;a href=&quot;https://xiage.yy.com/forum</summary>
      
    
    
    
    
    <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>使用油猴脚本实现自动点击签到按钮</title>
    <link href="https://powersee.github.io/2023/03/tampermonkey-auto-signin/"/>
    <id>https://powersee.github.io/2023/03/tampermonkey-auto-signin/</id>
    <published>2023-03-19T13:14:27.000Z</published>
    <updated>2023-03-19T13:17:58.789Z</updated>
    
    <content type="html"><![CDATA[<p>有很多网站，需要我们打开网页之后，点击上面的签到按钮，来完成当天的签到。</p><p>如果利用油猴脚本，我们可以实现打开网页后，查找按钮，如果找到了，就自动点击。</p><p>首先打开想签到的网页，然后点击油猴插件，点击「添加新脚本」，给的默认模板是这样的</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// ==UserScript==</span><br><span class="line">// @name         New Userscript</span><br><span class="line">// @namespace    http://tampermonkey.net/</span><br><span class="line">// @version      0.1</span><br><span class="line">// @description  try to take over the world!</span><br><span class="line">// @author       You</span><br><span class="line">// @match        https://www.xxx.com/</span><br><span class="line">// @icon         https://www.google.com/s2/favicons?sz=64&amp;domain=xxx.com</span><br><span class="line">// @grant        none</span><br><span class="line">// ==/UserScript==</span><br><span class="line"></span><br><span class="line">(function() &#123;</span><br><span class="line">    &#x27;use strict&#x27;;</span><br><span class="line"></span><br><span class="line">    // Your code here...</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>由于我们需要等网页加载完成，再来查找按钮，所以需要添加一行</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// @run-at       document-idle</span><br></pre></td></tr></table></figure><p>可以加在 <code>// ==/UserScript==</code> 的上方，变成这样</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// @grant        none</span><br><span class="line">// @run-at       document-idle</span><br><span class="line">// ==/UserScript==</span><br></pre></td></tr></table></figure><p>感觉也找不到合适网站来作为案例，就拿百度的那个「百度一下」来讲解吧，反正弄懂了原理，换其它网站也就没问题。</p><p>在浏览器按 F12，弹出来的开发者工具，按 <code>ctrl + shift + c</code> 这三颗按键，然后选中「百度一下」</p><p>可以发现它是一个 input</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;百度一下&quot;</span> <span class="attr">id</span>=<span class="string">&quot;su&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn self-btn bg s_btn&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这种有 id 的最简单，因为网页中的 id 是唯一的。用 js 来选中它，然后点击</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">document.getElementById(&#x27;su&#x27;).click()</span><br></pre></td></tr></table></figure><p>在「控制台」执行这行代码，就跟我们手动去点击「百度一下」的作用是一样的。</p><p>如果你要签到的网站也是这么简单，签到按钮有 id，那只需要把上面的 su 换为你找到的 id 就行。例如我有个网站，它的签到按钮 id 是 <code>sign_title</code> ，那我只需要改为</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">document.getElementById(&#x27;sign_title&#x27;).click()</span><br></pre></td></tr></table></figure><p>在 <code>// ==/UserScript==</code> 的下方，我们可以改为这样</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="string">&#x27;use strict&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Your code here...</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;sign_title&#x27;</span>).<span class="title function_">click</span>()</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>很简单就可以实现一个自动点击的脚本了。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;有很多网站，需要我们打开网页之后，点击上面的签到按钮，来完成当天的签到。&lt;/p&gt;
&lt;p&gt;如果利用油猴脚本，我们可以实现打开网页后，查找按钮，如果找到了，就自动点击。&lt;/p&gt;
&lt;p&gt;首先打开想签到的网页，然后点击油猴插件，点击「添加新脚本」，给的默认模板是这样的&lt;/p&gt;
&lt;f</summary>
      
    
    
    
    
    <category term="JavaScript" scheme="https://powersee.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>都什么年代了，还在手动修改 Linux 软件源？APT Proxy 使用体验</title>
    <link href="https://powersee.github.io/2023/03/apt-proxy/"/>
    <id>https://powersee.github.io/2023/03/apt-proxy/</id>
    <published>2023-03-17T16:46:47.000Z</published>
    <updated>2023-03-20T13:54:03.680Z</updated>
    
    <content type="html"><![CDATA[<h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><blockquote><p>APT Proxy 是一款轻量的、可靠的 APT &#x2F; YUM &#x2F; APK 包（Ubuntu &#x2F; Debian &#x2F; CentOS &#x2F; ALPINE ）缓存工具，能够在各种不同的操作系统环境中运行。</p></blockquote><p>这是来自 <a href="https://github.com/soulteary/apt-proxy/blob/main/README_CN.md">官方文档</a> 开头的介绍，现在的作者 <a href="https://soulteary.com/">苏洋</a> 是一位能力很强的博主，他对停留在 2015 年的原项目进行修改，有了现在这个版本。</p><p>而且已经不只是给 apt 用而已了，还可以给 centos 和 alpine 用，更加强大了。</p><p>想要更深入的了解，可以观看苏洋大佬的两篇文章：</p><p><a href="https://soulteary.com/2022/06/14/lightweight-and-small-zero-configuration-apt-acceleration-tool-apt-proxy.html">轻量小巧的零配置 APT 加速工具：APT Proxy - 苏洋博客 (soulteary.com)</a></p><p><a href="https://soulteary.com/2022/11/20/linux-package-download-acceleration-tool-apt-proxy.html">Linux 软件包下载加速工具：APT Proxy - 苏洋博客 (soulteary.com)</a></p><p>现在使用它，我们在本地装好服务器后，可以不用去修改软件源了。</p><p>平时我得到一个纯净的 Ubuntu 系统后，一般都会去修改 <code>/etc/apt/sources.list</code> ，将里面的内容改为清华或者阿里云的镜像源。现在使用这个工具，我们就可以不用去修改了。只要在使用 apt 的时候设置代理，指向这个工具，就会自动使用最快的镜像源。</p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>运行起来也很简单，用 docker 一条命令即可。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker run -d --name=apt-proxy -p 3142:3142 soulteary/apt-proxy</span><br></pre></td></tr></table></figure><p>只需要映射一个端口 <code>3142</code> 而已。查看容器的 log 可以看到这些。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">2023/03/14 06:15:43 running apt-proxy </span><br><span class="line">2023/03/14 06:15:44 Start benchmarking mirrors</span><br><span class="line">2023/03/14 06:15:44 Finished benchmarking mirrors</span><br><span class="line">2023/03/14 06:15:44 using fastest Ubuntu mirror http://ftp.sjtu.edu.cn/ubuntu/</span><br><span class="line">2023/03/14 06:15:44 Start benchmarking mirrors</span><br><span class="line">2023/03/14 06:15:44 Finished benchmarking mirrors</span><br><span class="line">2023/03/14 06:15:44 using fastest Debian mirror http://repo.huaweicloud.com/debian/</span><br><span class="line">2023/03/14 06:15:44 Start benchmarking mirrors</span><br><span class="line">2023/03/14 06:15:45 Finished benchmarking mirrors</span><br><span class="line">2023/03/14 06:15:45 using fastest CentOS mirror https://mirrors.aliyun.com/centos/</span><br><span class="line">2023/03/14 06:15:45 Start benchmarking mirrors</span><br><span class="line">2023/03/14 06:15:45 Finished benchmarking mirrors</span><br><span class="line">2023/03/14 06:15:45 using fastest Alpine mirror http://mirrors.aliyun.com/alpine/</span><br><span class="line">2023/03/14 06:15:45 proxy listening on 0.0.0.0:3142</span><br><span class="line">2023/03/14 06:15:45 Program has been started 🚀</span><br></pre></td></tr></table></figure><p>从日志可以看到，它会自动测出速度最快的镜像站。而且此时我们访问 3142 端口，还可以看到 web 界面。</p><p><img src="/img/2023/image-20230314141943091.png" alt="apt-proxy-web"></p><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>我运行 apt-proxy 的机器 IP 是 192.168.68.172，所以我可以这样这样来使用它。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># `apt-get update` with apt-proxy service</span><br><span class="line">http_proxy=http://192.168.68.172:3142 apt-get -o pkgProblemResolver=true -o Acquire::http=true update </span><br><span class="line"># `apt-get install vim -y` with apt-proxy service</span><br><span class="line">http_proxy=http://192.168.68.172:3142 apt-get -o pkgProblemResolver=true -o Acquire::http=true install vim -y</span><br></pre></td></tr></table></figure><p>虽然执行之后输出的信息依然显示</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Get:1 http://archive.ubuntu.com/ubuntu jammy InRelease [270 kB]</span><br><span class="line">Get:2 http://security.ubuntu.com/ubuntu jammy-security InRelease [110 kB]</span><br><span class="line">Get:3 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [119 kB]</span><br><span class="line">Get:4 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages [829 kB]</span><br></pre></td></tr></table></figure><p>但是它因为使用了代理，其实是用了 <a href="http://ftp.sjtu.edu.cn/ubuntu/">http://ftp.sjtu.edu.cn/ubuntu/</a> 这个镜像源，从速度我们也可以明显感受到。或者直接查看 apt-proxy 的日志也能看到。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">2023/03/18 03:01:30 rewrote &quot;http://archive.ubuntu.com/ubuntu/dists/jammy/InRelease&quot; to &quot;http://ftp.sjtu.edu.cn/ubuntu/dists/jammy/InRelease&quot;</span><br></pre></td></tr></table></figure><p>然后它另一个优势，就是它会缓存。如果我们有多台服务器的话，那么第一台安装 vim，apt-proxy 会将 vim 的安装文件缓存下来，而之后的第二台，它就可以直接使用缓存了，不需要去镜像源下载了，速度会快很多。</p><h3 id="缩短命令"><a href="#缩短命令" class="headerlink" title="缩短命令"></a>缩短命令</h3><p>不过它这命令也太长了吧，每次都得复制粘贴。我的解决方法是，使用 alias</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alias aptp=&quot;http_proxy=http://192.168.68.172:3142 apt-get -o pkgProblemResolver=true -o Acquire::http=true&quot;</span><br></pre></td></tr></table></figure><p>我把这么一串命令，起个别名为 <code>aptp</code>，之后我可以这样来使用它</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">aptp update</span><br><span class="line">aptp install zsh</span><br></pre></td></tr></table></figure><p>非常好用的一款工具，推荐经常在本地折腾服务器的朋友，都可以去尝试一下。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot; class=&quot;headerlink&quot; title=&quot;介绍&quot;&gt;&lt;/a&gt;介绍&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;APT Proxy 是一款轻量的、可靠的 APT &amp;#x2F; YUM &amp;#x2F; APK 包（Ubuntu &amp;</summary>
      
    
    
    
    
    <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>自动纠正文章中的格式 autocorrect</title>
    <link href="https://powersee.github.io/2023/03/auto-correct/"/>
    <id>https://powersee.github.io/2023/03/auto-correct/</id>
    <published>2023-03-17T05:58:56.000Z</published>
    <updated>2023-03-18T02:10:57.986Z</updated>
    
    <content type="html"><![CDATA[<p>发现一个好用的工具 <a href="https://github.com/huacnlee/autocorrect">autocorrect</a> ，是 GitHub 上一个开源项目。官方介绍：</p><blockquote><p>AutoCorrect 是一个基于 Rust 编写的工具，用于「自动纠正」或「检查并建议」文案，给 CJK（中文、日语、韩语）与英文混写的场景，补充正确的空格，纠正单词，同时尝试以安全的方式自动纠正标点符号等等。</p></blockquote><p>感觉好像挺不错的，我可以使用它，自动给文字中的英文加空格。</p><p>看了下 <a href="https://github.com/huacnlee/autocorrect/releases">https://github.com/huacnlee/autocorrect/releases</a> ，里面有提供 Windows 的可执行文件，当然是命令行版本的，这工具并没有 GUI 的程序。于是我下载来体验看看。</p><h4 id="基础用法-–lint"><a href="#基础用法-–lint" class="headerlink" title="基础用法 –lint"></a>基础用法 –lint</h4><p>lint 这个单词我查了一下</p><blockquote><p>n. 软麻布；线头；棉绒<br>vi. 飞散出棉线</p></blockquote><p>这里难道是指，我们文章中那些不规范的地方，就像是线头？</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">autocorrect.exe --lint C:\text.md</span><br></pre></td></tr></table></figure><p>使用起来很简单，命令名 参数 文件路径，执行后会快速检查文本中的内容。我使用的是一个 markdown 文件，里面的字数有 2 万 3（由 typora 统计的）</p><p><img src="/img/2023/image-20230316204751544.png" alt="autocorrect"></p><p>检测只用了不到 55 毫秒，确实很快。红色的就是我原本的内容，绿色的就是它建议修改后的格式。<code>--lint</code> 只是显示建议而已，不会直接修改文件的。</p><p>感觉还不错：</p><ul><li>中英混写的，它会建议加空格。</li><li>汉字和阿拉伯数字也是建议加空格。</li><li>多余的空格会建议删掉</li></ul><p>我建立了个 txt 文件，写下这些内容</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">python</span><br><span class="line"></span><br><span class="line">javascript</span><br><span class="line"></span><br><span class="line">你好，haha。。。。</span><br></pre></td></tr></table></figure><p>检测后是没有错误，我还预期它会改正写法呢，改为 Python，JavaScript。按理说这个应该不难，可能是有其它方面的考虑吧，例如改到代码之类。</p><p>不过我这四个句号 <code>。。。。</code>，肯定是不规范吧，我还期待看它会怎么改呢。</p><h4 id="完整参数"><a href="#完整参数" class="headerlink" title="完整参数"></a>完整参数</h4><p>通过执行 -h 可以查看说明</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">autocorrect -h</span><br><span class="line">A linter and formatter for help you improve copywriting, to correct spaces, words, punctuations between CJK (Chinese, Japanese, Korean).</span><br><span class="line"></span><br><span class="line">Usage: autocorrect.exe [OPTIONS] [FILE]... [COMMAND]</span><br><span class="line"></span><br><span class="line">Commands:</span><br><span class="line">  init    Initialize AutoCorrect config file.</span><br><span class="line">  update  Update AutoCorrect to latest version.</span><br><span class="line">  help    Print this message or the help of the given subcommand(s)</span><br><span class="line"></span><br><span class="line">Arguments:</span><br><span class="line">  [FILE]...  Target filepath or dir for format. [default: .]</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">      --lint               Lint and output problems.</span><br><span class="line">      --fix                Automatically fix problems and rewrite file.</span><br><span class="line">      --debug              Print debug information.</span><br><span class="line">      --format &lt;FORMAT&gt;    Output format. [default: diff] [possible values: diff, json]</span><br><span class="line">      --threads &lt;THREADS&gt;  Number of threads, 0 - use number of CPU. [default: 0]</span><br><span class="line">  -c, --config &lt;CONFIG&gt;    Special config file. [default: .autocorrectrc]</span><br><span class="line">      --type &lt;FILETYPE&gt;    Directly use set file type.</span><br><span class="line">      --stdin              Input text from &lt;STDIN&gt;</span><br><span class="line">      --no-diff-bg-color   Disable diff background color for diff output.</span><br><span class="line">  -h, --help               Print help</span><br><span class="line">  -V, --version            Print version</span><br></pre></td></tr></table></figure><p>我们可以先使用 <code>lint</code>检测问题，确认之后，使用 <code>fix</code>来改正。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">autocorrect.exe --fix C:\text.md</span><br></pre></td></tr></table></figure><h4 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h4><p>使用 <code>--config</code> 还能使用配置文件，需要先初始化一下</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PS C:\bin&gt; .\autocorrect.exe init</span><br><span class="line">Fetching https://github.com/huacnlee/autocorrect/raw/main/.autocorrectrc.template</span><br><span class="line">AutoCorrect init config: .autocorrectrc</span><br><span class="line">PS C:\bin&gt; ls</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    目录: C:\bin</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Mode                 LastWriteTime         Length Name</span><br><span class="line">----                 -------------         ------ ----</span><br><span class="line">-a----         2023/3/16     21:10           2025 .autocorrectrc</span><br><span class="line">-a----          2023/2/9      0:19        9476096 autocorrect.exe</span><br></pre></td></tr></table></figure><p>这样它就会从 GitHub 下载模板，然后在当前目录下保存为 <code>.autocorrectrc</code>。此时我再来执行检测</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">C:\Users\powersee\Downloads\test.txt:3:1</span><br><span class="line">-javascript</span><br><span class="line">+JavaScript</span><br><span class="line"></span><br><span class="line">C:\Users\powersee\Downloads\test.txt:7:1</span><br><span class="line">-Youtube</span><br><span class="line">+YouTube</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Error: 0, Warning: 2</span><br></pre></td></tr></table></figure><p>下载模板之后，再来检测，就会出建议了。不过这里是 Warning，执行 fix 是不会改正的。</p><p>此时我只要修改配置文件，改为</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">spellcheck: 1</span><br></pre></td></tr></table></figure><p>再次检测，刚才的两个 Warning，就变成 Error 了。再使用 fix 就可以改正了。</p><p>因为这个配置，是使用数字来控制的。</p><blockquote><p>0 - off, 1 - error, 2 - warning</p></blockquote><p>如果我不想要它检查英文的大小写，直接设置为 0 就行。</p><p>之所以之前检查 javascript 没问题，下载好配置文件后，就发现问题。是因为配置文件里有这部分</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">spellcheck:</span><br><span class="line">  words:</span><br><span class="line">    # Please do not add a general English word (eg. apple, python) here.</span><br><span class="line">    # Users can add their special words to their .autocorrectrc file by their need.</span><br><span class="line">    - ActiveMQ</span><br><span class="line">    - AirPods</span><br><span class="line">    - Aliyun</span><br><span class="line">    ……</span><br><span class="line">    - JavaScript</span><br></pre></td></tr></table></figure><p>里面定义了 JavaScript 为正确写法。（看到这里我才意识到，python 是一个英文单词，蟒蛇，所以不应该被添加进配置文件里面。）</p><p>那在这个配置文件里，我们应该可以自己添加单词，例如我想把文章中，<code>powersee</code> 改为 <code>Powersee</code>，那我只需要把 <code>Powersee</code>添加进去就行。</p><p>然而当我添加进去之后，我发现，检查不出任何错误了……不管我添加了在开头，还是在结尾，都不行。甚至在中间也不行，反正只要我添加任何单词进去，这个配置文件就好像失效了。</p><p>所以目前我还没弄懂怎么回事，以后要是弄明白自己自定义这部分，再来更新吧。</p><h4 id="不用命令行"><a href="#不用命令行" class="headerlink" title="不用命令行"></a>不用命令行</h4><p>如果只是想改正一篇文章而已，那可以不用去下载这个命令行工具，直接访问 <a href="https://huacnlee.github.io/autocorrect">https://huacnlee.github.io/autocorrect</a> ，把文章内容粘贴进去，在网页里修改就行了。</p><p>而且它还有 <a href="https://marketplace.visualstudio.com/items?itemName=huacnlee.autocorrect">vscode 的插件</a>，我安装好后，直接用 vscode 打开我的文章就行了。</p><p>事实上，刚装好，我就把插件给停用了。</p><p>原因是我文章里有这么一段</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">看了下 https://github.com/huacnlee/autocorrect/releases ，里面有提供 Windows 的可执行文件</span><br></pre></td></tr></table></figure><p>我的链接后面是加了空格，再用逗号的。那么使用插件的话，会检测到这个空格，它觉得是多余的，要求我删掉。那么删掉之后，我的链接就错误了，因为会把逗号以及后面的汉字，一起识别为 url 的一部分。也就是说这个空格是必须要有的。</p><p>但是，此时我没法把它加回来，因为加回空格之后，再保存，插件会自动把空格去掉……看来我这种情况，不适合使用这个插件。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;发现一个好用的工具 &lt;a href=&quot;https://github.com/huacnlee/autocorrect&quot;&gt;autocorrect&lt;/a&gt; ，是 GitHub 上一个开源项目。官方介绍：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;AutoCorrect 是一个基于</summary>
      
    
    
    
    
    <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>为什么使用 apt 安装某些应用的时候，不需要按 y 确认？</title>
    <link href="https://powersee.github.io/2023/03/why-apt-no-need-for-confirm/"/>
    <id>https://powersee.github.io/2023/03/why-apt-no-need-for-confirm/</id>
    <published>2023-03-16T02:33:21.000Z</published>
    <updated>2023-03-16T02:34:28.454Z</updated>
    
    <content type="html"><![CDATA[<p>例如我在 Ubuntu 18.04 里面，安装 ncdu</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">apt install ncdu</span><br></pre></td></tr></table></figure><p>它不需要我按 y，就可以直接安装完成。但如果我安装个 php，它就需要询问我，在我按 y 确认之后，才会进入安装。虽然我们可以通过在命令中加入 <code>-y</code> 参数来自动确认，例如这样</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">apt install php -y</span><br></pre></td></tr></table></figure><p>但是我好奇的是，为什么有些时候需要确认，有些时候不需要？</p><p>这是来自 ChatGPT 的回答</p><blockquote><p>对于某些较小的软件包，apt 安装时不需要确认是因为它们没有与其他软件包发生依赖关系或冲突。这些软件包通常只包含一些脚本、配置文件或其他小型组件，因此安装它们不会对系统的其他部分造成影响。</p><p>当 apt 安装一个包时，它会检查该包是否需要依赖其他包或冲突于已安装的包。如果没有，则 apt 不会询问用户是否确认安装该包，并自动安装。</p><p>因此，在某些情况下，如果软件包非常小并且没有与其他包发生依赖关系或冲突，则在安装过程中不需要手动确认安装。但是，在安装任何软件包之前，最好检查其详细信息，以确保其不会对系统造成不良影响。</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;例如我在 Ubuntu 18.04 里面，安装 ncdu&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;apt install ncdu</summary>
      
    
    
    
    
    <category term="Linux" scheme="https://powersee.github.io/tags/Linux/"/>
    
    <category term="Ubuntu" scheme="https://powersee.github.io/tags/Ubuntu/"/>
    
  </entry>
  
</feed>
