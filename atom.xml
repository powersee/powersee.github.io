<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Powersee的博客</title>
  
  
  <link href="https://powersee.github.io/atom.xml" rel="self"/>
  
  <link href="https://powersee.github.io/"/>
  <updated>2024-05-18T13:09:27.624Z</updated>
  <id>https://powersee.github.io/</id>
  
  <author>
    <name>powersee</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Mac 邮件 APP 老是自动退出，分享我的解决方案</title>
    <link href="https://powersee.github.io/2024/05/mac-mail-app-check/"/>
    <id>https://powersee.github.io/2024/05/mac-mail-app-check/</id>
    <published>2024-05-18T13:08:56.000Z</published>
    <updated>2024-05-18T13:09:27.624Z</updated>
    
    <content type="html"><![CDATA[<p>不知道是不是内存不够的原因，Mac 上面的「邮件」APP 老是自动退出，这就有点难受了，我没法及时收到邮件呀。</p><p>目前我的解决方案是，通过一个定时脚本，每个小时运行一次，检查一下「邮件」APP 是否在运行，如果不是，就打开运行。</p><p>下面是脚本内容。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line"># 检查邮件应用程序是否在运行</span><br><span class="line">if ! pgrep -x &quot;Mail&quot; &gt; /dev/null</span><br><span class="line">then</span><br><span class="line">    echo &quot;Mail app is not running. Starting Mail app...&quot;</span><br><span class="line">    open -a &quot;Mail&quot;</span><br><span class="line">    sleep 5  # 等待邮件应用程序完全启动</span><br><span class="line"></span><br><span class="line">else</span><br><span class="line">    echo &quot;Mail app is already running.&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p>我把它写到 <code>$HOME/code/check_mail.sh</code> 里面，然后赋予它执行权限。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chmod +x $HOME/code/check_mail.sh</span><br></pre></td></tr></table></figure><p>之后 crontab 里面添加这一行内容</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">8 * * * * $HOME/code/check_mail.sh &gt;&gt; /tmp/check-mail.log</span><br></pre></td></tr></table></figure><p>这样每个小时的第 8 分钟，脚本就会运行一次。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;不知道是不是内存不够的原因，Mac 上面的「邮件」APP 老是自动退出，这就有点难受了，我没法及时收到邮件呀。&lt;/p&gt;
&lt;p&gt;目前我的解决方案是，通过一个定时脚本，每个小时运行一次，检查一下「邮件」APP 是否在运行，如果不是，就打开运行。&lt;/p&gt;
&lt;p&gt;下面是脚本内容。&lt;</summary>
      
    
    
    
    
    <category term="Mac" scheme="https://powersee.github.io/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>记一次清理 /var/lib/docker/</title>
    <link href="https://powersee.github.io/2024/04/clean-var-lib-docker/"/>
    <id>https://powersee.github.io/2024/04/clean-var-lib-docker/</id>
    <published>2024-04-27T03:24:44.000Z</published>
    <updated>2024-04-27T03:25:16.495Z</updated>
    
    <content type="html"><![CDATA[<p>最近发现服务器的可用空间又变零了，使用 ncdu 扫描一下全盘，发现还是 docker 占用的空间最多。</p><p>于是得来清理一下。</p><p>使用 docker 的内置命令</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ docker system df        </span><br><span class="line">TYPE            TOTAL     ACTIVE    SIZE      RECLAIMABLE</span><br><span class="line">Images          7         7         1.49GB    0B (0%)</span><br><span class="line">Containers      7         6         14.61MB   0B (0%)</span><br><span class="line">Local Volumes   2         2         219.1MB   0B (0%)</span><br><span class="line">Build Cache     63        0         1.089GB   1.089GB</span><br></pre></td></tr></table></figure><p>我这里找到了 1GB 多的构建缓存，我打算把它清除掉。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker builder prune</span><br></pre></td></tr></table></figure><p>清除完成后，再来看一下。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ docker system df    </span><br><span class="line">TYPE            TOTAL     ACTIVE    SIZE      RECLAIMABLE</span><br><span class="line">Images          7         7         1.49GB    0B (0%)</span><br><span class="line">Containers      7         6         14.61MB   0B (0%)</span><br><span class="line">Local Volumes   2         2         219.1MB   0B (0%)</span><br><span class="line">Build Cache     1         0         0B        0B</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;最近发现服务器的可用空间又变零了，使用 ncdu 扫描一下全盘，发现还是 docker 占用的空间最多。&lt;/p&gt;
&lt;p&gt;于是得来清理一下。&lt;/p&gt;
&lt;p&gt;使用 docker 的内置命令&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;tab</summary>
      
    
    
    
    
    <category term="Linux" scheme="https://powersee.github.io/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>使用 AppleScript 控制键盘按键</title>
    <link href="https://powersee.github.io/2024/04/mac-applescript-keyboard-control/"/>
    <id>https://powersee.github.io/2024/04/mac-applescript-keyboard-control/</id>
    <published>2024-04-26T13:39:37.000Z</published>
    <updated>2024-04-26T13:43:18.341Z</updated>
    
    <content type="html"><![CDATA[<p>macOS 有一个自带的 APP 叫「脚本编辑器」，我想使用它，来实现每三秒就按一下方向键右→</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">repeat</span><br><span class="line">tell application &quot;System Events&quot;</span><br><span class="line">key code 124</span><br><span class="line">end tell</span><br><span class="line">delay 3</span><br><span class="line">end repeat</span><br></pre></td></tr></table></figure><p><img src="/img/2024/applescript-key.webp" alt="applescript-key"></p><p>此时如果点击右上角的三角形图标 ▶，应该会报错。</p><blockquote><p>“System Events”遇到一个错误：“脚本编辑器”不允许发送按键。</p></blockquote><p>需要给它控制电脑的权限才行。在辅助功能里面，找到「脚本编辑器」然后打开，找不到可以像我这样直接搜索。</p><p><img src="/img/2024/crontrol-computer.webp" alt="crontrol-computer"></p><p>之后再来运行脚本，就可以实现目的了，每 3 秒就会按一下 右键。</p><p>后面再加入随机时间和通知</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">repeat</span><br><span class="line">    tell application &quot;System Events&quot;</span><br><span class="line">        key code 124</span><br><span class="line">    end tell</span><br><span class="line">    set randomDelay to (random number from 6 to 20)</span><br><span class="line">    display notification &quot;随机延迟时间为：&quot; &amp; randomDelay &amp; &quot; 秒&quot;</span><br><span class="line">    delay randomDelay</span><br><span class="line">end repeat</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;macOS 有一个自带的 APP 叫「脚本编辑器」，我想使用它，来实现每三秒就按一下方向键右→&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;lin</summary>
      
    
    
    
    
    <category term="Mac" scheme="https://powersee.github.io/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>CopyQ 在 Mac 上意外退出的解决方法</title>
    <link href="https://powersee.github.io/2024/04/mac-copyq-error/"/>
    <id>https://powersee.github.io/2024/04/mac-copyq-error/</id>
    <published>2024-04-01T06:03:10.000Z</published>
    <updated>2024-04-01T06:03:42.866Z</updated>
    
    <content type="html"><![CDATA[<p>CopyQ 是我目前正在使用的「剪贴板管理工具」，它是在 GitHub 上开源的软件：<a href="https://github.com/hluk/CopyQ">https://github.com/hluk/CopyQ</a></p><p>目前星星的数量有 7 千多。之前使用它的时候，官方还没有提供 Mac ARM 版，直接下载使用的是 Intel 版本。</p><p>所以我还去研究怎么自己编译，折腾一番之后，才使用上 Apple silicon 版本的 CopyQ。</p><p>刚才发现这软件打不开了，一运行就提示「意外退出」。</p><p><img src="/img/2024/CopyQ-error.webp" alt="CopyQ-error"></p><p>我想着去 <a href="https://github.com/hluk/CopyQ/releases">GitHub</a> 上下载新版本试试看，结果发现现在已经提供 M1 版本的了，于是下载试试看。</p><p>由于这软件没有签名，所以默认情况下是打不开的。需要使用终端执行</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo xattr -d com.apple.quarantine /Applications/CopyQ.app</span><br></pre></td></tr></table></figure><p>之后再尝试打开，发现还是会提示「意外退出」，和我之前的一样。。。</p><p>翻一下 issues，找到了<a href="https://github.com/hluk/CopyQ/issues/2652">解决方法</a></p><p>只需要在终端执行</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">codesign --force --deep --sign - /Applications/CopyQ.app</span><br></pre></td></tr></table></figure><p>就可以再次打开了。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;CopyQ 是我目前正在使用的「剪贴板管理工具」，它是在 GitHub 上开源的软件：&lt;a href=&quot;https://github.com/hluk/CopyQ&quot;&gt;https://github.com/hluk/CopyQ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;目前星星的数量有 7 千多</summary>
      
    
    
    
    
    <category term="Mac" scheme="https://powersee.github.io/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>Mac 使用终端命令打开和关闭应用</title>
    <link href="https://powersee.github.io/2024/03/mac-terminal-open-and-close-app/"/>
    <id>https://powersee.github.io/2024/03/mac-terminal-open-and-close-app/</id>
    <published>2024-03-23T04:31:59.000Z</published>
    <updated>2024-03-23T04:32:38.088Z</updated>
    
    <content type="html"><![CDATA[<p>打开，需要应用的完整路径和后缀</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">open /Applications/OBS.app</span><br></pre></td></tr></table></figure><p>关闭，只需要应用名</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">killall OBS</span><br></pre></td></tr></table></figure><p>既然可以用命令，来打开和关闭应用程序，那么结合定时任务，就能实现一些自动化操作。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;打开，需要应用的完整路径和后缀&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;open /Applications/OBS.app&lt;/s</summary>
      
    
    
    
    
    <category term="Mac" scheme="https://powersee.github.io/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>IINA 自定义倍速播放</title>
    <link href="https://powersee.github.io/2024/03/iina-custom-speed/"/>
    <id>https://powersee.github.io/2024/03/iina-custom-speed/</id>
    <published>2024-03-21T04:54:59.000Z</published>
    <updated>2024-03-21T04:55:52.992Z</updated>
    
    <content type="html"><![CDATA[<p>IINA 是我在 Mac 上的常用视频播放器。</p><p>不过它默认的倍速比较奇葩。速度都是相乘的，比如乘 2，那么第一次就是速度变为 2，再按一次就是变为 4。</p><p><img src="/img/2024/IINA-default.webp" alt="IINA-default"></p><p>我想要的是像 potplayer 那样，按一下就增加 0.1 的速度。</p><p>于是我复制多一份配置出来，然后双击相关的命令，就可以看到快捷键被按下后，后台执行的具体命令。</p><p>例如这个「速度 乘 1.1 倍」</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">multiply speed 1.1</span><br></pre></td></tr></table></figure><p>这种叫 mvp 命令，我第一次接触。那么试一下，把 multiply 改为 add 试试，果然可以。</p><p>于是我便手动添加两个快捷键。使用的是中括号这两颗按键 <code>[</code> <code>]</code>，如果改为使用 x 和 c 就和 potplayer 一样，看个人喜好了。</p><p><img src="/img/2024/IINA-custom.webp" alt="IINA-custom"></p><p>其中加速我们可以用 add，但减速用 sub 好像不行。后来看了下别人怎么配置，才意识到没必要，直接加一个负数就行。</p><p><img src="/img/2024/IINA-speed.webp" alt="IINA-speed"></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">add speed 0.1</span><br></pre></td></tr></table></figure><p>加速就简单 add 正数就行了。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;IINA 是我在 Mac 上的常用视频播放器。&lt;/p&gt;
&lt;p&gt;不过它默认的倍速比较奇葩。速度都是相乘的，比如乘 2，那么第一次就是速度变为 2，再按一次就是变为 4。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/2024/IINA-default.webp&quot; alt=&quot;II</summary>
      
    
    
    
    
    <category term="Mac" scheme="https://powersee.github.io/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>Mac 端 QQ 设置直接登录</title>
    <link href="https://powersee.github.io/2024/03/mac-qq-login/"/>
    <id>https://powersee.github.io/2024/03/mac-qq-login/</id>
    <published>2024-03-07T07:15:58.000Z</published>
    <updated>2024-03-07T07:17:55.750Z</updated>
    
    <content type="html"><![CDATA[<p>每次我在 Mac 上登录 QQ，都需要在手机上点击一下「允许登录」，有时甚至需要扫一下二维码才能登录。</p><p>这就很麻烦，如果只是第一次在新设备上登录，需要进行这样的验证，那我可以理解。问题是我都用这电脑登录好多次了。</p><p>解决方法</p><p>打开 QQ 后，点击 Mac 状态栏的左上角， 图标旁边的 QQ，选择 「设置」，来到「登录设置」。</p><p>将「下次登录无需在手机端确认」这个开关打开就行。</p><p><img src="/img/2024/mac-qq-login.webp" alt="mac-qq-login"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;每次我在 Mac 上登录 QQ，都需要在手机上点击一下「允许登录」，有时甚至需要扫一下二维码才能登录。&lt;/p&gt;
&lt;p&gt;这就很麻烦，如果只是第一次在新设备上登录，需要进行这样的验证，那我可以理解。问题是我都用这电脑登录好多次了。&lt;/p&gt;
&lt;p&gt;解决方法&lt;/p&gt;
&lt;p&gt;打开 Q</summary>
      
    
    
    
    
    <category term="Mac" scheme="https://powersee.github.io/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>再一次被坚果云气到</title>
    <link href="https://powersee.github.io/2024/02/jianguoyun/"/>
    <id>https://powersee.github.io/2024/02/jianguoyun/</id>
    <published>2024-02-26T03:19:00.000Z</published>
    <updated>2024-02-26T03:22:12.208Z</updated>
    
    <content type="html"><![CDATA[<p>今天再一次被坚果云气到。我平时制作的视频封面，都是一张张图片，我将它们都存到一个文件夹里。然后使用坚果云同步到云端。</p><p>其实主要是做一个备份，万一电脑真的出了问题，我还可以换设备，从网络上下载回来。</p><p>23 年的某一次更新，导致坚果云现在的同步文件夹，都只能在一个特定的文件夹下。例如我使用的是 Mac，它在 <code>$HOME/Library/CloudStorage/</code></p><p>而在此之前，我们的同步文件夹，是可以在其它地方的。比如我「下载」文件夹下有一个 A 文件夹，「文档」文件夹下有一个 B 文件夹，我是可以使用坚果云来同步 A 和 B 的。去年的这次更新我是很不满的，但是没办法了，不满也没用，忍着用呗，用着用着就习惯了。</p><p>现在说回来，我现在电脑有一个同步文件夹，存放的都是图片。图片放进去后，坚果云默认开启一个「不占用电脑空间」的功能。也就是把我图片上传云端后，就将图片从我电脑删除掉，那个位置只放一张缩略图。</p><p>比如原本是一张 1.8MB 的图片，这样操作后，剩一张 4KB 的缩略图。</p><p>这个功能是不错，可能对有些人来说非常有用。但是，我其实不怎么用得着。毕竟我没有存放一堆的图片，电脑给占用几百 MB 我不怎么在意。</p><p>所以我是想着关闭这个功能的，但是，它好像在 Windows 端才有关闭的功能。</p><p><img src="/img/2024/Not-occupy-Space.webp" alt="Not-occupy-Space"></p><p>来源：<a href="https://help.jianguoyun.com/?p=4220">官方帮助文档</a></p><p>Windows 右键文件夹后，有一个「保持离线可用」的功能。Mac 端没有。</p><p><img src="/img/2024/Mac-jianguoyun.webp" alt="Mac-jianguoyun"></p><p>不过我现在打字的时候发现，文件夹右边的云朵图标，应该就是「保持离线」。当然我之前也是点过它的，知道点击后可以把文件从云端下载到电脑。但是我怎么感觉，过段时间，它又会自动删除……</p><p>看来我并没有记错，通过 <a href="https://www.zhihu.com/question/371962536/answer/3144326216">知乎上其他网友</a> 的吐槽，坚果云真的会自动关闭「保持离线」这个功能的。</p><p>总之刚才我就先点击云朵☁️图标，把图片都下载电脑后，打算不同步这个文件夹了，这样坚果云应该就不会老是去删除了吧。</p><p>于是我打开坚果云的主界面，选择这个文件夹，然后点击「取消同步」。</p><p><img src="/img/2024/cancel-sync.webp" alt="cancel-sync"></p><p>结果尴尬的事情发生了，坚果云直接把这个文件夹里面的内容，从我的电脑里面，完全删除。。。跟我预期的完全不一样呀，我以为「取消同步」就是坚果云你以后不要再去管这个文件夹了。</p><p>但是软件它好像觉得，我不想要这个文件夹在我的电脑里了，有些无语。</p><p>没办法，我只能再次同步回来。这次就点击文件夹后面的云朵图标，希望它不会再删除我电脑里的图片吧。不过我也感觉这些图片只备份到坚果云，不怎么安全，说不定哪天又一个误操作，只能电脑和云端都删除了，所以还是复制一份到 NAS 里吧。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;今天再一次被坚果云气到。我平时制作的视频封面，都是一张张图片，我将它们都存到一个文件夹里。然后使用坚果云同步到云端。&lt;/p&gt;
&lt;p&gt;其实主要是做一个备份，万一电脑真的出了问题，我还可以换设备，从网络上下载回来。&lt;/p&gt;
&lt;p&gt;23 年的某一次更新，导致坚果云现在的同步文件夹</summary>
      
    
    
    
    
    <category term="随笔" scheme="https://powersee.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>如何复制 Windows 上无法选中的文字？Textify</title>
    <link href="https://powersee.github.io/2024/02/Textify/"/>
    <id>https://powersee.github.io/2024/02/Textify/</id>
    <published>2024-02-09T07:35:23.000Z</published>
    <updated>2024-02-09T07:36:18.002Z</updated>
    
    <content type="html"><![CDATA[<p>这是我 win10 电脑上的系统设置界面，这些文字并没有办法用鼠标选中。</p><p><img src="/img/2024/win-setting.webp" alt="win-setting"></p><p>所以我们想要复制这些文字也就做不到了。</p><p>而最近我发现了一个开源的应用 Textify，使用它就可以解决这个问题。</p><ul><li><a href="https://github.com/m417z/Textify">GitHub</a></li><li><a href="https://ramensoftware.com/textify">下载链接</a></li></ul><p>下载后需要安装，打开后软件长这样。可以看到默认的激活方式是 shift + 鼠标中键，也就是把鼠标滚轮按下去。</p><p><img src="/img/2024/Textify.png" alt="Textify"></p><p>鼠标指针来到需要复制的地方，激活一下，就可以复制了。</p><p><img src="/img/2024/Textify-win-text.webp" alt="Textify-win-text"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;这是我 win10 电脑上的系统设置界面，这些文字并没有办法用鼠标选中。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/2024/win-setting.webp&quot; alt=&quot;win-setting&quot;&gt;&lt;/p&gt;
&lt;p&gt;所以我们想要复制这些文字也就做不到了。&lt;/p&gt;
&lt;p&gt;而最</summary>
      
    
    
    
    
    <category term="Windows" scheme="https://powersee.github.io/tags/Windows/"/>
    
  </entry>
  
  <entry>
    <title>yt-dlp 使用心得（一）下载 YouTube 视频和音频</title>
    <link href="https://powersee.github.io/2024/01/yt-dlp-1/"/>
    <id>https://powersee.github.io/2024/01/yt-dlp-1/</id>
    <published>2024-01-19T03:47:05.000Z</published>
    <updated>2024-01-19T03:47:53.654Z</updated>
    
    <content type="html"><![CDATA[<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>我的使用环境是 macOS，使用 pip 安装。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pip3 install yt-dlp</span><br></pre></td></tr></table></figure><p>之后查看版本</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yt-dlp --version</span><br><span class="line">2023.12.30</span><br></pre></td></tr></table></figure><p>在我开启系统代理的情况下，我可以直接使用它，它会自动走代理。</p><p>如果把代理关掉，再来使用它，自然连接不上。会出现这样的警告。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">WARNING: [youtube] Unable to download webpage: (&lt;urllib3.connection.HTTPSConnection object at 0x10788cb10&gt;, &#x27;Connection to www.youtube.com timed out. (connect timeout=20.0)&#x27;)</span><br></pre></td></tr></table></figure><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>获取视频的结构（就是看它有哪些分辨率，哪些音频），使用大写的 F</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yt-dlp -F https://www.youtube.com/xxxxxxxxxxxxxxxxx</span><br></pre></td></tr></table></figure><p>不加任何参数（也就是上面的命令去掉 <code>-F</code>），会自动下载质量最高的视频和音频，然后将它们合并起来。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yt-dlp https://www.youtube.com/xxxxxxxxxxxxxxxxx</span><br></pre></td></tr></table></figure><p>当然我们也可以自由选择，例如我们不需要那么高分辨率的视频，我只要 720P 就够了之类的。那么可以序号相加的方式，例如</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yt-dlp -f 251+614 https://www.youtube.com/xxxxxxxxxxxxxxxxx</span><br></pre></td></tr></table></figure><h3 id="下载音频"><a href="#下载音频" class="headerlink" title="下载音频"></a>下载音频</h3><p>我个人有这样的需要，想要下载视频的音频部分。所以我了解到有这样的参数，<code>-x</code> 参数，可以用来提取音频。</p><p>不过我发现这样是把完整的视频下载之后，再从视频中把音频提取出来。然后再删除掉视频……</p><p>感觉不环保，我明明不需要视频部分，它下载之后只保留音频，再删掉视频……</p><p>当然也有只下载音频的方法，先用 <code>-F</code> 查询信息，然后选择想要的音频 id 就行，例如</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yt-dlp -f 251 https://www.youtube.com/xxxxxxxxxxxxxxxxx</span><br></pre></td></tr></table></figure><p>但是这样也比较麻烦，得先查询嘛。于是继续了解，发现可以使用 <code>-f ba</code> ，也就是 best audio 的首字母缩写，只下载质量最好的音频。</p><p>不过这样有时候下载的音频是 webm 格式的。</p><p>我观察了一个视频</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">233 mp4   audio only        │                  m3u8  │ audio only          unknown             Default</span><br><span class="line">234 mp4   audio only        │                  m3u8  │ audio only          unknown             Default</span><br><span class="line">599 m4a   audio only      2 │    2.50MiB   31k https │ audio only          mp4a.40.5   31k 22k ultralow, m4a_dash</span><br><span class="line">600 webm  audio only      2 │    2.70MiB   33k https │ audio only          opus        33k 48k ultralow, webm_dash</span><br><span class="line">139 m4a   audio only      2 │    3.96MiB   49k https │ audio only          mp4a.40.5   49k 22k low, m4a_dash</span><br><span class="line">249 webm  audio only      2 │    3.99MiB   49k https │ audio only          opus        49k 48k low, webm_dash</span><br><span class="line">250 webm  audio only      2 │    5.31MiB   65k https │ audio only          opus        65k 48k low, webm_dash</span><br><span class="line">140 m4a   audio only      2 │   10.51MiB  129k https │ audio only          mp4a.40.2  129k 44k medium, m4a_dash</span><br><span class="line">251 webm  audio only      2 │    9.83MiB  121k https │ audio only          opus       121k 48k medium, webm_dash</span><br></pre></td></tr></table></figure><p>只看它音频部分，其实质量最高的应该是 <code>140 m4a   audio only      2 │   10.51MiB  129k</code> 这个才对，不管是文件体积还是码率，它都是最大的。</p><p>但实际上使用 ba 参数，下载的是最高一项 webm 这个。难道是因为它是 48K 而上面的 m4a 是 44k 的？</p><p>那么我添加一个限制，排除掉 webm</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yt-dlp -f &#x27;bestaudio/best&#x27; --format &#x27;bestaudio[ext!=webm]&#x27;</span><br></pre></td></tr></table></figure><p>这样后面再加上视频链接即可。</p><p>然后我再写一个 alias，之后我只需要 「ya 视频链接」，就能下载一个视频的音频了。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alias ya=&quot;yt-dlp -f &#x27;bestaudio/best&#x27; --format &#x27;bestaudio[ext!=webm]&#x27;&quot;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;安装&quot;&gt;&lt;a href=&quot;#安装&quot; class=&quot;headerlink&quot; title=&quot;安装&quot;&gt;&lt;/a&gt;安装&lt;/h3&gt;&lt;p&gt;我的使用环境是 macOS，使用 pip 安装。&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;tabl</summary>
      
    
    
    
    
    <category term="下载" scheme="https://powersee.github.io/tags/%E4%B8%8B%E8%BD%BD/"/>
    
  </entry>
  
  <entry>
    <title>油猴脚本，给网站添加一个「粘贴」按钮</title>
    <link href="https://powersee.github.io/2024/01/downsub-tampermonkey/"/>
    <id>https://powersee.github.io/2024/01/downsub-tampermonkey/</id>
    <published>2024-01-13T03:42:42.000Z</published>
    <updated>2024-01-13T03:57:48.499Z</updated>
    
    <content type="html"><![CDATA[<p>之前的文章 <a href="/2024/01/youtube-bilibili-downsub/">如何下载 YouTube、bilibili 的视频字幕</a> 讲到，我通过 <a href="https://downsub.com/">https://downsub.com/</a> 这个网站来下载视频字幕。</p><p>这个网站使用起来很简单，粘贴视频链接，然后点击下载就行。但是我使用的频率还挺高的，所以想来研究一下怎么简化流程。</p><p>目前在研究，怎么在下载按钮的旁边，添加一个「粘贴」按钮。</p><p><img src="/img/2024/downsub-default-5046720.webp" alt="downsub-default"></p><p>分析一下这块地方的代码</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">data-v-d9168f7c</span>=<span class="string">&quot;&quot;</span> <span class="attr">justify</span>=<span class="string">&quot;center&quot;</span> <span class="attr">class</span>=<span class="string">&quot;text-center pb-0 col-sm-10 col-md-8 col-lg-8 col-xl-6 col-12&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!----&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">data-v-d9168f7c</span>=<span class="string">&quot;&quot;</span> <span class="attr">novalidate</span>=<span class="string">&quot;novalidate&quot;</span> <span class="attr">action</span>=<span class="string">&quot;/&quot;</span> <span class="attr">method</span>=<span class="string">&quot;GET&quot;</span> <span class="attr">class</span>=<span class="string">&quot;v-form&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!----&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-v-d9168f7c</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;v-input v-input--is-label-active v-input--is-dirty v-input--dense theme--dark v-text-field v-text-field--single-line v-text-field--solo v-text-field--solo-flat v-text-field--is-booted v-text-field--enclosed v-text-field--outlined v-text-field--placeholder&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;v-input__control&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;v-input__slot&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">fieldset</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">legend</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;notranslate&quot;</span>&gt;</span><span class="symbol">&amp;ZeroWidthSpace;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;v-text-field__slot&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">id</span>=<span class="string">&quot;input-34&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;输入链接以下载字幕。例：https://youtu.be/rN7yhDl1cuk&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;v-input__append-inner&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;v-input__icon v-input__icon--clear&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;clear icon&quot;</span> <span class="attr">class</span>=<span class="string">&quot;v-icon notranslate v-icon--link material-icons theme--dark&quot;</span>&gt;</span>clear<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;v-text-field__details&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;v-messages theme--dark&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;v-messages__wrapper&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;v-input__append-outer&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-v-d9168f7c</span>=<span class="string">&quot;&quot;</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mb-5 v-btn v-btn--has-bg theme--dark v-size--default primary&quot;</span> <span class="attr">style</span>=<span class="string">&quot;top: -5px;&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;v-btn__content&quot;</span>&gt;</span>下载 <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!----&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>下载按钮是这部分</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;v-input__append-outer&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-v-d9168f7c</span>=<span class="string">&quot;&quot;</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mb-5 v-btn v-btn--has-bg theme--dark v-size--default primary&quot;</span> <span class="attr">style</span>=<span class="string">&quot;top: -5px;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;v-btn__content&quot;</span>&gt;</span>下载 <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>我先在浏览器的控制台里面，选中 button 元素。此时这个 button 就是 $0</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> a = $0.<span class="title function_">cloneNode</span>(<span class="literal">true</span>);</span><br><span class="line">$0.<span class="property">parentNode</span>.<span class="property">parentNode</span>.<span class="title function_">appendChild</span>(a);</span><br></pre></td></tr></table></figure><p>使用这条命令可以复制一份。</p><p><img src="/img/2024/downsub-two-button.jpg" alt="downsub-two-button"></p><p>最终的油猴脚本内容</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ==UserScript==</span></span><br><span class="line"><span class="comment">// @name         给 downsub 添加粘贴按钮</span></span><br><span class="line"><span class="comment">// @namespace    http://tampermonkey.net/</span></span><br><span class="line"><span class="comment">// @version      1.0</span></span><br><span class="line"><span class="comment">// @description  try to take over the world!</span></span><br><span class="line"><span class="comment">// @author       powersee</span></span><br><span class="line"><span class="comment">// @match        https://downsub.com/*</span></span><br><span class="line"><span class="comment">// @icon         https://www.google.com/s2/favicons?sz=64&amp;domain=downsub.com</span></span><br><span class="line"><span class="comment">// @grant        GM_setClipboard</span></span><br><span class="line"><span class="comment">// ==/UserScript==</span></span><br><span class="line"></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="string">&#x27;use strict&#x27;</span>;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;load&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> downloadButton = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.v-btn--has-bg.primary&#x27;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (downloadButton) &#123;</span><br><span class="line">            <span class="keyword">const</span> pasteButton = downloadButton.<span class="title function_">cloneNode</span>(<span class="literal">true</span>);</span><br><span class="line">            pasteButton.<span class="property">innerHTML</span> = <span class="string">&#x27;粘贴&#x27;</span>;</span><br><span class="line">            pasteButton.<span class="property">type</span> = <span class="string">&#x27;button&#x27;</span>;</span><br><span class="line">            pasteButton.<span class="property">style</span>.<span class="property">left</span> = <span class="string">&#x27;0.2em&#x27;</span>;</span><br><span class="line">            pasteButton.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">const</span> inputField = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;input[name=&quot;url&quot;]&#x27;</span>);</span><br><span class="line">                <span class="keyword">if</span> (inputField) &#123;</span><br><span class="line">                    navigator.<span class="property">clipboard</span>.<span class="title function_">readText</span>().<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">clipboardText</span>) &#123;</span><br><span class="line">                        inputField.<span class="title function_">addEventListener</span>(<span class="string">&#x27;input&#x27;</span>, <span class="variable language_">console</span>.<span class="property">log</span>, <span class="literal">false</span>);</span><br><span class="line">                        inputField.<span class="property">value</span> = clipboardText;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">var</span> evt = <span class="variable language_">document</span>.<span class="title function_">createEvent</span>(<span class="string">&quot;HTMLEvents&quot;</span>);</span><br><span class="line">                        evt.<span class="title function_">initEvent</span>(<span class="string">&quot;input&quot;</span>, <span class="literal">false</span>, <span class="literal">false</span>);</span><br><span class="line">                        inputField.<span class="title function_">dispatchEvent</span>(evt);</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">            downloadButton.<span class="property">parentNode</span>.<span class="title function_">appendChild</span>(pasteButton);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>代码对网页的改变就是多了一个粘贴按钮。以后我不用去点击输入框，只需要先点一下「粘贴」，然后再点击「下载」就行。</p><p><img src="/img/2024/downsub-new-button.webp" alt="downsub-new-button"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;之前的文章 &lt;a href=&quot;/2024/01/youtube-bilibili-downsub/&quot;&gt;如何下载 YouTube、bilibili 的视频字幕&lt;/a&gt; 讲到，我通过 &lt;a href=&quot;https://downsub.com/&quot;&gt;https://downsub.</summary>
      
    
    
    
    
    <category term="JavaScript" scheme="https://powersee.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>服务器高频读取，导致连 ssh 都连接不上</title>
    <link href="https://powersee.github.io/2024/01/vps-high-io/"/>
    <id>https://powersee.github.io/2024/01/vps-high-io/</id>
    <published>2024-01-12T12:18:08.000Z</published>
    <updated>2024-01-12T12:19:10.052Z</updated>
    
    <content type="html"><![CDATA[<p>之前服务器有时候 ssh 连接不上，我以为是网络问题。因为毕竟连搭建在上面的网站都访问不了，但是后来测试开梯子，还是访问不了，又感觉不像是网络问题。</p><p>而最近我终于发现问题所在了,是系统磁盘高频读取导致的。我通过腾讯云的后台实时监控，发现在「系统盘 IO」这里，读取能达到 100 多 MB 每秒，并且是一条直线的。</p><p>而平时服务器正常时的监控图表是这样的</p><p><img src="/img/2024/Tencent-cloud-monitoring-shadow.webp" alt="Tencent-cloud-monitoring-shadow"></p><p>而且读取达到 100 多 MB 时，左侧的带宽使用基本是 0。那么应该不是在往外传东西。其实就算是在往外传，也不可能读取达到这么高。因为这轻量应用服务器的带宽是（峰值带宽：30Mbps）</p><p><img src="/img/2024/Tencent-cloud-monitoring-io-shadow.webp" alt="Tencent-cloud-monitoring-io-shadow"></p><p>那导致 io 这么高的原因是什么呢？其实我也没查到，因为这时我压根没法 ssh 连接上去，查看不了。</p><p>不过我搜索一下，发现也有其他人遇到这种问题。</p><p><a href="https://developer.aliyun.com/ask/237165">阿里云 系统磁盘总读BPS 突然增长很高，导致网站502 Bad Gateway</a></p><p>我猜问题应该是内存不够用导致的，使用 htop 查看一下，平时的内存使用率就很高了。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CPU[|||||||                  19.2%]   Tasks: 81, 342 thr; 1 running</span><br><span class="line">Mem[|||||||||||||||||||||786M/970M]   Load average: 0.12 0.13 0.10</span><br><span class="line">Swp[                         0K/0K]   Uptime: 2 days, 00:03:35</span><br></pre></td></tr></table></figure><p>遇到这种情况呢，其实重启一下服务器，是可以解决问题的，但是使用一段时间后又会复发。而且每次都要登录腾讯云后台去重启，也挺麻烦的。</p><p>目前我强制重启之后，连接上服务器，然后添加 1GB 的 swap 交换文件。试试看这样能否解决问题吧。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CPU[|||||                    12.6%]   Tasks: 83, 332 thr; 1 running</span><br><span class="line">Mem[|||||||||||||||||||||387M/970M]   Load average: 0.17 0.08 0.08</span><br><span class="line">Swp[||||||||||||        397M/1024M]   Uptime: 2 days, 06:59:42</span><br></pre></td></tr></table></figure><p>问题好像解决了，运行了两天多，没出现连接不上的情况。添加 swap 之后，内存有一部分分摊到 swp 里。看来内存小的服务器，开启 swap 还是挺有必要的。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;之前服务器有时候 ssh 连接不上，我以为是网络问题。因为毕竟连搭建在上面的网站都访问不了，但是后来测试开梯子，还是访问不了，又感觉不像是网络问题。&lt;/p&gt;
&lt;p&gt;而最近我终于发现问题所在了,是系统磁盘高频读取导致的。我通过腾讯云的后台实时监控，发现在「系统盘 IO」这里，</summary>
      
    
    
    
    
    <category term="Linux" scheme="https://powersee.github.io/tags/Linux/"/>
    
    <category term="服务器" scheme="https://powersee.github.io/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>自建 RSS 订阅服务 miniflux</title>
    <link href="https://powersee.github.io/2024/01/docker-miniflux/"/>
    <id>https://powersee.github.io/2024/01/docker-miniflux/</id>
    <published>2024-01-11T02:53:44.000Z</published>
    <updated>2024-01-11T02:54:36.677Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/miniflux/v2">miniflux</a> 是一个可自建的 rss 服务。在 GitHub 上面有 5k 多颗星⭐️。</p><p><img src="/img/2024/miniflux.webp" alt="miniflux"></p><p>界面看起来挺朴素的。</p><p>miniflux 需要使用 postgresql 数据库，且只支持这一个。最简单的搭建方法是使用 docker compose。</p><p>官方文档：<a href="https://miniflux.app/docs/docker.html">Miniflux Installation with Docker</a></p><p>里面给的 compose 文件内容，新建一个 docker-compose.yaml 文件，把下面的内容粘贴进去。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">services:</span><br><span class="line">  miniflux:</span><br><span class="line">    image: miniflux/miniflux:latest</span><br><span class="line">    ports:</span><br><span class="line">      - &quot;80:8080&quot;</span><br><span class="line">    depends_on:</span><br><span class="line">      db:</span><br><span class="line">        condition: service_healthy</span><br><span class="line">    environment:</span><br><span class="line">      - DATABASE_URL=postgres://miniflux:secret@db/miniflux?sslmode=disable</span><br><span class="line">      - RUN_MIGRATIONS=1</span><br><span class="line">      - CREATE_ADMIN=1</span><br><span class="line">      - ADMIN_USERNAME=admin</span><br><span class="line">      - ADMIN_PASSWORD=test123</span><br><span class="line">  db:</span><br><span class="line">    image: postgres:15</span><br><span class="line">    environment:</span><br><span class="line">      - POSTGRES_USER=miniflux</span><br><span class="line">      - POSTGRES_PASSWORD=secret</span><br><span class="line">      - POSTGRES_DB=miniflux</span><br><span class="line">    volumes:</span><br><span class="line">      - miniflux-db:/var/lib/postgresql/data</span><br><span class="line">    healthcheck:</span><br><span class="line">      test: [&quot;CMD&quot;, &quot;pg_isready&quot;, &quot;-U&quot;, &quot;miniflux&quot;]</span><br><span class="line">      interval: 10s</span><br><span class="line">      start_period: 30s</span><br><span class="line">volumes:</span><br><span class="line">  miniflux-db:</span><br></pre></td></tr></table></figure><p>如果我们的 80 端口已经被使用了，就修改一下上面的 80 为其它数字。</p><p>之后保存退出，然后执行一下</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure><p>我之前的 RSS 订阅是使用 inoreader，一直是免费使用，没充过钱。不过越来越多的网站 rss 订阅只给出一点内容，每次查看需要去再次加载，比较麻烦。</p><p>而 miniflux 有一个功能，在设置「源」的地方，有一个「抓取全文内容」的选项，把它勾选上☑️，就能抓取像少数派这类网站的全文了。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://github.com/miniflux/v2&quot;&gt;miniflux&lt;/a&gt; 是一个可自建的 rss 服务。在 GitHub 上面有 5k 多颗星⭐️。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/2024/miniflux.webp&quot; alt</summary>
      
    
    
    
    
    <category term="docker" scheme="https://powersee.github.io/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>达芬奇小技巧，使用鼠标滚轮左右滑动时间线</title>
    <link href="https://powersee.github.io/2024/01/davinci-timeline-mouse-wheel/"/>
    <id>https://powersee.github.io/2024/01/davinci-timeline-mouse-wheel/</id>
    <published>2024-01-10T06:57:40.000Z</published>
    <updated>2024-01-10T06:58:15.277Z</updated>
    
    <content type="html"><![CDATA[<p>默认情况下，我们在达芬奇的时间线上，拨动鼠标滚轮，是上下移动时间线。</p><p>如果想要左右移动，需要按住 command 再拨动滚轮。（Windows 上应该是按住 Ctrl 键）</p><p>只要我们进入设置，在「用户」、「UI 设置」里面，关掉「2D 时间线滚动」。</p><p><img src="/img/2024/DaVinci-ui-setting-timeline.webp" alt="DaVinci-ui-setting-timeline"></p><p>就可以在时间线直接使用滚轮来左右滚动了。</p><p>此时想要上下滚动时间线，得按住滚轮，再来上下移动鼠标。其实左右移动也可以，按住滚轮的时候，有点像之前使用触摸板。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;默认情况下，我们在达芬奇的时间线上，拨动鼠标滚轮，是上下移动时间线。&lt;/p&gt;
&lt;p&gt;如果想要左右移动，需要按住 command 再拨动滚轮。（Windows 上应该是按住 Ctrl 键）&lt;/p&gt;
&lt;p&gt;只要我们进入设置，在「用户」、「UI 设置」里面，关掉「2D 时间线滚动</summary>
      
    
    
    
    
    <category term="视频" scheme="https://powersee.github.io/tags/%E8%A7%86%E9%A2%91/"/>
    
  </entry>
  
  <entry>
    <title>如何查看 Mac 电脑的硬盘使用时间？</title>
    <link href="https://powersee.github.io/2024/01/mac-disk-power-on-hours/"/>
    <id>https://powersee.github.io/2024/01/mac-disk-power-on-hours/</id>
    <published>2024-01-09T05:20:07.000Z</published>
    <updated>2024-01-09T05:21:03.208Z</updated>
    
    <content type="html"><![CDATA[<p>Windows 上面我们想要查看硬盘的使用时间，很多人会选择 CrystalDiskInfo</p><p><img src="/img/2024/disk-info.png" alt="disk-info"></p><p>那么在 Mac 上要怎么查看呢？我见过有人使用一款叫「DriveDx」的软件，可以查看很多硬盘信息。</p><p><img src="/img/2024/DriveDx-2-drives-dashboard.webp" alt="DriveDx-2-drives-dashboard"></p><p>但是这是一款付费软件，官网查了一下，个人版的费用是 19.99 美元。虽然可以下载后免费试用一段时间，不过我还是不想去尝试。</p><p>我使用免费的命令行工具 smartctl</p><p>在电脑有安装 homebrew 的情况下，用 brew 就可以安装。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">brew install smartmontools</span><br></pre></td></tr></table></figure><p>装好之后，使用这条命令就可以查看硬盘信息</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">smartctl -a disk0</span><br></pre></td></tr></table></figure><p>这个我很久之前就有用，当时是为了查看硬盘的写入量。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">=== START OF SMART DATA SECTION ===</span><br><span class="line">SMART overall-health self-assessment test result: PASSED</span><br><span class="line"></span><br><span class="line">SMART/Health Information (NVMe Log 0x02)</span><br><span class="line">Critical Warning:                   0x00</span><br><span class="line">Temperature:                        37 Celsius</span><br><span class="line">Available Spare:                    100%</span><br><span class="line">Available Spare Threshold:          99%</span><br><span class="line">Percentage Used:                    3%</span><br><span class="line">Data Units Read:                    164,352,048 [84.1 TB]</span><br><span class="line">Data Units Written:                 84,019,304 [43.0 TB]</span><br><span class="line">Host Read Commands:                 3,608,721,339</span><br><span class="line">Host Write Commands:                1,345,245,922</span><br><span class="line">Controller Busy Time:               0</span><br><span class="line">Power Cycles:                       202</span><br><span class="line">Power On Hours:                     1,962</span><br><span class="line">Unsafe Shutdowns:                   75</span><br><span class="line">Media and Data Integrity Errors:    0</span><br><span class="line">Error Information Log Entries:      0</span><br></pre></td></tr></table></figure><p>下方的 Power On Hours 就是硬盘使用时长，我这硬盘居然使用了快 2000 小时。</p><p>这么看好像很多，但是我用计算器算一下，24 × 365 &#x3D; 8760</p><p>我这电脑都用两年多了，基本不关机。所以它这个时间估计是算电脑有亮屏的时间吧。电脑熄屏（不休眠）应该是不算进去的。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Windows 上面我们想要查看硬盘的使用时间，很多人会选择 CrystalDiskInfo&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/2024/disk-info.png&quot; alt=&quot;disk-info&quot;&gt;&lt;/p&gt;
&lt;p&gt;那么在 Mac 上要怎么查看呢？我见过有人使用一</summary>
      
    
    
    
    
    <category term="Mac" scheme="https://powersee.github.io/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>如何下载 YouTube、bilibili 的视频字幕</title>
    <link href="https://powersee.github.io/2024/01/youtube-bilibili-downsub/"/>
    <id>https://powersee.github.io/2024/01/youtube-bilibili-downsub/</id>
    <published>2024-01-07T17:01:05.000Z</published>
    <updated>2024-01-07T17:02:11.358Z</updated>
    
    <content type="html"><![CDATA[<p>下载 YouTube、bilibili 的视频，有很多的方案。但是要下载它们的字幕呢？</p><p>我目前找到的比较简单的方法，是通过一个网站。</p><p><a href="https://downsub.com/">https://downsub.com/</a></p><p>把视频链接粘贴到网站中的输入框就行。</p><p>我测试过 bilibili 的，手动上传的字幕可以，系统自动生成的字幕就没法下载。</p><p>而 YouTube 这边的支持就比较好，自动生成的字幕也可以下载。</p><p><img src="/img/2024/downsub.webp" alt="downsub"></p><p>下载的时候可以选择 srt 还是 txt。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;下载 YouTube、bilibili 的视频，有很多的方案。但是要下载它们的字幕呢？&lt;/p&gt;
&lt;p&gt;我目前找到的比较简单的方法，是通过一个网站。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://downsub.com/&quot;&gt;https://downsub.com/&lt;/a&gt;&lt;</summary>
      
    
    
    
    
    <category term="视频" scheme="https://powersee.github.io/tags/%E8%A7%86%E9%A2%91/"/>
    
  </entry>
  
  <entry>
    <title>检查更新 Mac 上的第三方应用 Latest</title>
    <link href="https://powersee.github.io/2024/01/mac-latest/"/>
    <id>https://powersee.github.io/2024/01/mac-latest/</id>
    <published>2024-01-07T12:00:36.000Z</published>
    <updated>2024-01-07T12:02:12.830Z</updated>
    
    <content type="html"><![CDATA[<p>最近发现一款不错的应用，可以用来更新 Mac 上面的 APP。</p><p>因为 Mac 自带的 APP Store 只能更新从里面下载的 APP。我们自己下载的第三方应用，或者用 homebrew 安装的应用，是没法在 APP Store 里面更新的。</p><p>而现在这个在 GitHub 上面开源的应用 <a href="https://github.com/mangerlahn/Latest">mangerlahn&#x2F;Latest: A small utility app for macOS that makes sure you know about all the latest updates to the apps you use.</a> 就可以很好地形成互补。</p><p>目前它在 GitHub 上面的 star 数量是两千多。<a href="https://github.com/mangerlahn/Latest/releases">Releases</a> 里面有提供 dmg 包下载，不过我电脑有装 homebrew，所以我直接使用命令行安装。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">brew install --cask latest</span><br></pre></td></tr></table></figure><p>APP 打开后的界面是这样的，左边显示有那些应用可以更新，点击之后会在右边显示更新日志。</p><p><img src="/img/2024/Latest.webp" alt="Latest"></p><p>而且它连 Mac 官方的应用都可以更新，例如我上图中的 keynote。</p><p>我感觉挺好的，其实我电脑里装了挺多开源软件，有些用 homebrew 安装的，有些是在 GitHub 下载的。如果软件自身没有检测更新的功能，可能我一直都不会去更新它。</p><p>现在有 latest 这个 APP 来帮忙检测和更新，确实方便多了。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;最近发现一款不错的应用，可以用来更新 Mac 上面的 APP。&lt;/p&gt;
&lt;p&gt;因为 Mac 自带的 APP Store 只能更新从里面下载的 APP。我们自己下载的第三方应用，或者用 homebrew 安装的应用，是没法在 APP Store 里面更新的。&lt;/p&gt;
&lt;p&gt;而</summary>
      
    
    
    
    
    <category term="Mac" scheme="https://powersee.github.io/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>达芬奇更改默认项目设置</title>
    <link href="https://powersee.github.io/2024/01/davinci-change-project-default-setting/"/>
    <id>https://powersee.github.io/2024/01/davinci-change-project-default-setting/</id>
    <published>2024-01-05T11:49:46.000Z</published>
    <updated>2024-01-05T11:51:07.570Z</updated>
    
    <content type="html"><![CDATA[<p>达芬奇 DaVinci 是我的主力剪辑软件。有一个困扰我已久的问题，最近终于找到了解决方案。</p><p>平常我新建一个项目时，如果我直接把视频素材拖进来，软件会提示我更改项目帧率。</p><blockquote><p>所选片段的帧率与项目帧率不同。您想要更改时间线帧率以和片段帧率匹配吗？</p></blockquote><p>这是因为默认的项目设置是 1080P 24 帧，我们点击右下角的齿轮⚙就可以看到。</p><p><img src="/img/2024/DaVinci-default-project.webp" alt="DaVinci-default-project"></p><p>我的视频基本没有 24 帧的，所以基本我每个项目都会弹出提示。</p><p>想要修改这里的默认设置也很简单，直接在这里改，例如我改为 59.94 帧，然后点击右上方的三个点 …</p><p><img src="/img/2024/DaVinci2.webp" alt="DaVinci2"></p><p>选择「将当前设置设定为默认预设…」就可以了。</p><p>其实我这么改，也不只是为了少点一下那个弹窗。更主要是为了避免，剪辑大半天才发现时间线帧数错了。</p><p>因为达芬奇时间线创建好之后，是没法再修改它的分辨率和帧数的。所以它默认 24 帧，如果我们拖进来视频，会提示我们帧数不同，但是如果拖进来的是图片、音频，就不会有提示。</p><p>我之前拍的视频基本是 50 帧的，有时候剪辑了大半段，才发现时间线是 24 帧。补救的方法是新建一条 50 帧的时间线，然后再把旧时间线上的内容，全选，然后复制粘贴到新的时间线上。</p><p>而现在我修改了默认项目设置，就可以避免这种情况了。</p><p>对了，以前我是拍 50 帧，但是现在我已经变了，改为 59.94 帧。因为前段时间<a href="https://www.bilibili.com/video/BV1hp4y1f7B5/">影视飓风的视频</a>说，用 29.97 和 59.94 会比用 25 和 50 帧好。</p><p>他们已经从 P 制改为用 N 制了，所以我也跟随潮流，才将达芬奇的项目设置改为 59.94。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;达芬奇 DaVinci 是我的主力剪辑软件。有一个困扰我已久的问题，最近终于找到了解决方案。&lt;/p&gt;
&lt;p&gt;平常我新建一个项目时，如果我直接把视频素材拖进来，软件会提示我更改项目帧率。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;所选片段的帧率与项目帧率不同。您想要更改时间线帧</summary>
      
    
    
    
    
    <category term="视频" scheme="https://powersee.github.io/tags/%E8%A7%86%E9%A2%91/"/>
    
  </entry>
  
  <entry>
    <title>网心云从端口限制型变回全锥型</title>
    <link href="https://powersee.github.io/2024/01/onething-nat-type/"/>
    <id>https://powersee.github.io/2024/01/onething-nat-type/</id>
    <published>2024-01-04T08:27:18.000Z</published>
    <updated>2024-01-04T08:28:29.513Z</updated>
    
    <content type="html"><![CDATA[<p>前段时间，家里一直运行网心云的 OEC 无端端变成「端口限制型」。这导致我每天的收益变少了。</p><p>但我也没去改家里的网络设置，怎么无缘无故就变了呢？不清楚，也找不到解决方案，就这样放着。</p><p>我个人名下是办理了两条宽带的，都是移动的。一条在我现在的住处，一条在我父母的住处。</p><p>两边的网络情况基本一样，都是自己修改光猫设置，改为桥接模式，然后使用京东路由器拨号上网。跑网心云的设备通过网线连接在路由器上。</p><p>之前两边的状态都是全锥型，而且 UPNP 都是可用。</p><p><img src="/img/2024/quanzhui-upnp-ok.jpg" alt="quanzhui-upnp-ok"></p><p>而现在我这边的设备变成了「端口限制型」且 UPNP 不可用。</p><p><img src="/img/2024/port-limit.jpg" alt="port-limit"></p><p>于是我进入路由器后台，看看是否我这边的路由器 UPNP 没开？结果发现一直开着的。</p><p>而且里面还有网心云设备的记录。</p><p>这时我看到 UPNP 旁边就是 DMZ，那我试试把网心云设备的 IP 填入到 DMZ 里面，然后点击保存。</p><p><img src="/img/2024/route-dmz.webp" alt="route-dmz"></p><p>过一会再去 APP 里面看网心云设备的状态。现在变回全锥型了，不过 UPNP 还是不可用。</p><p><img src="/img/2024/quanzhui-upnp-no.jpg" alt="quanzhui-upnp-no"></p><h2 id=""><a href="#" class="headerlink" title=""></a></h2>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;前段时间，家里一直运行网心云的 OEC 无端端变成「端口限制型」。这导致我每天的收益变少了。&lt;/p&gt;
&lt;p&gt;但我也没去改家里的网络设置，怎么无缘无故就变了呢？不清楚，也找不到解决方案，就这样放着。&lt;/p&gt;
&lt;p&gt;我个人名下是办理了两条宽带的，都是移动的。一条在我现在的住处，</summary>
      
    
    
    
    
    <category term="网络" scheme="https://powersee.github.io/tags/%E7%BD%91%E7%BB%9C/"/>
    
    <category term="路由器" scheme="https://powersee.github.io/tags/%E8%B7%AF%E7%94%B1%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>威联通的 qbittorrent 不支持 ipv6</title>
    <link href="https://powersee.github.io/2024/01/qnap-qbittorrent-ipv6/"/>
    <id>https://powersee.github.io/2024/01/qnap-qbittorrent-ipv6/</id>
    <published>2024-01-02T09:12:26.000Z</published>
    <updated>2024-01-02T09:16:08.813Z</updated>
    
    <content type="html"><![CDATA[<p>之前我使用威联通 nas 里的 qb 来下载资源，发现无法连接上种子的 tracker。我以为是 tracker 的问题，毕竟它是套了 cloudflare 的，在国内的访问确实有些问题。</p><p>但是后来我发现，怎么家里的黑群晖 nas 却可以正常下载。明明都是同一个局域网下，使用着同样的宽带，不应该呀。</p><p>经过一番排查，发现问题在于 ipv6。威联通和群晖上面的 qb，我都是使用套件安装的，但是群晖的支持 ipv6，而威联通的不支持。</p><p>所以同样的种子，在群晖上面的 qb 可以连接上 tracker，但是在威联通的 qb 就连接不上，无法下载。</p><h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>既然知道问题所在，那现在就让 qb 支持 ipv6 就行呗。但是我找不到让威联通 qnap 里的 qbittorrent 套件，支持 ipv6 的方法。</p><p>所以我的做法是不使用这个 qb，而是使用 docker 来运行 qb。而想要让 docker 容器支持 ipv6，最简单的方法就是使用 host 网络。</p><p>所以我使用这条命令来创建并运行 qb</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">  --name=qbittorrent \</span><br><span class="line">  -e PUID=1000 \</span><br><span class="line">  -e PGID=1000 \</span><br><span class="line">  -e TZ=Aisa/Shanghai \</span><br><span class="line">  -e WEBUI_PORT=8082 \</span><br><span class="line">  --network host \</span><br><span class="line">  -v /share/CACHEDEV1_DATA/Container/qbit:/config \</span><br><span class="line">  -v /share/CACHEDEV1_DATA/Download:/downloads \</span><br><span class="line">  --restart unless-stopped \</span><br><span class="line">  ghcr.io/linuxserver/qbittorrent</span><br></pre></td></tr></table></figure><p>完成之后 qb 应该就在运行中了。现在新版的 qb，已经不使用 adminadmin 来作为默认的密码了。我们需要通过容器的日志来查看默认密码。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#docker logs qbittorrent</span><br><span class="line"></span><br><span class="line">******** Information ********</span><br><span class="line">To control qBittorrent, access the WebUI at: http://localhost:8082</span><br><span class="line"></span><br><span class="line">The WebUI administrator username is: admin</span><br><span class="line">The WebUI administrator password was not set. </span><br><span class="line">A temporary password is provided for this session: S3powersee</span><br></pre></td></tr></table></figure><p>可以看到默认的用户名还是 admin，密码是随机生成的。使用它们进入 qb 的网页管理界面，然后到【设置】的 Web UI 里面，就可以修改密码。</p><p>之后我使用这个 docker 运行的 qb 来下载之前的种子，就可以正常下载了。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;之前我使用威联通 nas 里的 qb 来下载资源，发现无法连接上种子的 tracker。我以为是 tracker 的问题，毕竟它是套了 cloudflare 的，在国内的访问确实有些问题。&lt;/p&gt;
&lt;p&gt;但是后来我发现，怎么家里的黑群晖 nas 却可以正常下载。明明都是同一</summary>
      
    
    
    
    
    <category term="NAS" scheme="https://powersee.github.io/tags/NAS/"/>
    
    <category term="qnap" scheme="https://powersee.github.io/tags/qnap/"/>
    
  </entry>
  
</feed>
